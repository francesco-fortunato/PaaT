(self.webpackChunkpaat=self.webpackChunkpaat||[]).push([[179],{889:()=>{(()=>{var us={9705:(x,S,M)=>{"use strict";var P=M(1540);function T(j){var B=[1/0,1/0,-1/0,-1/0];return P.coordEach(j,function(W){B[0]>W[0]&&(B[0]=W[0]),B[1]>W[1]&&(B[1]=W[1]),B[2]<W[0]&&(B[2]=W[0]),B[3]<W[1]&&(B[3]=W[1])}),B}T.default=T,S.Z=T},4102:(x,S)=>{"use strict";function M(K,J,Y){void 0===Y&&(Y={});var N={type:"Feature"};return(0===Y.id||Y.id)&&(N.id=Y.id),Y.bbox&&(N.bbox=Y.bbox),N.properties=J||{},N.geometry=K,N}function P(K,J,Y){if(void 0===Y&&(Y={}),!K)throw new Error("coordinates is required");if(!Array.isArray(K))throw new Error("coordinates must be an Array");if(K.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!se(K[0])||!se(K[1]))throw new Error("coordinates must contain numbers");return M({type:"Point",coordinates:K},J,Y)}function T(K,J,Y){void 0===Y&&(Y={});for(var N=0,G=K;N<G.length;N++){var Q=G[N];if(Q.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var ge=0;ge<Q[Q.length-1].length;ge++)if(Q[Q.length-1][ge]!==Q[0][ge])throw new Error("First and last Position are not equivalent.")}return M({type:"Polygon",coordinates:K},J,Y)}function j(K,J,Y){if(void 0===Y&&(Y={}),K.length<2)throw new Error("coordinates must be an array of two or more positions");return M({type:"LineString",coordinates:K},J,Y)}function B(K,J){void 0===J&&(J={});var Y={type:"FeatureCollection"};return J.id&&(Y.id=J.id),J.bbox&&(Y.bbox=J.bbox),Y.features=K,Y}function W(K,J,Y){return void 0===Y&&(Y={}),M({type:"MultiLineString",coordinates:K},J,Y)}function ie(K,J,Y){return void 0===Y&&(Y={}),M({type:"MultiPoint",coordinates:K},J,Y)}function ue(K,J,Y){return void 0===Y&&(Y={}),M({type:"MultiPolygon",coordinates:K},J,Y)}function ve(K,J){void 0===J&&(J="kilometers");var Y=S.factors[J];if(!Y)throw new Error(J+" units is invalid");return K*Y}function re(K,J){void 0===J&&(J="kilometers");var Y=S.factors[J];if(!Y)throw new Error(J+" units is invalid");return K/Y}function q(K){return K%(2*Math.PI)*180/Math.PI}function se(K){return!isNaN(K)&&null!==K&&!Array.isArray(K)}Object.defineProperty(S,"__esModule",{value:!0}),S.earthRadius=6371008.8,S.factors={centimeters:100*S.earthRadius,centimetres:100*S.earthRadius,degrees:S.earthRadius/111325,feet:3.28084*S.earthRadius,inches:39.37*S.earthRadius,kilometers:S.earthRadius/1e3,kilometres:S.earthRadius/1e3,meters:S.earthRadius,metres:S.earthRadius,miles:S.earthRadius/1609.344,millimeters:1e3*S.earthRadius,millimetres:1e3*S.earthRadius,nauticalmiles:S.earthRadius/1852,radians:1,yards:1.0936*S.earthRadius},S.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/S.earthRadius,yards:1.0936133},S.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},S.feature=M,S.geometry=function(K,J,Y){switch(void 0===Y&&(Y={}),K){case"Point":return P(J).geometry;case"LineString":return j(J).geometry;case"Polygon":return T(J).geometry;case"MultiPoint":return ie(J).geometry;case"MultiLineString":return W(J).geometry;case"MultiPolygon":return ue(J).geometry;default:throw new Error(K+" is invalid")}},S.point=P,S.points=function(K,J,Y){return void 0===Y&&(Y={}),B(K.map(function(N){return P(N,J)}),Y)},S.polygon=T,S.polygons=function(K,J,Y){return void 0===Y&&(Y={}),B(K.map(function(N){return T(N,J)}),Y)},S.lineString=j,S.lineStrings=function(K,J,Y){return void 0===Y&&(Y={}),B(K.map(function(N){return j(N,J)}),Y)},S.featureCollection=B,S.multiLineString=W,S.multiPoint=ie,S.multiPolygon=ue,S.geometryCollection=function(K,J,Y){return void 0===Y&&(Y={}),M({type:"GeometryCollection",geometries:K},J,Y)},S.round=function(K,J){if(void 0===J&&(J=0),J&&!(J>=0))throw new Error("precision must be a positive number");var Y=Math.pow(10,J||0);return Math.round(K*Y)/Y},S.radiansToLength=ve,S.lengthToRadians=re,S.lengthToDegrees=function(K,J){return q(re(K,J))},S.bearingToAzimuth=function(K){var J=K%360;return J<0&&(J+=360),J},S.radiansToDegrees=q,S.degreesToRadians=function(K){return K%360*Math.PI/180},S.convertLength=function(K,J,Y){if(void 0===J&&(J="kilometers"),void 0===Y&&(Y="kilometers"),!(K>=0))throw new Error("length must be a positive number");return ve(re(K,J),Y)},S.convertArea=function(K,J,Y){if(void 0===J&&(J="meters"),void 0===Y&&(Y="kilometers"),!(K>=0))throw new Error("area must be a positive number");var N=S.areaFactors[J];if(!N)throw new Error("invalid original units");var G=S.areaFactors[Y];if(!G)throw new Error("invalid final units");return K/N*G},S.isNumber=se,S.isObject=function(K){return!!K&&K.constructor===Object},S.validateBBox=function(K){if(!K)throw new Error("bbox is required");if(!Array.isArray(K))throw new Error("bbox must be an Array");if(4!==K.length&&6!==K.length)throw new Error("bbox must be an Array of 4 or 6 numbers");K.forEach(function(J){if(!se(J))throw new Error("bbox must only contain numbers")})},S.validateId=function(K){if(!K)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof K))throw new Error("id must be a number or a string")}},1540:(x,S,M)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});var P=M(4102);function T(re,q,se){if(null!==re)for(var K,J,Y,N,G,Q,ge,Ce,De=0,Le=0,ke=re.type,Pe="FeatureCollection"===ke,Ae="Feature"===ke,at=Pe?re.features.length:1,Fe=0;Fe<at;Fe++){G=(Ce=!!(ge=Pe?re.features[Fe].geometry:Ae?re.geometry:re)&&"GeometryCollection"===ge.type)?ge.geometries.length:1;for(var $e=0;$e<G;$e++){var At=0,Se=0;if(null!==(N=Ce?ge.geometries[$e]:ge)){Q=N.coordinates;var ot=N.type;switch(De=!se||"Polygon"!==ot&&"MultiPolygon"!==ot?0:1,ot){case null:break;case"Point":if(!1===q(Q,Le,Fe,At,Se))return!1;Le++,At++;break;case"LineString":case"MultiPoint":for(K=0;K<Q.length;K++){if(!1===q(Q[K],Le,Fe,At,Se))return!1;Le++,"MultiPoint"===ot&&At++}"LineString"===ot&&At++;break;case"Polygon":case"MultiLineString":for(K=0;K<Q.length;K++){for(J=0;J<Q[K].length-De;J++){if(!1===q(Q[K][J],Le,Fe,At,Se))return!1;Le++}"MultiLineString"===ot&&At++,"Polygon"===ot&&Se++}"Polygon"===ot&&At++;break;case"MultiPolygon":for(K=0;K<Q.length;K++){for(Se=0,J=0;J<Q[K].length;J++){for(Y=0;Y<Q[K][J].length-De;Y++){if(!1===q(Q[K][J][Y],Le,Fe,At,Se))return!1;Le++}Se++}At++}break;case"GeometryCollection":for(K=0;K<N.geometries.length;K++)if(!1===T(N.geometries[K],q,se))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function j(re,q){var se;switch(re.type){case"FeatureCollection":for(se=0;se<re.features.length&&!1!==q(re.features[se].properties,se);se++);break;case"Feature":q(re.properties,0)}}function B(re,q){if("Feature"===re.type)q(re,0);else if("FeatureCollection"===re.type)for(var se=0;se<re.features.length&&!1!==q(re.features[se],se);se++);}function W(re,q){var se,K,J,Y,N,G,Q,ge,Ce,De,Le=0,ke="FeatureCollection"===re.type,Pe="Feature"===re.type,Ae=ke?re.features.length:1;for(se=0;se<Ae;se++){for(ge=ke?re.features[se].properties:Pe?re.properties:{},Ce=ke?re.features[se].bbox:Pe?re.bbox:void 0,De=ke?re.features[se].id:Pe?re.id:void 0,N=(Q=!!(G=ke?re.features[se].geometry:Pe?re.geometry:re)&&"GeometryCollection"===G.type)?G.geometries.length:1,J=0;J<N;J++)if(null!==(Y=Q?G.geometries[J]:G))switch(Y.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===q(Y,Le,ge,Ce,De))return!1;break;case"GeometryCollection":for(K=0;K<Y.geometries.length;K++)if(!1===q(Y.geometries[K],Le,ge,Ce,De))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===q(null,Le,ge,Ce,De))return!1;Le++}}function ie(re,q){W(re,function(se,K,J,Y,N){var G,Q=null===se?null:se.type;switch(Q){case null:case"Point":case"LineString":case"Polygon":return!1!==q(P.feature(se,J,{bbox:Y,id:N}),K,0)&&void 0}switch(Q){case"MultiPoint":G="Point";break;case"MultiLineString":G="LineString";break;case"MultiPolygon":G="Polygon"}for(var ge=0;ge<se.coordinates.length;ge++)if(!1===q(P.feature({type:G,coordinates:se.coordinates[ge]},J),K,ge))return!1})}function ue(re,q){ie(re,function(se,K,J){var Y=0;if(se.geometry){var N=se.geometry.type;if("Point"!==N&&"MultiPoint"!==N){var G,Q=0,ge=0,Ce=0;return!1!==T(se,function(De,Le,ke,Pe,Ae){if(void 0===G||K>Q||Pe>ge||Ae>Ce)return G=De,Q=K,ge=Pe,Ce=Ae,void(Y=0);var at=P.lineString([G,De],se.properties);if(!1===q(at,K,J,Ae,Y))return!1;Y++,G=De})&&void 0}}})}function ve(re,q){if(!re)throw new Error("geojson is required");ie(re,function(se,K,J){if(null!==se.geometry){var N=se.geometry.coordinates;switch(se.geometry.type){case"LineString":if(!1===q(se,K,J,0,0))return!1;break;case"Polygon":for(var G=0;G<N.length;G++)if(!1===q(P.lineString(N[G],se.properties),K,J,G))return!1}}})}S.coordAll=function(re){var q=[];return T(re,function(se){q.push(se)}),q},S.coordEach=T,S.coordReduce=function(re,q,se,K){var J=se;return T(re,function(Y,N,G,Q,ge){J=0===N&&void 0===se?Y:q(J,Y,N,G,Q,ge)},K),J},S.featureEach=B,S.featureReduce=function(re,q,se){var K=se;return B(re,function(J,Y){K=0===Y&&void 0===se?J:q(K,J,Y)}),K},S.findPoint=function(re,q){if(!P.isObject(q=q||{}))throw new Error("options is invalid");var se,K=q.featureIndex||0,J=q.multiFeatureIndex||0,Y=q.geometryIndex||0,N=q.coordIndex||0,G=q.properties;switch(re.type){case"FeatureCollection":K<0&&(K=re.features.length+K),G=G||re.features[K].properties,se=re.features[K].geometry;break;case"Feature":G=G||re.properties,se=re.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":se=re;break;default:throw new Error("geojson is invalid")}if(null===se)return null;var Q=se.coordinates;switch(se.type){case"Point":return P.point(Q,G,q);case"MultiPoint":return J<0&&(J=Q.length+J),P.point(Q[J],G,q);case"LineString":return N<0&&(N=Q.length+N),P.point(Q[N],G,q);case"Polygon":return Y<0&&(Y=Q.length+Y),N<0&&(N=Q[Y].length+N),P.point(Q[Y][N],G,q);case"MultiLineString":return J<0&&(J=Q.length+J),N<0&&(N=Q[J].length+N),P.point(Q[J][N],G,q);case"MultiPolygon":return J<0&&(J=Q.length+J),Y<0&&(Y=Q[J].length+Y),N<0&&(N=Q[J][Y].length-N),P.point(Q[J][Y][N],G,q)}throw new Error("geojson is invalid")},S.findSegment=function(re,q){if(!P.isObject(q=q||{}))throw new Error("options is invalid");var se,K=q.featureIndex||0,J=q.multiFeatureIndex||0,Y=q.geometryIndex||0,N=q.segmentIndex||0,G=q.properties;switch(re.type){case"FeatureCollection":K<0&&(K=re.features.length+K),G=G||re.features[K].properties,se=re.features[K].geometry;break;case"Feature":G=G||re.properties,se=re.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":se=re;break;default:throw new Error("geojson is invalid")}if(null===se)return null;var Q=se.coordinates;switch(se.type){case"Point":case"MultiPoint":return null;case"LineString":return N<0&&(N=Q.length+N-1),P.lineString([Q[N],Q[N+1]],G,q);case"Polygon":return Y<0&&(Y=Q.length+Y),N<0&&(N=Q[Y].length+N-1),P.lineString([Q[Y][N],Q[Y][N+1]],G,q);case"MultiLineString":return J<0&&(J=Q.length+J),N<0&&(N=Q[J].length+N-1),P.lineString([Q[J][N],Q[J][N+1]],G,q);case"MultiPolygon":return J<0&&(J=Q.length+J),Y<0&&(Y=Q[J].length+Y),N<0&&(N=Q[J][Y].length-N-1),P.lineString([Q[J][Y][N],Q[J][Y][N+1]],G,q)}throw new Error("geojson is invalid")},S.flattenEach=ie,S.flattenReduce=function(re,q,se){var K=se;return ie(re,function(J,Y,N){K=0===Y&&0===N&&void 0===se?J:q(K,J,Y,N)}),K},S.geomEach=W,S.geomReduce=function(re,q,se){var K=se;return W(re,function(J,Y,N,G,Q){K=0===Y&&void 0===se?J:q(K,J,Y,N,G,Q)}),K},S.lineEach=ve,S.lineReduce=function(re,q,se){var K=se;return ve(re,function(J,Y,N,G){K=0===Y&&void 0===se?J:q(K,J,Y,N,G)}),K},S.propEach=j,S.propReduce=function(re,q,se){var K=se;return j(re,function(J,Y){K=0===Y&&void 0===se?J:q(K,J,Y)}),K},S.segmentEach=ue,S.segmentReduce=function(re,q,se){var K=se,J=!1;return ue(re,function(Y,N,G,Q,ge){K=!1===J&&void 0===se?Y:q(K,Y,N,G,Q,ge),J=!0}),K}},5975:(x,S,M)=>{"use strict";M(7107);var P=M(2492),T=M.n(P);const j=JSON.parse('{"tooltips":{"placeMarker":"Click to place marker","firstVertex":"Click to place first vertex","continueLine":"Click to continue drawing","finishLine":"Click any existing marker to finish","finishPoly":"Click first marker to finish","finishRect":"Click to finish","startCircle":"Click to place circle center","finishCircle":"Click to finish circle","placeCircleMarker":"Click to place circle marker","placeText":"Click to place text"},"actions":{"finish":"Finish","cancel":"Cancel","removeLastVertex":"Remove Last Vertex"},"buttonTitles":{"drawMarkerButton":"Draw Marker","drawPolyButton":"Draw Polygons","drawLineButton":"Draw Polyline","drawCircleButton":"Draw Circle","drawRectButton":"Draw Rectangle","editButton":"Edit Layers","dragButton":"Drag Layers","cutButton":"Cut Layers","deleteButton":"Remove Layers","drawCircleMarkerButton":"Draw Circle Marker","snappingButton":"Snap dragged marker to other layers and vertices","pinningButton":"Pin shared vertices together","rotateButton":"Rotate Layers","drawTextButton":"Draw Text","scaleButton":"Scale Layers","autoTracingButton":"Auto trace Line"},"measurements":{"totalLength":"Length","segmentLength":"Segment length","area":"Area","radius":"Radius","perimeter":"Perimeter","height":"Height","width":"Width","coordinates":"Position","coordinatesMarker":"Position Marker"}}'),B=JSON.parse('{"tooltips":{"placeMarker":"Platziere den Marker mit Klick","firstVertex":"Platziere den ersten Marker mit Klick","continueLine":"Klicke, um weiter zu zeichnen","finishLine":"Beende mit Klick auf existierenden Marker","finishPoly":"Beende mit Klick auf ersten Marker","finishRect":"Beende mit Klick","startCircle":"Platziere das Kreiszentrum mit Klick","finishCircle":"Beende den Kreis mit Klick","placeCircleMarker":"Platziere den Kreismarker mit Klick","placeText":"Platziere den Text mit Klick"},"actions":{"finish":"Beenden","cancel":"Abbrechen","removeLastVertex":"Letzten Vertex l\xf6schen"},"buttonTitles":{"drawMarkerButton":"Marker zeichnen","drawPolyButton":"Polygon zeichnen","drawLineButton":"Polyline zeichnen","drawCircleButton":"Kreis zeichnen","drawRectButton":"Rechteck zeichnen","editButton":"Layer editieren","dragButton":"Layer bewegen","cutButton":"Layer schneiden","deleteButton":"Layer l\xf6schen","drawCircleMarkerButton":"Kreismarker zeichnen","snappingButton":"Bewegter Layer an andere Layer oder Vertexe einhacken","pinningButton":"Vertexe an der gleichen Position verkn\xfcpfen","rotateButton":"Layer drehen","drawTextButton":"Text zeichnen","scaleButton":"Layer skalieren","autoTracingButton":"Linie automatisch nachzeichen"},"measurements":{"totalLength":"L\xe4nge","segmentLength":"Segment L\xe4nge","area":"Fl\xe4che","radius":"Radius","perimeter":"Umfang","height":"H\xf6he","width":"Breite","coordinates":"Position","coordinatesMarker":"Position Marker"}}'),W=JSON.parse('{"tooltips":{"placeMarker":"Clicca per posizionare un Marker","firstVertex":"Clicca per posizionare il primo vertice","continueLine":"Clicca per continuare a disegnare","finishLine":"Clicca qualsiasi marker esistente per terminare","finishPoly":"Clicca il primo marker per terminare","finishRect":"Clicca per terminare","startCircle":"Clicca per posizionare il punto centrale del cerchio","finishCircle":"Clicca per terminare il cerchio","placeCircleMarker":"Clicca per posizionare un Marker del cherchio"},"actions":{"finish":"Termina","cancel":"Annulla","removeLastVertex":"Rimuovi l\'ultimo vertice"},"buttonTitles":{"drawMarkerButton":"Disegna Marker","drawPolyButton":"Disegna Poligoni","drawLineButton":"Disegna Polilinea","drawCircleButton":"Disegna Cerchio","drawRectButton":"Disegna Rettangolo","editButton":"Modifica Livelli","dragButton":"Sposta Livelli","cutButton":"Ritaglia Livelli","deleteButton":"Elimina Livelli","drawCircleMarkerButton":"Disegna Marker del Cerchio","snappingButton":"Snap ha trascinato il pennarello su altri strati e vertici","pinningButton":"Pin condiviso vertici insieme"}}'),ie=JSON.parse('{"tooltips":{"placeMarker":"Klik untuk menempatkan marker","firstVertex":"Klik untuk menempatkan vertex pertama","continueLine":"Klik untuk meneruskan digitasi","finishLine":"Klik pada sembarang marker yang ada untuk mengakhiri","finishPoly":"Klik marker pertama untuk mengakhiri","finishRect":"Klik untuk mengakhiri","startCircle":"Klik untuk menempatkan titik pusat lingkaran","finishCircle":"Klik untuk mengakhiri lingkaran","placeCircleMarker":"Klik untuk menempatkan penanda lingkarann"},"actions":{"finish":"Selesai","cancel":"Batal","removeLastVertex":"Hilangkan Vertex Terakhir"},"buttonTitles":{"drawMarkerButton":"Digitasi Marker","drawPolyButton":"Digitasi Polygon","drawLineButton":"Digitasi Polyline","drawCircleButton":"Digitasi Lingkaran","drawRectButton":"Digitasi Segi Empat","editButton":"Edit Layer","dragButton":"Geser Layer","cutButton":"Potong Layer","deleteButton":"Hilangkan Layer","drawCircleMarkerButton":"Digitasi Penanda Lingkaran","snappingButton":"Jepretkan penanda yang ditarik ke lapisan dan simpul lain","pinningButton":"Sematkan simpul bersama bersama"}}'),ue=JSON.parse('{"tooltips":{"placeMarker":"Adaug\u0103 un punct","firstVertex":"Apas\u0103 aici pentru a ad\u0103uga primul Vertex","continueLine":"Apas\u0103 aici pentru a continua desenul","finishLine":"Apas\u0103 pe orice obiect pentru a finisa desenul","finishPoly":"Apas\u0103 pe primul obiect pentru a finisa","finishRect":"Apas\u0103 pentru a finisa","startCircle":"Apas\u0103 pentru a desena un cerc","finishCircle":"Apas\u0103 pentru a finisa un cerc","placeCircleMarker":"Adaug\u0103 un punct"},"actions":{"finish":"Termin\u0103","cancel":"Anuleaz\u0103","removeLastVertex":"\u0218terge ultimul Vertex"},"buttonTitles":{"drawMarkerButton":"Adaug\u0103 o bulin\u0103","drawPolyButton":"Deseneaz\u0103 un poligon","drawLineButton":"Deseneaz\u0103 o linie","drawCircleButton":"Deseneaz\u0103 un cerc","drawRectButton":"Deseneaz\u0103 un dreptunghi","editButton":"Editeaz\u0103 straturile","dragButton":"Mut\u0103 straturile","cutButton":"Taie straturile","deleteButton":"\u0218terge straturile","drawCircleMarkerButton":"Deseneaz\u0103 marcatorul cercului","snappingButton":"Fixa\u021bi marcatorul glisat pe alte straturi \u0219i v\xe2rfuri","pinningButton":"Fixa\u021bi v\xe2rfurile partajate \xeempreun\u0103"}}'),ve=JSON.parse('{"tooltips":{"placeMarker":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u043d\u0435\u0441\u0442\u0438 \u043c\u0430\u0440\u043a\u0435\u0440","firstVertex":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u043d\u0435\u0441\u0442\u0438 \u043f\u0435\u0440\u0432\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442","continueLine":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u0440\u0438\u0441\u043e\u0432\u0430\u043d\u0438\u0435","finishLine":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043b\u044e\u0431\u043e\u0439 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u043c\u0430\u0440\u043a\u0435\u0440 \u0434\u043b\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f","finishPoly":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0435\u0440\u0432\u0443\u044e \u0442\u043e\u0447\u043a\u0443, \u0447\u0442\u043e\u0431\u044b \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c","finishRect":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c","startCircle":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0446\u0435\u043d\u0442\u0440 \u043a\u0440\u0443\u0433\u0430","finishCircle":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0437\u0430\u0434\u0430\u0442\u044c \u0440\u0430\u0434\u0438\u0443\u0441","placeCircleMarker":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u043d\u0435\u0441\u0442\u0438 \u043a\u0440\u0443\u0433\u043e\u0432\u043e\u0439 \u043c\u0430\u0440\u043a\u0435\u0440"},"actions":{"finish":"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c","cancel":"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c","removeLastVertex":"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435"},"buttonTitles":{"drawMarkerButton":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0430\u0440\u043a\u0435\u0440","drawPolyButton":"\u0420\u0438\u0441\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u0438\u0433\u043e\u043d","drawLineButton":"\u0420\u0438\u0441\u043e\u0432\u0430\u0442\u044c \u043a\u0440\u0438\u0432\u0443\u044e","drawCircleButton":"\u0420\u0438\u0441\u043e\u0432\u0430\u0442\u044c \u043a\u0440\u0443\u0433","drawRectButton":"\u0420\u0438\u0441\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a","editButton":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u043b\u043e\u0439","dragButton":"\u041f\u0435\u0440\u0435\u043d\u0435\u0441\u0442\u0438 \u0441\u043b\u043e\u0439","cutButton":"\u0412\u044b\u0440\u0435\u0437\u0430\u0442\u044c \u0441\u043b\u043e\u0439","deleteButton":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043b\u043e\u0439","drawCircleMarkerButton":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0440\u0443\u0433\u043e\u0432\u043e\u0439 \u043c\u0430\u0440\u043a\u0435\u0440","snappingButton":"\u041f\u0440\u0438\u0432\u044f\u0437\u0430\u0442\u044c \u043f\u0435\u0440\u0435\u0442\u0430\u0441\u043a\u0438\u0432\u0430\u0435\u043c\u044b\u0439 \u043c\u0430\u0440\u043a\u0435\u0440 \u043a \u0434\u0440\u0443\u0433\u0438\u043c \u0441\u043b\u043e\u044f\u043c \u0438 \u0432\u0435\u0440\u0448\u0438\u043d\u0430\u043c","pinningButton":"\u0421\u0432\u044f\u0437\u0430\u0442\u044c \u043e\u0431\u0449\u0438\u0435 \u0442\u043e\u0447\u043a\u0438 \u0432\u043c\u0435\u0441\u0442\u0435"}}'),re=JSON.parse('{"tooltips":{"placeMarker":"Presiona para colocar un marcador","firstVertex":"Presiona para colocar el primer v\xe9rtice","continueLine":"Presiona para continuar dibujando","finishLine":"Presiona cualquier marcador existente para finalizar","finishPoly":"Presiona el primer marcador para finalizar","finishRect":"Presiona para finalizar","startCircle":"Presiona para colocar el centro del c\xedrculo","finishCircle":"Presiona para finalizar el c\xedrculo","placeCircleMarker":"Presiona para colocar un marcador de c\xedrculo"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Eliminar \xfaltimo v\xe9rtice"},"buttonTitles":{"drawMarkerButton":"Dibujar Marcador","drawPolyButton":"Dibujar Pol\xedgono","drawLineButton":"Dibujar L\xednea","drawCircleButton":"Dibujar C\xedrculo","drawRectButton":"Dibujar Rect\xe1ngulo","editButton":"Editar Capas","dragButton":"Arrastrar Capas","cutButton":"Cortar Capas","deleteButton":"Eliminar Capas","drawCircleMarkerButton":"Dibujar Marcador de C\xedrculo","snappingButton":"El marcador de Snap arrastrado a otras capas y v\xe9rtices","pinningButton":"Fijar juntos los v\xe9rtices compartidos"}}'),q=JSON.parse('{"tooltips":{"placeMarker":"Klik om een marker te plaatsen","firstVertex":"Klik om het eerste punt te plaatsen","continueLine":"Klik om te blijven tekenen","finishLine":"Klik op een bestaand punt om te be\xebindigen","finishPoly":"Klik op het eerst punt om te be\xebindigen","finishRect":"Klik om te be\xebindigen","startCircle":"Klik om het middelpunt te plaatsen","finishCircle":"Klik om de cirkel te be\xebindigen","placeCircleMarker":"Klik om een marker te plaatsen"},"actions":{"finish":"Bewaar","cancel":"Annuleer","removeLastVertex":"Verwijder laatste punt"},"buttonTitles":{"drawMarkerButton":"Plaats Marker","drawPolyButton":"Teken een vlak","drawLineButton":"Teken een lijn","drawCircleButton":"Teken een cirkel","drawRectButton":"Teken een vierkant","editButton":"Bewerk","dragButton":"Verplaats","cutButton":"Knip","deleteButton":"Verwijder","drawCircleMarkerButton":"Plaats Marker","snappingButton":"Snap gesleepte marker naar andere lagen en hoekpunten","pinningButton":"Speld gedeelde hoekpunten samen"}}'),se=JSON.parse('{"tooltips":{"placeMarker":"Cliquez pour placer un marqueur","firstVertex":"Cliquez pour placer le premier sommet","continueLine":"Cliquez pour continuer \xe0 dessiner","finishLine":"Cliquez sur n\'importe quel marqueur pour terminer","finishPoly":"Cliquez sur le premier marqueur pour terminer","finishRect":"Cliquez pour terminer","startCircle":"Cliquez pour placer le centre du cercle","finishCircle":"Cliquez pour finir le cercle","placeCircleMarker":"Cliquez pour placer le marqueur circulaire"},"actions":{"finish":"Terminer","cancel":"Annuler","removeLastVertex":"Retirer le dernier sommet"},"buttonTitles":{"drawMarkerButton":"Placer des marqueurs","drawPolyButton":"Dessiner des polygones","drawLineButton":"Dessiner des polylignes","drawCircleButton":"Dessiner un cercle","drawRectButton":"Dessiner un rectangle","editButton":"\xc9diter des calques","dragButton":"D\xe9placer des calques","cutButton":"Couper des calques","deleteButton":"Supprimer des calques","drawCircleMarkerButton":"Dessiner un marqueur circulaire","snappingButton":"Glisser le marqueur vers d\'autres couches et sommets","pinningButton":"\xc9pingler ensemble les sommets partag\xe9s","rotateButton":"Tourner des calques"}}'),K=JSON.parse('{"tooltips":{"placeMarker":"\u5355\u51fb\u653e\u7f6e\u6807\u8bb0","firstVertex":"\u5355\u51fb\u653e\u7f6e\u9996\u4e2a\u9876\u70b9","continueLine":"\u5355\u51fb\u7ee7\u7eed\u7ed8\u5236","finishLine":"\u5355\u51fb\u4efb\u4f55\u5b58\u5728\u7684\u6807\u8bb0\u4ee5\u5b8c\u6210","finishPoly":"\u5355\u51fb\u7b2c\u4e00\u4e2a\u6807\u8bb0\u4ee5\u5b8c\u6210","finishRect":"\u5355\u51fb\u5b8c\u6210","startCircle":"\u5355\u51fb\u653e\u7f6e\u5706\u5fc3","finishCircle":"\u5355\u51fb\u5b8c\u6210\u5706\u5f62","placeCircleMarker":"\u70b9\u51fb\u653e\u7f6e\u5706\u5f62\u6807\u8bb0"},"actions":{"finish":"\u5b8c\u6210","cancel":"\u53d6\u6d88","removeLastVertex":"\u79fb\u9664\u6700\u540e\u7684\u9876\u70b9"},"buttonTitles":{"drawMarkerButton":"\u7ed8\u5236\u6807\u8bb0","drawPolyButton":"\u7ed8\u5236\u591a\u8fb9\u5f62","drawLineButton":"\u7ed8\u5236\u7ebf\u6bb5","drawCircleButton":"\u7ed8\u5236\u5706\u5f62","drawRectButton":"\u7ed8\u5236\u957f\u65b9\u5f62","editButton":"\u7f16\u8f91\u56fe\u5c42","dragButton":"\u62d6\u62fd\u56fe\u5c42","cutButton":"\u526a\u5207\u56fe\u5c42","deleteButton":"\u5220\u9664\u56fe\u5c42","drawCircleMarkerButton":"\u753b\u5706\u5708\u6807\u8bb0","snappingButton":"\u5c06\u62d6\u52a8\u7684\u6807\u8bb0\u6355\u6349\u5230\u5176\u4ed6\u56fe\u5c42\u548c\u9876\u70b9","pinningButton":"\u5c06\u5171\u4eab\u9876\u70b9\u56fa\u5b9a\u5728\u4e00\u8d77"}}'),J=JSON.parse('{"tooltips":{"placeMarker":"\u55ae\u64ca\u653e\u7f6e\u6a19\u8a18","firstVertex":"\u55ae\u64ca\u653e\u7f6e\u7b2c\u4e00\u500b\u9802\u9ede","continueLine":"\u55ae\u64ca\u7e7c\u7e8c\u7e6a\u88fd","finishLine":"\u55ae\u64ca\u4efb\u4f55\u5b58\u5728\u7684\u6a19\u8a18\u4ee5\u5b8c\u6210","finishPoly":"\u55ae\u64ca\u7b2c\u4e00\u500b\u6a19\u8a18\u4ee5\u5b8c\u6210","finishRect":"\u55ae\u64ca\u5b8c\u6210","startCircle":"\u55ae\u64ca\u653e\u7f6e\u5713\u5fc3","finishCircle":"\u55ae\u64ca\u5b8c\u6210\u5713\u5f62","placeCircleMarker":"\u9ede\u64ca\u653e\u7f6e\u5713\u5f62\u6a19\u8a18"},"actions":{"finish":"\u5b8c\u6210","cancel":"\u53d6\u6d88","removeLastVertex":"\u79fb\u9664\u6700\u5f8c\u4e00\u500b\u9802\u9ede"},"buttonTitles":{"drawMarkerButton":"\u653e\u7f6e\u6a19\u8a18","drawPolyButton":"\u7e6a\u88fd\u591a\u908a\u5f62","drawLineButton":"\u7e6a\u88fd\u7dda\u6bb5","drawCircleButton":"\u7e6a\u88fd\u5713\u5f62","drawRectButton":"\u7e6a\u88fd\u65b9\u5f62","editButton":"\u7de8\u8f2f\u5716\u5f62","dragButton":"\u79fb\u52d5\u5716\u5f62","cutButton":"\u88c1\u5207\u5716\u5f62","deleteButton":"\u522a\u9664\u5716\u5f62","drawCircleMarkerButton":"\u756b\u5713\u5708\u6a19\u8a18","snappingButton":"\u5c07\u62d6\u52d5\u7684\u6a19\u8a18\u5c0d\u9f4a\u5230\u5176\u4ed6\u5716\u5c64\u548c\u9802\u9ede","pinningButton":"\u5c07\u5171\u4eab\u9802\u9ede\u56fa\u5b9a\u5728\u4e00\u8d77"}}'),Y={en:j,de:B,it:W,id:ie,ro:ue,ru:ve,es:re,nl:q,fr:se,pt_br:JSON.parse('{"tooltips":{"placeMarker":"Clique para posicionar o marcador","firstVertex":"Clique para posicionar o primeiro v\xe9rtice","continueLine":"Clique para continuar desenhando","finishLine":"Clique em qualquer marcador existente para finalizar","finishPoly":"Clique no primeiro ponto para fechar o pol\xedgono","finishRect":"Clique para finalizar","startCircle":"Clique para posicionar o centro do c\xedrculo","finishCircle":"Clique para fechar o c\xedrculo","placeCircleMarker":"Clique para posicionar o marcador circular"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Remover \xfaltimo v\xe9rtice"},"buttonTitles":{"drawMarkerButton":"Desenhar um marcador","drawPolyButton":"Desenhar um pol\xedgono","drawLineButton":"Desenhar uma polilinha","drawCircleButton":"Desenhar um c\xedrculo","drawRectButton":"Desenhar um ret\xe2ngulo","editButton":"Editar camada(s)","dragButton":"Mover camada(s)","cutButton":"Recortar camada(s)","deleteButton":"Remover camada(s)","drawCircleMarkerButton":"Marcador de c\xedrculos de desenho","snappingButton":"Marcador arrastado para outras camadas e v\xe9rtices","pinningButton":"V\xe9rtices compartilhados de pinos juntos"}}'),zh:K,zh_tw:J,pl:JSON.parse('{"tooltips":{"placeMarker":"Kliknij, aby ustawi\u0107 znacznik","firstVertex":"Kliknij, aby ustawi\u0107 pierwszy punkt","continueLine":"Kliknij, aby kontynuowa\u0107 rysowanie","finishLine":"Kliknij dowolny punkt, aby zako\u0144czy\u0107","finishPoly":"Kliknij pierwszy punkt, aby zako\u0144czy\u0107","finishRect":"Kliknij, aby zako\u0144czy\u0107","startCircle":"Kliknij, aby ustawi\u0107 \u015brodek ko\u0142a","finishCircle":"Kliknij, aby zako\u0144czy\u0107 rysowanie ko\u0142a","placeCircleMarker":"Kliknij, aby ustawi\u0107 okr\u0105g\u0142y znacznik"},"actions":{"finish":"Zako\u0144cz","cancel":"Anuluj","removeLastVertex":"Usu\u0144 ostatni punkt"},"buttonTitles":{"drawMarkerButton":"Narysuj znacznik","drawPolyButton":"Narysuj wielok\u0105t","drawLineButton":"Narysuj \u015bcie\u017ck\u0119","drawCircleButton":"Narysuj ko\u0142o","drawRectButton":"Narysuj prostok\u0105t","editButton":"Edytuj","dragButton":"Przesu\u0144","cutButton":"Wytnij","deleteButton":"Usu\u0144","drawCircleMarkerButton":"Narysuj okr\u0105g\u0142y znacznik","snappingButton":"Snap przeci\u0105gni\u0119ty marker na inne warstwy i wierzcho\u0142ki","pinningButton":"Sworze\u0144 wsp\xf3lne wierzcho\u0142ki razem"}}'),sv:JSON.parse('{"tooltips":{"placeMarker":"Klicka f\xf6r att placera mark\xf6r","firstVertex":"Klicka f\xf6r att placera f\xf6rsta h\xf6rnet","continueLine":"Klicka f\xf6r att forts\xe4tta rita","finishLine":"Klicka p\xe5 en existerande punkt f\xf6r att slutf\xf6ra","finishPoly":"Klicka p\xe5 den f\xf6rsta punkten f\xf6r att slutf\xf6ra","finishRect":"Klicka f\xf6r att slutf\xf6ra","startCircle":"Klicka f\xf6r att placera cirkelns centrum","finishCircle":"Klicka f\xf6r att slutf\xf6ra cirkeln","placeCircleMarker":"Klicka f\xf6r att placera cirkelmark\xf6r"},"actions":{"finish":"Slutf\xf6r","cancel":"Avbryt","removeLastVertex":"Ta bort sista h\xf6rnet"},"buttonTitles":{"drawMarkerButton":"Rita Mark\xf6r","drawPolyButton":"Rita Polygoner","drawLineButton":"Rita Linje","drawCircleButton":"Rita Cirkel","drawRectButton":"Rita Rektangel","editButton":"Redigera Lager","dragButton":"Dra Lager","cutButton":"Klipp i Lager","deleteButton":"Ta bort Lager","drawCircleMarkerButton":"Rita Cirkelmark\xf6r","snappingButton":"Sn\xe4pp dra mark\xf6ren till andra lager och h\xf6rn","pinningButton":"F\xe4st delade h\xf6rn tillsammans"}}'),el:JSON.parse('{"tooltips":{"placeMarker":"\u039a\u03ac\u03bd\u03c4\u03b5 \u03ba\u03bb\u03b9\u03ba \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03c4\u03bf\u03c0\u03bf\u03b8\u03b5\u03c4\u03ae\u03c3\u03b5\u03c4\u03b5 \u0394\u03b5\u03af\u03ba\u03c4\u03b7","firstVertex":"\u039a\u03ac\u03bd\u03c4\u03b5 \u03ba\u03bb\u03b9\u03ba \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03c4\u03bf\u03c0\u03bf\u03b8\u03b5\u03c4\u03ae\u03c3\u03b5\u03c4\u03b5 \u03c4\u03bf \u03c0\u03c1\u03ce\u03c4\u03bf \u03c3\u03b7\u03bc\u03b5\u03af\u03bf","continueLine":"\u039a\u03ac\u03bd\u03c4\u03b5 \u03ba\u03bb\u03b9\u03ba \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03c3\u03c5\u03bd\u03b5\u03c7\u03af\u03c3\u03b5\u03c4\u03b5 \u03bd\u03b1 \u03c3\u03c7\u03b5\u03b4\u03b9\u03ac\u03b6\u03b5\u03c4\u03b5","finishLine":"\u039a\u03ac\u03bd\u03c4\u03b5 \u03ba\u03bb\u03b9\u03ba \u03c3\u03b5 \u03bf\u03c0\u03bf\u03b9\u03bf\u03bd\u03b4\u03ae\u03c0\u03bf\u03c4\u03b5 \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03bd \u03c3\u03b7\u03bc\u03b5\u03af\u03bf \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03c9\u03b8\u03b5\u03af","finishPoly":"\u039a\u03ac\u03bd\u03c4\u03b5 \u03ba\u03bb\u03b9\u03ba \u03c3\u03c4\u03bf \u03c0\u03c1\u03ce\u03c4\u03bf \u03c3\u03b7\u03bc\u03b5\u03af\u03bf \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03c4\u03b5\u03bb\u03b5\u03b9\u03ce\u03c3\u03b5\u03c4\u03b5","finishRect":"\u039a\u03ac\u03bd\u03c4\u03b5 \u03ba\u03bb\u03b9\u03ba \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03c4\u03b5\u03bb\u03b5\u03b9\u03ce\u03c3\u03b5\u03c4\u03b5","startCircle":"\u039a\u03ac\u03bd\u03c4\u03b5 \u03ba\u03bb\u03b9\u03ba \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03c4\u03bf\u03c0\u03bf\u03b8\u03b5\u03c4\u03ae\u03c3\u03b5\u03c4\u03b5 \u03ba\u03ad\u03bd\u03c4\u03c1\u03bf \u039a\u03cd\u03ba\u03bb\u03bf\u03c5","finishCircle":"\u039a\u03ac\u03bd\u03c4\u03b5 \u03ba\u03bb\u03b9\u03ba \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03bf\u03bd \u039a\u03cd\u03ba\u03bb\u03bf","placeCircleMarker":"\u039a\u03ac\u03bd\u03c4\u03b5 \u03ba\u03bb\u03b9\u03ba \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03c4\u03bf\u03c0\u03bf\u03b8\u03b5\u03c4\u03ae\u03c3\u03b5\u03c4\u03b5 \u039a\u03c5\u03ba\u03bb\u03b9\u03ba\u03cc \u0394\u03b5\u03af\u03ba\u03c4\u03b7"},"actions":{"finish":"\u03a4\u03ad\u03bb\u03bf\u03c2","cancel":"\u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7","removeLastVertex":"\u039a\u03b1\u03c4\u03ac\u03c1\u03b3\u03b7\u03c3\u03b7 \u03c4\u03b5\u03bb\u03b5\u03c5\u03c4\u03b1\u03af\u03bf\u03c5 \u03c3\u03b7\u03bc\u03b5\u03af\u03bf\u03c5"},"buttonTitles":{"drawMarkerButton":"\u03a3\u03c7\u03b5\u03b4\u03af\u03b1\u03c3\u03b7 \u0394\u03b5\u03af\u03ba\u03c4\u03b7","drawPolyButton":"\u03a3\u03c7\u03b5\u03b4\u03af\u03b1\u03c3\u03b7 \u03a0\u03bf\u03bb\u03c5\u03b3\u03ce\u03bd\u03bf\u03c5","drawLineButton":"\u03a3\u03c7\u03b5\u03b4\u03af\u03b1\u03c3\u03b7 \u0393\u03c1\u03b1\u03bc\u03bc\u03ae\u03c2","drawCircleButton":"\u03a3\u03c7\u03b5\u03b4\u03af\u03b1\u03c3\u03b7 \u039a\u03cd\u03ba\u03bb\u03bf\u03c5","drawRectButton":"\u03a3\u03c7\u03b5\u03b4\u03af\u03b1\u03c3\u03b7 \u039f\u03c1\u03b8\u03bf\u03b3\u03c9\u03bd\u03af\u03bf\u03c5","editButton":"\u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u0395\u03c0\u03b9\u03c0\u03ad\u03b4\u03c9\u03bd","dragButton":"\u039c\u03b5\u03c4\u03b1\u03c6\u03bf\u03c1\u03ac \u0395\u03c0\u03b9\u03c0\u03ad\u03b4\u03c9\u03bd","cutButton":"\u0391\u03c0\u03bf\u03ba\u03bf\u03c0\u03ae \u0395\u03c0\u03b9\u03c0\u03ad\u03b4\u03c9\u03bd","deleteButton":"\u039a\u03b1\u03c4\u03ac\u03c1\u03b3\u03b7\u03c3\u03b7 \u0395\u03c0\u03b9\u03c0\u03ad\u03b4\u03c9\u03bd","drawCircleMarkerButton":"\u03a3\u03c7\u03b5\u03b4\u03af\u03b1\u03c3\u03b7 \u039a\u03c5\u03ba\u03bb\u03b9\u03ba\u03bf\u03cd \u0394\u03b5\u03af\u03ba\u03c4\u03b7","snappingButton":"\u03a0\u03c1\u03bf\u03c3\u03ba\u03cc\u03bb\u03bb\u03b7\u03c3\u03b7 \u03c4\u03bf\u03c5 \u0394\u03b5\u03af\u03ba\u03c4\u03b7 \u03bc\u03b5\u03c4\u03b1\u03c6\u03bf\u03c1\u03ac\u03c2 \u03c3\u03b5 \u03ac\u03bb\u03bb\u03b1 \u0395\u03c0\u03af\u03c0\u03b5\u03b4\u03b1 \u03ba\u03b1\u03b9 \u039a\u03bf\u03c1\u03c5\u03c6\u03ad\u03c2","pinningButton":"\u03a0\u03b5\u03c1\u03b9\u03ba\u03bf\u03c0\u03ae \u03ba\u03bf\u03b9\u03bd\u03ce\u03bd \u03ba\u03bf\u03c1\u03c5\u03c6\u03ce\u03bd \u03bc\u03b1\u03b6\u03af"}}'),hu:JSON.parse('{"tooltips":{"placeMarker":"Kattintson a jel\xf6l\u0151 elhelyez\xe9s\xe9hez","firstVertex":"Kattintson az els\u0151 pont elhelyez\xe9s\xe9hez","continueLine":"Kattintson a k\xf6vetkez\u0151 pont elhelyez\xe9s\xe9hez","finishLine":"A befejez\xe9shez kattintson egy megl\xe9v\u0151 pontra","finishPoly":"A befejez\xe9shez kattintson az els\u0151 pontra","finishRect":"Kattintson a befejez\xe9shez","startCircle":"Kattintson a k\xf6r k\xf6z\xe9ppontj\xe1nak elhelyez\xe9s\xe9hez","finishCircle":"Kattintson a k\xf6r befejez\xe9s\xe9hez","placeCircleMarker":"Kattintson a k\xf6rjel\xf6l\u0151 elhelyez\xe9s\xe9hez"},"actions":{"finish":"Befejez\xe9s","cancel":"M\xe9gse","removeLastVertex":"Utols\xf3 pont elt\xe1vol\xedt\xe1sa"},"buttonTitles":{"drawMarkerButton":"Jel\xf6l\u0151 rajzol\xe1sa","drawPolyButton":"Poligon rajzol\xe1sa","drawLineButton":"Vonal rajzol\xe1sa","drawCircleButton":"K\xf6r rajzol\xe1sa","drawRectButton":"N\xe9gyzet rajzol\xe1sa","editButton":"Elemek szerkeszt\xe9se","dragButton":"Elemek mozgat\xe1sa","cutButton":"Elemek v\xe1g\xe1sa","deleteButton":"Elemek t\xf6rl\xe9se","drawCircleMarkerButton":"K\xf6r jel\xf6l\u0151 rajzol\xe1sa","snappingButton":"Kapcsolja a jel\xf6lt\u0151t m\xe1sik elemhez vagy ponthoz","pinningButton":"K\xf6z\xf6s pontok \xf6sszek\xf6t\xe9se"}}'),da:JSON.parse('{"tooltips":{"placeMarker":"Tryk for at placere en mark\xf8r","firstVertex":"Tryk for at placere det f\xf8rste punkt","continueLine":"Tryk for at forts\xe6tte linjen","finishLine":"Tryk p\xe5 et eksisterende punkt for at afslutte","finishPoly":"Tryk p\xe5 det f\xf8rste punkt for at afslutte","finishRect":"Tryk for at afslutte","startCircle":"Tryk for at placere cirklens center","finishCircle":"Tryk for at afslutte cirklen","placeCircleMarker":"Tryk for at placere en cirkelmark\xf8r"},"actions":{"finish":"Afslut","cancel":"Afbryd","removeLastVertex":"Fjern sidste punkt"},"buttonTitles":{"drawMarkerButton":"Placer mark\xf8r","drawPolyButton":"Tegn polygon","drawLineButton":"Tegn linje","drawCircleButton":"Tegn cirkel","drawRectButton":"Tegn firkant","editButton":"Rediger","dragButton":"Tr\xe6k","cutButton":"Klip","deleteButton":"Fjern","drawCircleMarkerButton":"Tegn cirkelmark\xf8r","snappingButton":"Fastg\xf8r trukket mark\xf8r til andre elementer","pinningButton":"Sammenl\xe6g delte elementer"}}'),no:JSON.parse('{"tooltips":{"placeMarker":"Klikk for \xe5 plassere punkt","firstVertex":"Klikk for \xe5 plassere f\xf8rste punkt","continueLine":"Klikk for \xe5 tegne videre","finishLine":"Klikk p\xe5 et eksisterende punkt for \xe5 fullf\xf8re","finishPoly":"Klikk f\xf8rste punkt for \xe5 fullf\xf8re","finishRect":"Klikk for \xe5 fullf\xf8re","startCircle":"Klikk for \xe5 sette sirkel midtpunkt","finishCircle":"Klikk for \xe5 fullf\xf8re sirkel","placeCircleMarker":"Klikk for \xe5 plassere sirkel"},"actions":{"finish":"Fullf\xf8r","cancel":"Kanseller","removeLastVertex":"Fjern forrige punkt"},"buttonTitles":{"drawMarkerButton":"Tegn Punkt","drawPolyButton":"Tegn Flate","drawLineButton":"Tegn Linje","drawCircleButton":"Tegn Sirkel","drawRectButton":"Tegn rektangel","editButton":"Rediger Objekter","dragButton":"Dra Objekter","cutButton":"Kutt Objekter","deleteButton":"Fjern Objekter","drawCircleMarkerButton":"Tegn sirkel-punkt","snappingButton":"Fest dratt punkt til andre objekter og punkt","pinningButton":"Pin delte punkt sammen"}}'),fa:JSON.parse('{"tooltips":{"placeMarker":"\u06a9\u0644\u06cc\u06a9 \u0628\u0631\u0627\u06cc \u062c\u0627\u0646\u0645\u0627\u06cc\u06cc \u0646\u0634\u0627\u0646","firstVertex":"\u06a9\u0644\u06cc\u06a9 \u0628\u0631\u0627\u06cc \u0631\u0633\u0645 \u0627\u0648\u0644\u06cc\u0646 \u0631\u0623\u0633","continueLine":"\u06a9\u0644\u06cc\u06a9 \u0628\u0631\u0627\u06cc \u0627\u062f\u0627\u0645\u0647 \u0631\u0633\u0645","finishLine":"\u06a9\u0644\u06cc\u06a9 \u0631\u0648\u06cc \u0647\u0631 \u0646\u0634\u0627\u0646 \u0645\u0648\u062c\u0648\u062f \u0628\u0631\u0627\u06cc \u067e\u0627\u06cc\u0627\u0646","finishPoly":"\u06a9\u0644\u06cc\u06a9 \u0631\u0648\u06cc \u0627\u0648\u0644\u06cc\u0646 \u0646\u0634\u0627\u0646 \u0628\u0631\u0627\u06cc \u067e\u0627\u06cc\u0627\u0646","finishRect":"\u06a9\u0644\u06cc\u06a9 \u0628\u0631\u0627\u06cc \u067e\u0627\u06cc\u0627\u0646","startCircle":"\u06a9\u0644\u06cc\u06a9 \u0628\u0631\u0627\u06cc \u0631\u0633\u0645 \u0645\u0631\u06a9\u0632 \u062f\u0627\u06cc\u0631\u0647","finishCircle":"\u06a9\u0644\u06cc\u06a9 \u0628\u0631\u0627\u06cc \u067e\u0627\u06cc\u0627\u0646 \u0631\u0633\u0645 \u062f\u0627\u06cc\u0631\u0647","placeCircleMarker":"\u06a9\u0644\u06cc\u06a9 \u0628\u0631\u0627\u06cc \u0631\u0633\u0645 \u0646\u0634\u0627\u0646 \u062f\u0627\u06cc\u0631\u0647","placeText":"\u06a9\u0644\u06cc\u06a9 \u0628\u0631\u0627\u06cc \u0646\u0648\u0634\u062a\u0646 \u0645\u062a\u0646"},"actions":{"finish":"\u067e\u0627\u06cc\u0627\u0646","cancel":"\u0644\u0641\u0648","removeLastVertex":"\u062d\u0630\u0641 \u0622\u062e\u0631\u06cc\u0646 \u0631\u0623\u0633"},"buttonTitles":{"drawMarkerButton":"\u062f\u0631\u062c \u0646\u0634\u0627\u0646","drawPolyButton":"\u0631\u0633\u0645 \u0686\u0646\u062f\u0636\u0644\u0639\u06cc","drawLineButton":"\u0631\u0633\u0645 \u062e\u0637","drawCircleButton":"\u0631\u0633\u0645 \u062f\u0627\u06cc\u0631\u0647","drawRectButton":"\u0631\u0633\u0645 \u0686\u0647\u0627\u0631\u0636\u0644\u0639\u06cc","editButton":"\u0648\u06cc\u0631\u0627\u06cc\u0634 \u0644\u0627\u06cc\u0647\u200c\u0647\u0627","dragButton":"\u062c\u0627\u0628\u062c\u0627\u06cc\u06cc \u0644\u0627\u06cc\u0647\u200c\u0647\u0627","cutButton":"\u0628\u0631\u0634 \u0644\u0627\u06cc\u0647\u200c\u0647\u0627","deleteButton":"\u062d\u0630\u0641 \u0644\u0627\u06cc\u0647\u200c\u0647\u0627","drawCircleMarkerButton":"\u0631\u0633\u0645 \u0646\u0634\u0627\u0646 \u062f\u0627\u06cc\u0631\u0647","snappingButton":"\u0646\u0634\u0627\u0646\u06af\u0631 \u0631\u0627 \u0628\u0647 \u0644\u0627\u06cc\u0647\u200c\u0647\u0627 \u0648 \u0631\u0626\u0648\u0633 \u062f\u06cc\u06af\u0631 \u0628\u06a9\u0634\u06cc\u062f","pinningButton":"\u0631\u0626\u0648\u0633 \u0645\u0634\u062a\u0631\u06a9 \u0631\u0627 \u0628\u0627 \u0647\u0645 \u067e\u06cc\u0646 \u06a9\u0646\u06cc\u062f","rotateButton":"\u0686\u0631\u062e\u0634 \u0644\u0627\u06cc\u0647","drawTextButton":"\u0631\u0633\u0645 \u0645\u062a\u0646"}}'),ua:JSON.parse('{"tooltips":{"placeMarker":"\u041d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c, \u0449\u043e\u0431 \u043d\u0430\u043d\u0435\u0441\u0442\u0438 \u043c\u0430\u0440\u043a\u0435\u0440","firstVertex":"\u041d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c, \u0449\u043e\u0431 \u043d\u0430\u043d\u0435\u0441\u0442\u0438 \u043f\u0435\u0440\u0448\u0443 \u0432\u0435\u0440\u0448\u0438\u043d\u0443","continueLine":"\u041d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c, \u0449\u043e\u0431 \u043f\u0440\u043e\u0434\u043e\u0432\u0436\u0438\u0442\u0438 \u043c\u0430\u043b\u044e\u0432\u0430\u0442\u0438","finishLine":"\u041d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u0439 \u0456\u0441\u043d\u0443\u044e\u0447\u0438\u0439 \u043c\u0430\u0440\u043a\u0435\u0440 \u0434\u043b\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044f","finishPoly":"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u043f\u0435\u0440\u0448\u0438\u0439 \u043c\u0430\u0440\u043a\u0435\u0440, \u0449\u043e\u0431 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438","finishRect":"\u041d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c, \u0449\u043e\u0431 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438","startCircle":"\u041d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c, \u0449\u043e\u0431 \u0434\u043e\u0434\u0430\u0442\u0438 \u0446\u0435\u043d\u0442\u0440 \u043a\u043e\u043b\u0430","finishCircle":"\u041d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c, \u0449\u043e\u0431 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438 \u043a\u043e\u043b\u043e","placeCircleMarker":"\u041d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c, \u0449\u043e\u0431 \u043d\u0430\u043d\u0435\u0441\u0442\u0438 \u043a\u0440\u0443\u0433\u043e\u0432\u0438\u0439 \u043c\u0430\u0440\u043a\u0435\u0440"},"actions":{"finish":"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438","cancel":"\u0412\u0456\u0434\u043c\u0456\u043d\u0438\u0442\u0438","removeLastVertex":"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u044e \u0432\u0435\u0440\u0448\u0438\u043d\u0443"},"buttonTitles":{"drawMarkerButton":"\u041c\u0430\u043b\u044e\u0432\u0430\u0442\u0438 \u043c\u0430\u0440\u043a\u0435\u0440","drawPolyButton":"\u041c\u0430\u043b\u044e\u0432\u0430\u0442\u0438 \u043f\u043e\u043b\u0456\u0433\u043e\u043d","drawLineButton":"\u041c\u0430\u043b\u044e\u0432\u0430\u0442\u0438 \u043a\u0440\u0438\u0432\u0443","drawCircleButton":"\u041c\u0430\u043b\u044e\u0432\u0430\u0442\u0438 \u043a\u043e\u043b\u043e","drawRectButton":"\u041c\u0430\u043b\u044e\u0432\u0430\u0442\u0438 \u043f\u0440\u044f\u043c\u043e\u043a\u0443\u0442\u043d\u0438\u043a","editButton":"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0448\u0430\u0440\u0438","dragButton":"\u041f\u0435\u0440\u0435\u043d\u0435\u0441\u0442\u0438 \u0448\u0430\u0440\u0438","cutButton":"\u0412\u0438\u0440\u0456\u0437\u0430\u0442\u0438 \u0448\u0430\u0440\u0438","deleteButton":"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0448\u0430\u0440\u0438","drawCircleMarkerButton":"\u041c\u0430\u043b\u044e\u0432\u0430\u0442\u0438 \u043a\u0440\u0443\u0433\u043e\u0432\u0438\u0439 \u043c\u0430\u0440\u043a\u0435\u0440","snappingButton":"\u041f\u0440\u0438\u0432\u2019\u044f\u0437\u0430\u0442\u0438 \u043f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0443\u0442\u0438\u0439 \u043c\u0430\u0440\u043a\u0435\u0440 \u0434\u043e \u0456\u043d\u0448\u0438\u0445 \u0448\u0430\u0440\u0456\u0432 \u0442\u0430 \u0432\u0435\u0440\u0448\u0438\u043d","pinningButton":"\u0417\u0432\'\u044f\u0437\u0430\u0442\u0438 \u0441\u043f\u0456\u043b\u044c\u043d\u0456 \u0432\u0435\u0440\u0448\u0438\u043d\u0438 \u0440\u0430\u0437\u043e\u043c"}}'),tr:JSON.parse('{"tooltips":{"placeMarker":"\u0130\u015faret\xe7i yerle\u015ftirmek i\xe7in t\u0131klay\u0131n","firstVertex":"\u0130lk tepe noktas\u0131n\u0131 yerle\u015ftirmek i\xe7in t\u0131klay\u0131n","continueLine":"\xc7izime devam etmek i\xe7in t\u0131klay\u0131n","finishLine":"Bitirmek i\xe7in mevcut herhangi bir i\u015faret\xe7iyi t\u0131klay\u0131n","finishPoly":"Bitirmek i\xe7in ilk i\u015faret\xe7iyi t\u0131klay\u0131n","finishRect":"Bitirmek i\xe7in t\u0131klay\u0131n","startCircle":"Daire merkezine yerle\u015ftirmek i\xe7in t\u0131klay\u0131n","finishCircle":"Daireyi bitirmek i\xe7in t\u0131klay\u0131n","placeCircleMarker":"Daire i\u015faret\xe7isi yerle\u015ftirmek i\xe7in t\u0131klay\u0131n"},"actions":{"finish":"Bitir","cancel":"\u0130ptal","removeLastVertex":"Son k\xf6\u015feyi kald\u0131r"},"buttonTitles":{"drawMarkerButton":"\xc7izim \u0130\u015faret\xe7isi","drawPolyButton":"\xc7okgenler \xe7iz","drawLineButton":"\xc7oklu \xe7izgi \xe7iz","drawCircleButton":"\xc7ember \xe7iz","drawRectButton":"Dikd\xf6rtgen \xe7iz","editButton":"Katmanlar\u0131 d\xfczenle","dragButton":"Katmanlar\u0131 s\xfcr\xfckle","cutButton":"Katmanlar\u0131 kes","deleteButton":"Katmanlar\u0131 kald\u0131r","drawCircleMarkerButton":"Daire i\u015faret\xe7isi \xe7iz","snappingButton":"S\xfcr\xfcklenen i\u015faret\xe7iyi di\u011fer katmanlara ve k\xf6\u015felere yap\u0131\u015ft\u0131r","pinningButton":"Payla\u015f\u0131lan k\xf6\u015feleri birbirine sabitle"}}'),cz:JSON.parse('{"tooltips":{"placeMarker":"Kliknut\xedm vytvo\u0159\xedte zna\u010dku","firstVertex":"Kliknut\xedm vytvo\u0159\xedte prvn\xed objekt","continueLine":"Kliknut\xedm pokra\u010dujte v kreslen\xed","finishLine":"Kliknut\xed na libovolnou existuj\xedc\xed zna\u010dku pro dokon\u010den\xed","finishPoly":"Vyberte prvn\xed bod pro dokon\u010den\xed","finishRect":"Klikn\u011bte pro dokon\u010den\xed","startCircle":"Kliknut\xedm p\u0159idejte st\u0159ed kruhu","finishCircle":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0437\u0430\u0434\u0430\u0442\u044c \u0440\u0430\u0434\u0438\u0443\u0441","placeCircleMarker":"Kliknut\xedm nastavte polom\u011br"},"actions":{"finish":"Dokon\u010dit","cancel":"Zru\u0161it","removeLastVertex":"Zru\u0161it posledn\xed akci"},"buttonTitles":{"drawMarkerButton":"P\u0159idat zna\u010dku","drawPolyButton":"Nakreslit polygon","drawLineButton":"Nakreslit k\u0159ivku","drawCircleButton":"Nakreslit kruh","drawRectButton":"Nakreslit obd\xe9ln\xedk","editButton":"Upravit vrstvu","dragButton":"P\u0159eneste vrstvu","cutButton":"Vyjmout vrstvu","deleteButton":"Smazat vrstvu","drawCircleMarkerButton":"P\u0159idat kruhovou zna\u010dku","snappingButton":"Nav\xe1zat ta\u017enou zna\u010dku k dal\u0161\xedm vrstv\xe1m a vrchol\u016fm","pinningButton":"Spojit spole\u010dn\xe9 body dohromady"}}'),ja:JSON.parse('{"tooltips":{"placeMarker":"\u30af\u30ea\u30c3\u30af\u3057\u3066\u30de\u30fc\u30ab\u30fc\u3092\u914d\u7f6e","firstVertex":"\u30af\u30ea\u30c3\u30af\u3057\u3066\u6700\u521d\u306e\u9802\u70b9\u3092\u914d\u7f6e","continueLine":"\u30af\u30ea\u30c3\u30af\u3057\u3066\u63cf\u753b\u3092\u7d9a\u3051\u308b","finishLine":"\u4efb\u610f\u306e\u30de\u30fc\u30ab\u30fc\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u7d42\u4e86","finishPoly":"\u6700\u521d\u306e\u30de\u30fc\u30ab\u30fc\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u7d42\u4e86","finishRect":"\u30af\u30ea\u30c3\u30af\u3057\u3066\u7d42\u4e86","startCircle":"\u30af\u30ea\u30c3\u30af\u3057\u3066\u5186\u306e\u4e2d\u5fc3\u3092\u914d\u7f6e","finishCircle":"\u30af\u30ea\u30c3\u30af\u3057\u3066\u5186\u306e\u63cf\u753b\u3092\u7d42\u4e86","placeCircleMarker":"\u30af\u30ea\u30c3\u30af\u3057\u3066\u5186\u30de\u30fc\u30ab\u30fc\u3092\u914d\u7f6e","placeText":"\u30af\u30ea\u30c3\u30af\u3057\u3066\u30c6\u30ad\u30b9\u30c8\u3092\u914d\u7f6e"},"actions":{"finish":"\u7d42\u4e86","cancel":"\u30ad\u30e3\u30f3\u30bb\u30eb","removeLastVertex":"\u6700\u5f8c\u306e\u9802\u70b9\u3092\u524a\u9664"},"buttonTitles":{"drawMarkerButton":"\u30de\u30fc\u30ab\u30fc\u3092\u63cf\u753b","drawPolyButton":"\u30dd\u30ea\u30b4\u30f3\u3092\u63cf\u753b","drawLineButton":"\u6298\u308c\u7dda\u3092\u63cf\u753b","drawCircleButton":"\u5186\u3092\u63cf\u753b","drawRectButton":"\u77e9\u5f62\u3092\u63cf\u753b","editButton":"\u30ec\u30a4\u30e4\u30fc\u3092\u7de8\u96c6","dragButton":"\u30ec\u30a4\u30e4\u30fc\u3092\u30c9\u30e9\u30c3\u30b0","cutButton":"\u30ec\u30a4\u30e4\u30fc\u3092\u5207\u308a\u53d6\u308a","deleteButton":"\u30ec\u30a4\u30e4\u30fc\u3092\u524a\u9664","drawCircleMarkerButton":"\u5186\u30de\u30fc\u30ab\u30fc\u3092\u63cf\u753b","snappingButton":"\u30c9\u30e9\u30c3\u30b0\u3057\u305f\u30de\u30fc\u30ab\u30fc\u3092\u4ed6\u306e\u30ec\u30a4\u30e4\u30fc\u3084\u9802\u70b9\u306b\u30b9\u30ca\u30c3\u30d7\u3059\u308b","pinningButton":"\u5171\u6709\u3059\u308b\u9802\u70b9\u3092\u540c\u6642\u306b\u52d5\u304b\u3059","rotateButton":"\u30ec\u30a4\u30e4\u30fc\u3092\u56de\u8ee2","drawTextButton":"\u30c6\u30ad\u30b9\u30c8\u3092\u63cf\u753b"}}'),fi:JSON.parse('{"tooltips":{"placeMarker":"Klikkaa asettaaksesi merkin","firstVertex":"Klikkaa asettaakseni ensimm\xe4isen osuuden","continueLine":"Klikkaa jatkaaksesi piirt\xe4mist\xe4","finishLine":"Klikkaa olemassa olevaa merkki\xe4 lopettaaksesi","finishPoly":"Klikkaa ensimm\xe4ist\xe4 merkki\xe4 lopettaaksesi","finishRect":"Klikkaa lopettaaksesi","startCircle":"Klikkaa asettaaksesi ympyr\xe4n keskipisteen","finishCircle":"Klikkaa lopettaaksesi ympyr\xe4n","placeCircleMarker":"Klikkaa asettaaksesi ympyr\xe4merkin","placeText":"Klikkaa asettaaksesi tekstin"},"actions":{"finish":"Valmis","cancel":"Peruuta","removeLastVertex":"Poista viimeinen osuus"},"buttonTitles":{"drawMarkerButton":"Piirr\xe4 merkkej\xe4","drawPolyButton":"Piirr\xe4 monikulmioita","drawLineButton":"Piirr\xe4 viivoja","drawCircleButton":"Piirr\xe4 ympyr\xe4","drawRectButton":"Piirr\xe4 neliskulmioita","editButton":"Muokkaa","dragButton":"Siirr\xe4","cutButton":"Leikkaa","deleteButton":"Poista","drawCircleMarkerButton":"Piirr\xe4 ympyr\xe4merkki","snappingButton":"Kiinnit\xe4 siirrett\xe4v\xe4 merkki toisiin muotoihin","pinningButton":"Kiinnit\xe4 jaetut muodot yhteen","rotateButton":"K\xe4\xe4nn\xe4","drawTextButton":"Piirr\xe4 teksti\xe4"}}'),ko:JSON.parse('{"tooltips":{"placeMarker":"\ub9c8\ucee4 \uc704\uce58\ub97c \ud074\ub9ad\ud558\uc138\uc694","firstVertex":"\uccab\ubc88\uc9f8 \uaf2d\uc9c0\uc810 \uc704\uce58\uc744 \ud074\ub9ad\ud558\uc138\uc694","continueLine":"\uacc4\uc18d \uadf8\ub9ac\ub824\uba74 \ud074\ub9ad\ud558\uc138\uc694","finishLine":"\ub05d\ub0b4\ub824\uba74 \uae30\uc874 \ub9c8\ucee4\ub97c \ud074\ub9ad\ud558\uc138\uc694","finishPoly":"\ub05d\ub0b4\ub824\uba74 \ucc98\uc74c \ub9c8\ucee4\ub97c \ud074\ub9ad\ud558\uc138\uc694","finishRect":"\ub05d\ub0b4\ub824\uba74 \ud074\ub9ad\ud558\uc138\uc694","startCircle":"\uc6d0\uc758 \uc911\uc2ec\uc774 \ub420 \uc704\uce58\ub97c \ud074\ub9ad\ud558\uc138\uc694","finishCircle":"\uc6d0\uc744 \ub05d\ub0b4\ub824\uba74 \ud074\ub9ad\ud558\uc138\uc694","placeCircleMarker":"\uc6d0 \ub9c8\ucee4 \uc704\uce58\ub97c \ud074\ub9ad\ud558\uc138\uc694","placeText":"\ud14d\uc2a4\ud2b8 \uc704\uce58\ub97c \ud074\ub9ad\ud558\uc138\uc694"},"actions":{"finish":"\ub05d\ub0b4\uae30","cancel":"\ucde8\uc18c","removeLastVertex":"\ub9c8\uc9c0\ub9c9 \uaf2d\uc9c0\uc810 \uc81c\uac70"},"buttonTitles":{"drawMarkerButton":"\ub9c8\ucee4 \uadf8\ub9ac\uae30","drawPolyButton":"\ub2e4\uac01\ud615 \uadf8\ub9ac\uae30","drawLineButton":"\ub2e4\uac01\uc120 \uadf8\ub9ac\uae30","drawCircleButton":"\uc6d0 \uadf8\ub9ac\uae30","drawRectButton":"\uc9c1\uc0ac\uac01\ud615 \uadf8\ub9ac\uae30","editButton":"\ub808\uc774\uc5b4 \ud3b8\uc9d1\ud558\uae30","dragButton":"\ub808\uc774\uc5b4 \ub04c\uae30","cutButton":"\ub808\uc774\uc5b4 \uc790\ub974\uae30","deleteButton":"\ub808\uc774\uc5b4 \uc81c\uac70\ud558\uae30","drawCircleMarkerButton":"\uc6d0 \ub9c8\ucee4 \uadf8\ub9ac\uae30","snappingButton":"\uc7a1\uc544\ub048 \ub9c8\ucee4\ub97c \ub2e4\ub978 \ub808\uc774\uc5b4 \ubc0f \uaf2d\uc9c0\uc810\uc5d0 \ub4e4\ub7ec\ubd99\uac8c \ud558\uae30","pinningButton":"\uacf5\uc720 \uaf2d\uc9c0\uc810\uc744 \ud568\uaed8 \ucc0d\uae30","rotateButton":"\ub808\uc774\uc5b4 \ud68c\uc804\ud558\uae30","drawTextButton":"\ud14d\uc2a4\ud2b8 \uadf8\ub9ac\uae30"}}')};function N(a,c){var f=Object.keys(a);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(a);c&&(_=_.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),f.push.apply(f,_)}return f}function G(a){for(var c=1;c<arguments.length;c++){var f=null!=arguments[c]?arguments[c]:{};c%2?N(Object(f),!0).forEach(function(_){Q(a,_,f[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(f)):N(Object(f)).forEach(function(_){Object.defineProperty(a,_,Object.getOwnPropertyDescriptor(f,_))})}return a}function Q(a,c,f){return c in a?Object.defineProperty(a,c,{value:f,enumerable:!0,configurable:!0,writable:!0}):a[c]=f,a}const ge={_globalEditModeEnabled:!1,enableGlobalEditMode:function(a){var c=G({},a);this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach(function(f){f.pm.enable(c)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayers={},this.map.on("layeradd",this._layerAdded,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode:function(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach(function(a){a.pm.disable()}),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled:function(){return this.globalEditModeEnabled()},globalEditModeEnabled:function(){return this._globalEditModeEnabled},toggleGlobalEditMode:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.globalOptions;this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(a)},handleLayerAdditionInGlobalEditMode:function(){var a=this._addedLayers;for(var c in this._addedLayers={},a){var f=a[c];this._isRelevantForEdit(f)&&this.globalEditModeEnabled()&&f.pm.enable(G({},this.globalOptions))}},_layerAdded:function(a){var c=a.layer;this._addedLayers[L.stamp(c)]=c},_isRelevantForEdit:function(a){return a.pm&&!(a instanceof L.LayerGroup)&&(!L.PM.optIn&&!a.options.pmIgnore||L.PM.optIn&&!1===a.options.pmIgnore)&&!a._pmTempLayer&&a.pm.options.allowEditing}},Ce={_globalDragModeEnabled:!1,enableGlobalDragMode:function(){var a=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},a.forEach(function(c){c.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode:function(){var a=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,a.forEach(function(c){c.pm.disableLayerDrag()}),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled:function(){return!!this._globalDragModeEnabled},toggleGlobalDragMode:function(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode:function(){var a=this._addedLayersDrag;for(var c in this._addedLayersDrag={},a){var f=a[c];this._isRelevantForDrag(f)&&this.globalDragModeEnabled()&&f.pm.enableLayerDrag()}},_layerAddedDrag:function(a){var c=a.layer;this._addedLayersDrag[L.stamp(c)]=c},_isRelevantForDrag:function(a){return a.pm&&!(a instanceof L.LayerGroup)&&(!L.PM.optIn&&!a.options.pmIgnore||L.PM.optIn&&!1===a.options.pmIgnore)&&!a._pmTempLayer&&a.pm.options.draggable}},De={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode:function(){var a=this;this._globalRemovalModeEnabled=!0,this.map.eachLayer(function(c){a._isRelevantForRemoval(c)&&(c.pm.disable(),c.on("click",a.removeLayer,a))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.reinitGlobalRemovalMode,100,this)),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode:function(){var a=this;this._globalRemovalModeEnabled=!1,this.map.eachLayer(function(c){c.off("click",a.removeLayer,a)}),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled:function(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled:function(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode:function(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},reinitGlobalRemovalMode:function(a){this._isRelevantForRemoval(a.layer)&&this.globalRemovalModeEnabled()&&(this.disableGlobalRemovalMode(),this.enableGlobalRemovalMode())},removeLayer:function(a){var c=a.target;this._isRelevantForRemoval(c)&&!c.pm.dragging()&&(c.removeFrom(this.map.pm._getContainingLayer()),c.remove(),c instanceof L.LayerGroup?(this._fireRemoveLayerGroup(c),this._fireRemoveLayerGroup(this.map,c)):(c.pm._fireRemove(c),c.pm._fireRemove(this.map,c)))},_isRelevantForRemoval:function(a){return a.pm&&!(a instanceof L.LayerGroup)&&(!L.PM.optIn&&!a.options.pmIgnore||L.PM.optIn&&!1===a.options.pmIgnore)&&!a._pmTempLayer&&a.pm.options.allowRemoval}},Le={_globalRotateModeEnabled:!1,enableGlobalRotateMode:function(){var a=this;this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter(function(c){return c instanceof L.Polyline}).forEach(function(c){a._isRelevantForRotate(c)&&c.pm.enableRotate()}),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this._reinitGlobalRotateMode,100,this)),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode:function(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter(function(a){return a instanceof L.Polyline}).forEach(function(a){a.pm.disableRotate()}),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled:function(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode:function(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_reinitGlobalRotateMode:function(a){this._isRelevantForRotate(a.layer)&&this.globalRotateModeEnabled()&&(this.disableGlobalRotateMode(),this.enableGlobalRotateMode())},_isRelevantForRotate:function(a){return a.pm&&!(a instanceof L.LayerGroup)&&(!L.PM.optIn&&!a.options.pmIgnore||L.PM.optIn&&!1===a.options.pmIgnore)&&!a._pmTempLayer&&a.pm.options.allowRotation}};function ke(a,c){var f=Object.keys(a);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(a);c&&(_=_.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),f.push.apply(f,_)}return f}function Pe(a){for(var c=1;c<arguments.length;c++){var f=null!=arguments[c]?arguments[c]:{};c%2?ke(Object(f),!0).forEach(function(_){Ae(a,_,f[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(f)):ke(Object(f)).forEach(function(_){Object.defineProperty(a,_,Object.getOwnPropertyDescriptor(f,_))})}return a}function Ae(a,c,f){return c in a?Object.defineProperty(a,c,{value:f,enumerable:!0,configurable:!0,writable:!0}):a[c]=f,a}const Fe={_fireDrawStart:function(){this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Draw",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})},_fireDrawEnd:function(){this.__fire(this._map,"pm:drawend",{shape:this._shape},arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Draw",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})},_fireCreate:function(a){this.__fire(this._map,"pm:create",{shape:this._shape,marker:a,layer:a},arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Draw",arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})},_fireCenterPlaced:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Draw",c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:"Draw"===a?this._layer:void 0,layer:"Draw"!==a?this._layer:void 0,latlng:this._layer.getLatLng()},a,c)},_fireCut:function(a,c,f){this.__fire(a,"pm:cut",{shape:this._shape,layer:c,originalLayer:f},arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Draw",arguments.length>4&&void 0!==arguments[4]?arguments[4]:{})},_fireEdit:function(){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Edit",f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.__fire(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._layer,"pm:edit",{layer:this._layer,shape:this.getShape()},c,f)},_fireEnable:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Edit",c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},a,c)},_fireDisable:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Edit",c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},a,c)},_fireUpdate:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Edit",c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},a,c)},_fireMarkerDragStart:function(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Edit",_=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:a,shape:this.getShape(),indexPath:c},f,_)},_fireMarkerDrag:function(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Edit",_=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:a,shape:this.getShape(),indexPath:c},f,_)},_fireMarkerDragEnd:function(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,_=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Edit",b=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:a,shape:this.getShape(),indexPath:c,intersectionReset:f},_,b)},_fireDragStart:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Edit",c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},a,c)},_fireDrag:function(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Edit",f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.__fire(this._layer,"pm:drag",Pe(Pe({},a),{},{shape:this.getShape()}),c,f)},_fireDragEnd:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Edit",c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},a,c)},_fireDragEnable:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Edit",c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},a,c)},_fireDragDisable:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Edit",c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},a,c)},_fireRemove:function(a){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Edit",_=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.__fire(a,"pm:remove",{layer:arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,shape:this.getShape()},f,_)},_fireVertexAdded:function(a,c,f){var _=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Edit",b=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:a,indexPath:c,latlng:f,shape:this.getShape()},_,b)},_fireVertexRemoved:function(a,c){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Edit",_=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:a,indexPath:c,shape:this.getShape()},f,_)},_fireVertexClick:function(a,c){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Edit",_=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:a,indexPath:c,shape:this.getShape()},f,_)},_fireIntersect:function(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Edit",f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.__fire(this._layer,"pm:intersect",{layer:this._layer,intersection:a,shape:this.getShape()},c,f)},_fireLayerReset:function(a,c){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Edit",_=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:a,indexPath:c,shape:this.getShape()},f,_)},_fireChange:function(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Edit",f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:a,shape:this.getShape()},c,f)},_fireTextChange:function(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Edit",f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:a,shape:this.getShape()},c,f)},_fireTextFocus:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Edit",c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},a,c)},_fireTextBlur:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Edit",c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},a,c)},_fireSnapDrag:function(a,c){this.__fire(a,"pm:snapdrag",c,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Snapping",arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})},_fireSnap:function(a,c){this.__fire(a,"pm:snap",c,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Snapping",arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})},_fireUnsnap:function(a,c){this.__fire(a,"pm:unsnap",c,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Snapping",arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})},_fireRotationEnable:function(a,c){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Rotation",_=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.__fire(a,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},f,_)},_fireRotationDisable:function(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Rotation",f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.__fire(a,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},c,f)},_fireRotationStart:function(a,c){this.__fire(a,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:c},arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Rotation",arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})},_fireRotation:function(a,c,f){var _=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._rotationLayer,b=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Rotation",k=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.__fire(a,"pm:rotate",{layer:_,helpLayer:this._layer,startAngle:this._startAngle,angle:_.pm.getAngle(),angleDiff:c,oldLatLngs:f,newLatLngs:_.getLatLngs()},b,k)},_fireRotationEnd:function(a,c,f){var _=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Rotation",b=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};this.__fire(a,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:c,angle:this._rotationLayer.pm.getAngle(),originLatLngs:f,newLatLngs:this._rotationLayer.getLatLngs()},_,b)},_fireActionClick:function(a,c,f){this.__fire(this._map,"pm:actionclick",{text:a.text,action:a,btnName:c,button:f},arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Toolbar",arguments.length>4&&void 0!==arguments[4]?arguments[4]:{})},_fireButtonClick:function(a,c){this.__fire(this._map,"pm:buttonclick",{btnName:a,button:c},arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Toolbar",arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})},_fireLangChange:function(a,c,f,_){this.__fire(this.map,"pm:langchange",{oldLang:a,activeLang:c,fallback:f,translations:_},arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Global",arguments.length>5&&void 0!==arguments[5]?arguments[5]:{})},_fireGlobalDragModeToggled:function(a){this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:a,map:this.map},arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Global",arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})},_fireGlobalEditModeToggled:function(a){this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:a,map:this.map},arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Global",arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})},_fireGlobalRemovalModeToggled:function(a){this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:a,map:this.map},arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Global",arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})},_fireGlobalCutModeToggled:function(){this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Global",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})},_fireGlobalDrawModeToggled:function(){this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Global",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})},_fireGlobalRotateModeToggled:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Global",c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},a,c)},_fireRemoveLayerGroup:function(a){this.__fire(a,"pm:remove",{layer:arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,shape:void 0},arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Edit",arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})},_fireKeyeventEvent:function(a,c,f){this.__fire(this.map,"pm:keyevent",{event:a,eventType:c,focusOn:f},arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Global",arguments.length>4&&void 0!==arguments[4]?arguments[4]:{})},__fire:function(a,c,f,_){var b=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};f=T()(f,b,{source:_}),L.PM.Utils._fireEvent(a,c,f)}},$e={_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener:function(a){this.map=a,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this)},_onKeyListener:function(a){var c="document";this.map.getContainer().contains(a.target)&&(c="map");var f={event:a,eventType:a.type,focusOn:c};this._lastEvents[a.type]=f,this._lastEvents.current=f,this.map.pm._fireKeyeventEvent(a,a.type,c)},_onBlur:function(a){a.altKey=!1;var c={event:a,eventType:a.type,focusOn:"document"};this._lastEvents[a.type]=c,this._lastEvents.current=c},getLastKeyEvent:function(){return this._lastEvents[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"current"]},isShiftKeyPressed:function(){var a;return null===(a=this._lastEvents.current)||void 0===a?void 0:a.event.shiftKey},isAltKeyPressed:function(){var a;return null===(a=this._lastEvents.current)||void 0===a?void 0:a.event.altKey},isCtrlKeyPressed:function(){var a;return null===(a=this._lastEvents.current)||void 0===a?void 0:a.event.ctrlKey},isMetaKeyPressed:function(){var a;return null===(a=this._lastEvents.current)||void 0===a?void 0:a.event.metaKey},getPressedKey:function(){var a;return null===(a=this._lastEvents.current)||void 0===a?void 0:a.event.key}};var At=M(7361),Se=M.n(At),ot=M(8721),je=M.n(ot);function Be(a){var c=L.PM.activeLang;return je()(Y,c)||(c="en"),Se()(Y[c],a)}function pt(a){for(var c=0;c<a.length;c+=1){var f=a[c];if(Array.isArray(f)){if(pt(f))return!0}else if(null!=f&&""!==f)return!0}return!1}function Xt(a){return a.reduce(function(c,f){if(0!==f.length){var _=Array.isArray(f)?Xt(f):f;Array.isArray(_)?0!==_.length&&c.push(_):c.push(_)}return c},[])}function St(a,c,f){for(var _,b,k,O=6378137,A=6356752.3142,F=.0033528106647474805,z=a.lng,ee=a.lat,X=f,ae=Math.PI,_e=c*ae/180,Ee=Math.sin(_e),We=Math.cos(_e),ut=(1-F)*Math.tan(ee*ae/180),Nt=1/Math.sqrt(1+ut*ut),Ue=ut*Nt,It=Math.atan2(ut,We),Rt=Nt*Ee,rn=1-Rt*Rt,oi=rn*(O*O-A*A)/(A*A),gs=1+oi/16384*(4096+oi*(oi*(320-175*oi)-768)),Ve=oi/1024*(256+oi*(oi*(74-47*oi)-128)),vi=X/(A*gs),zo=2*Math.PI;Math.abs(vi-zo)>1e-12;)_=Math.cos(2*It+vi),zo=vi,vi=X/(A*gs)+Ve*(b=Math.sin(vi))*(_+Ve/4*((k=Math.cos(vi))*(2*_*_-1)-Ve/6*_*(4*b*b-3)*(4*_*_-3)));var kn=Ue*b-Nt*k*We,ms=Math.atan2(Ue*k+Nt*b*We,(1-F)*Math.sqrt(Rt*Rt+kn*kn)),uo=F/16*rn*(4+F*(4-3*rn)),Ut=z+180*(Math.atan2(b*Ee,Nt*k-Ue*b*We)-(1-uo)*F*Rt*(vi+uo*b*(_+uo*k*(2*_*_-1))))/ae;return L.latLng(Ut,180*ms/ae)}function Lt(a,c,f,_){for(var b,k,O=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],A=[],F=0;F<f;F+=1){if(O)b=St(a,360*F/f+_,c),k=L.latLng(b.lng,b.lat);else{var z=a.lat+Math.cos(2*F*Math.PI/f)*c,ee=a.lng+Math.sin(2*F*Math.PI/f)*c;k=L.latLng(z,ee)}A.push(k)}return A}function bt(a,c,f,_){var k,A,F,z,ee;return function(k,O,A){O=(O+360)%360;var F=Math.PI/180,z=180/Math.PI,X=k.lng*F,ae=k.lat*F,_e=O*F,Ee=Math.sin(ae),We=Math.cos(ae),ut=Math.cos(A/6378137),Nt=Math.sin(A/6378137),Ue=Math.asin(Ee*ut+We*Nt*Math.cos(_e)),It=X+Math.atan2(Math.sin(_e)*Nt*We,ut-Ee*Math.sin(Ue));return It=(It*=z)>180?It-360:It<-180?It+360:It,L.latLng([Ue*z,It])}(c,(A=f,F=(k=a).latLngToContainerPoint(c),z=k.latLngToContainerPoint(A),(ee=180*Math.atan2(z.y-F.y,z.x-F.x)/Math.PI+90)+(ee<0?360:0)),_)}function wt(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.getLatLngs();return a instanceof L.Polygon?L.polygon(c).getLatLngs():L.polyline(c).getLatLngs()}function ur(a,c){var f,_;if(null!==(f=c.options.crs)&&void 0!==f&&null!==(_=f.projection)&&void 0!==_&&_.MAX_LATITUDE){var b,k,O=null===(b=c.options.crs)||void 0===b||null===(k=b.projection)||void 0===k?void 0:k.MAX_LATITUDE;a.lat=Math.max(Math.min(O,a.lat),-O)}return a}function nt(a){return a.options.renderer||a._map&&(a._map._getPaneRenderer(a.options.pane)||a._map.options.renderer||a._map._renderer)||a._renderer}const ji=L.Class.extend({includes:[ge,Ce,De,Le,Fe],initialize:function(a){this.map=a,this.Draw=new L.PM.Draw(a),this.Toolbar=new L.PM.Toolbar(a),this.Keyboard=$e,this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0},this.Keyboard._initKeyListener(a)},setLang:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",c=arguments.length>1?arguments[1]:void 0,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en",_=L.PM.activeLang;c&&(Y[a]=T()(Y[f],c)),L.PM.activeLang=a,this.map.pm.Toolbar.reinit(),this._fireLangChange(_,a,f,Y[a])},addControls:function(a){this.Toolbar.addControls(a)},removeControls:function(){this.Toolbar.removeControls()},toggleControls:function(){this.Toolbar.toggleControls()},controlsVisible:function(){return this.Toolbar.isVisible},enableDraw:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Polygon";"Poly"===a&&(a="Polygon"),this.Draw.enable(a,arguments.length>1?arguments[1]:void 0)},disableDraw:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Polygon";"Poly"===a&&(a="Polygon"),this.Draw.disable(a)},setPathOptions:function(a){var c=this,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_=f.ignoreShapes||[],b=f.merge||!1;this.map.pm.Draw.shapes.forEach(function(k){-1===_.indexOf(k)&&c.map.pm.Draw[k].setPathOptions(a,b)})},getGlobalOptions:function(){return this.globalOptions},setGlobalOptions:function(a){var c=this,f=T()(this.globalOptions,a),_=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.editable!=!!f.editable&&(this.map.pm.Draw.CircleMarker.disable(),_=!0),this.map.pm.Draw.shapes.forEach(function(b){c.map.pm.Draw[b].setOptions(f)}),_&&this.map.pm.Draw.CircleMarker.enable(),L.PM.Utils.findLayers(this.map).forEach(function(b){b.pm.setOptions(f)}),this.map.fire("pm:globaloptionschanged"),this.globalOptions=f,this.applyGlobalOptions()},applyGlobalOptions:function(){L.PM.Utils.findLayers(this.map).forEach(function(a){a.pm.enabled()&&a.pm.applyOptions()})},globalDrawModeEnabled:function(){return!!this.Draw.getActiveShape()},globalCutModeEnabled:function(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode:function(a){return this.Draw.Cut.enable(a)},toggleGlobalCutMode:function(a){return this.Draw.Cut.toggle(a)},disableGlobalCutMode:function(){return this.Draw.Cut.disable()},getGeomanLayers:function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],c=L.PM.Utils.findLayers(this.map);if(!a)return c;var f=L.featureGroup();return f._pmTempLayer=!0,c.forEach(function(_){f.addLayer(_)}),f},getGeomanDrawLayers:function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],c=L.PM.Utils.findLayers(this.map).filter(function(_){return!0===_._drawnByGeoman});if(!a)return c;var f=L.featureGroup();return f._pmTempLayer=!0,c.forEach(function(_){f.addLayer(_)}),f},_getContainingLayer:function(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple:function(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents:function(a){0===this._touchEventCounter&&(L.DomEvent.on(a,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(a,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents:function(a){1===this._touchEventCounter&&(L.DomEvent.off(a,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(a,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove:function(a){nt(this.map)._onMouseMove(this._createMouseEvent("mousemove",a))},_canvasTouchClick:function(a){var c="";"touchstart"===a.type||"pointerdown"===a.type?c="mousedown":"touchend"===a.type||"pointerup"===a.type?c="mouseup":"touchcancel"!==a.type&&"pointercancel"!==a.type||(c="mouseup"),c&&nt(this.map)._onClick(this._createMouseEvent(c,a))},_createMouseEvent:function(a,c){var f,_=c.touches[0]||c.changedTouches[0];try{f=new MouseEvent(a,{bubbles:c.bubbles,cancelable:c.cancelable,view:c.view,detail:_.detail,screenX:_.screenX,screenY:_.screenY,clientX:_.clientX,clientY:_.clientY,ctrlKey:c.ctrlKey,altKey:c.altKey,shiftKey:c.shiftKey,metaKey:c.metaKey,button:c.button,relatedTarget:c.relatedTarget})}catch{(f=document.createEvent("MouseEvents")).initMouseEvent(a,c.bubbles,c.cancelable,c.view,_.detail,_.screenX,_.screenY,_.clientX,_.clientY,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,c.button,c.relatedTarget)}return f}}),zi=L.Control.extend({includes:[Fe],options:{position:"topleft",disableByOtherButtons:!0},initialize:function(a){this._button=L.Util.extend({},this.options,a)},onAdd:function(a){return this._map=a,this._container=this._map.pm.Toolbar.options.oneBlock?this._map.pm.Toolbar._createContainer(this.options.position):"edit"===this._button.tool?this._map.pm.Toolbar.editContainer:"options"===this._button.tool?this._map.pm.Toolbar.optionsContainer:"custom"===this._button.tool?this._map.pm.Toolbar.customContainer:this._map.pm.Toolbar.drawContainer,this.buttonsDomNode=this._makeButton(this._button),this._container.appendChild(this.buttonsDomNode),this._container},onRemove:function(){return this.buttonsDomNode.remove(),this._container},getText:function(){return this._button.text},getIconUrl:function(){return this._button.iconUrl},destroy:function(){this._button={},this._update()},toggle:function(a){return this._button.toggleStatus="boolean"==typeof a?a:!this._button.toggleStatus,this._applyStyleClasses(),this._button.toggleStatus},toggled:function(){return this._button.toggleStatus},onCreate:function(){this.toggle(!1)},disable:function(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable:function(){this._button.disabled=!1,this._updateDisabled()},_triggerClick:function(a){a&&a.preventDefault(),this._button.disabled||(this._button.onClick(a,{button:this,event:a}),this._clicked(a),this._button.afterClick(a,{button:this,event:a}))},_makeButton:function(a){var c=this,f=this.options.position.indexOf("right")>-1?"pos-right":"",_=L.DomUtil.create("div","button-container  ".concat(f),this._container);a.title&&_.setAttribute("title",a.title);var b=L.DomUtil.create("a","leaflet-buttons-control-button",_);b.setAttribute("role","button"),b.setAttribute("tabindex","0"),b.href="#";var k=L.DomUtil.create("div","leaflet-pm-actions-container ".concat(f),_),O=a.actions,A={cancel:{text:Be("actions.cancel"),onClick:function(){this._triggerClick()}},finishMode:{text:Be("actions.finish"),onClick:function(){this._triggerClick()}},removeLastVertex:{text:Be("actions.removeLastVertex"),onClick:function(){this._map.pm.Draw[a.jsClass]._removeLastVertex()}},finish:{text:Be("actions.finish"),onClick:function(z){this._map.pm.Draw[a.jsClass]._finishShape(z)}}};O.forEach(function(z){var ee,X="string"==typeof z?z:z.name;if(A[X])ee=A[X];else{if(!z.text)return;ee=z}var ae=L.DomUtil.create("a","leaflet-pm-action ".concat(f," action-").concat(X),k);ae.setAttribute("role","button"),ae.setAttribute("tabindex","0"),ae.href="#",ae.innerHTML=ee.text,L.DomEvent.disableClickPropagation(ae),L.DomEvent.on(ae,"click",L.DomEvent.stop),!a.disabled&&ee.onClick&&(L.DomEvent.addListener(ae,"click",function(_e){_e.preventDefault();var Ee="",We=c._map.pm.Toolbar.buttons;for(var ut in We)if(We[ut]._button===a){Ee=ut;break}c._fireActionClick(ee,Ee,a)},c),L.DomEvent.addListener(ae,"click",ee.onClick,c))}),a.toggleStatus&&L.DomUtil.addClass(_,"active");var F=L.DomUtil.create("div","control-icon",b);return a.iconUrl&&F.setAttribute("src",a.iconUrl),a.className&&L.DomUtil.addClass(F,a.className),L.DomEvent.disableClickPropagation(b),L.DomEvent.on(b,"click",L.DomEvent.stop),a.disabled||(L.DomEvent.addListener(b,"click",this._onBtnClick,this),L.DomEvent.addListener(b,"click",this._triggerClick,this)),a.disabled&&(L.DomUtil.addClass(b,"pm-disabled"),b.setAttribute("aria-disabled","true")),_},_applyStyleClasses:function(){this._container&&(this._button.toggleStatus&&!1!==this._button.cssToggle?(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")):(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")))},_onBtnClick:function(){this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);var a="",c=this._map.pm.Toolbar.buttons;for(var f in c)if(c[f]._button===this._button){a=f;break}this._fireButtonClick(a,this._button)},_clicked:function(){this._button.doToggle&&this.toggle()},_updateDisabled:function(){if(this._container){var a="pm-disabled",c=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(c,a),c.setAttribute("aria-disabled","true"),L.DomEvent.off(c,"click",this._triggerClick,this),L.DomEvent.off(c,"click",this._onBtnClick,this)):(L.DomUtil.removeClass(c,a),c.setAttribute("aria-disabled","false"),L.DomEvent.on(c,"click",this._triggerClick,this),L.DomEvent.on(c,"click",this._onBtnClick,this))}}});function Ui(a,c){var f=Object.keys(a);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(a);c&&(_=_.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),f.push.apply(f,_)}return f}function xn(a){for(var c=1;c<arguments.length;c++){var f=null!=arguments[c]?arguments[c]:{};c%2?Ui(Object(f),!0).forEach(function(_){Po(a,_,f[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(f)):Ui(Object(f)).forEach(function(_){Object.defineProperty(a,_,Object.getOwnPropertyDescriptor(f,_))})}return a}function Po(a,c,f){return c in a?Object.defineProperty(a,c,{value:f,enumerable:!0,configurable:!0,writable:!0}):a[c]=f,a}function Tr(a){return(Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(a)}L.Control.PMButton=zi;const ro=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize:function(a){this.init(a)},reinit:function(){var a=this.isVisible;this.removeControls(),this._defineButtons(),a&&this.addControls()},init:function(a){this.map=a,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer:function(a){var c="".concat(a,"Container");return this[c]||(this[c]=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-".concat(a," leaflet-bar leaflet-control"))),this[c]},getButtons:function(){return this.buttons},addControls:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options;typeof a.editPolygon<"u"&&(a.editMode=a.editPolygon),typeof a.deleteLayer<"u"&&(a.removalMode=a.deleteLayer),L.Util.setOptions(this,a),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle:function(){var a=this.getButtons(),c={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(var f in a)L.Util.setOptions(a[f],{className:c.geomanIcons[f]})},removeControls:function(){var a=this.getButtons();for(var c in a)a[c].remove();this.isVisible=!1},toggleControls:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options;this.isVisible?this.removeControls():this.addControls(a)},_addButton:function(a,c){return this.buttons[a]=c,this.options[a]=this.options[a]||!1,this.buttons[a]},triggerClickOnToggledButtons:function(a){for(var c in this.buttons){var f=this.buttons[c];f._button.disableByOtherButtons&&f!==a&&f.toggled()&&f._triggerClick()}},toggleButton:function(a,c){return"editPolygon"===a&&(a="editMode"),"deleteLayer"===a&&(a="removalMode"),(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&this.triggerClickOnToggledButtons(this.buttons[a]),!!this.buttons[a]&&this.buttons[a].toggle(c)},_defineButtons:function(){var a=this,c={className:"control-icon leaflet-pm-icon-marker",title:Be("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:function(){},afterClick:function(_e,Ee){a.map.pm.Draw[Ee.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},f={title:Be("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:function(){},afterClick:function(_e,Ee){a.map.pm.Draw[Ee.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},_={className:"control-icon leaflet-pm-icon-polyline",title:Be("buttonTitles.drawLineButton"),jsClass:"Line",onClick:function(){},afterClick:function(_e,Ee){a.map.pm.Draw[Ee.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},b={title:Be("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:function(){},afterClick:function(_e,Ee){a.map.pm.Draw[Ee.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},k={title:Be("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:function(){},afterClick:function(_e,Ee){a.map.pm.Draw[Ee.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},O={title:Be("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:function(){},afterClick:function(_e,Ee){a.map.pm.Draw[Ee.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},A={title:Be("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:function(){},afterClick:function(){a.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},F={title:Be("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:function(){},afterClick:function(){a.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},z={title:Be("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:function(){},afterClick:function(_e,Ee){a.map.pm.Draw[Ee.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},ee={title:Be("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:function(){},afterClick:function(){a.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},X={title:Be("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:function(){},afterClick:function(){a.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},ae={className:"control-icon leaflet-pm-icon-text",title:Be("buttonTitles.drawTextButton"),jsClass:"Text",onClick:function(){},afterClick:function(_e,Ee){a.map.pm.Draw[Ee.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(c)),this._addButton("drawPolyline",new L.Control.PMButton(_)),this._addButton("drawRectangle",new L.Control.PMButton(O)),this._addButton("drawPolygon",new L.Control.PMButton(f)),this._addButton("drawCircle",new L.Control.PMButton(b)),this._addButton("drawCircleMarker",new L.Control.PMButton(k)),this._addButton("drawText",new L.Control.PMButton(ae)),this._addButton("editMode",new L.Control.PMButton(A)),this._addButton("dragMode",new L.Control.PMButton(F)),this._addButton("cutPolygon",new L.Control.PMButton(z)),this._addButton("removalMode",new L.Control.PMButton(ee)),this._addButton("rotateMode",new L.Control.PMButton(X))},_showHideButtons:function(){if(this.isVisible){this.removeControls(),this.isVisible=!0;var a=this.getButtons(),c=[];for(var f in!1===this.options.drawControls&&(c=c.concat(Object.keys(a).filter(function(b){return!a[b]._button.tool}))),!1===this.options.editControls&&(c=c.concat(Object.keys(a).filter(function(b){return"edit"===a[b]._button.tool}))),!1===this.options.optionsControls&&(c=c.concat(Object.keys(a).filter(function(b){return"options"===a[b]._button.tool}))),!1===this.options.customControls&&(c=c.concat(Object.keys(a).filter(function(b){return"custom"===a[b]._button.tool}))),a)if(this.options[f]&&-1===c.indexOf(f)){var _=a[f]._button.tool;_||(_="draw"),a[f].setPosition(this._getBtnPosition(_)),a[f].addTo(this.map)}}},_getBtnPosition:function(a){return this.options.positions&&this.options.positions[a]?this.options.positions[a]:this.options.position},setBlockPosition:function(a,c){this.options.positions[a]=c,this._showHideButtons(),this.changeControlOrder()},getBlockPositions:function(){return this.options.positions},copyDrawControl:function(a,c){if(!c)throw new TypeError("Button has no name");"object"!==Tr(c)&&(c={name:c});var f=this._btnNameMapping(a);if(!c.name)throw new TypeError("Button has no name");if(this.buttons[c.name])throw new TypeError("Button with this name already exists");var _=this.map.pm.Draw.createNewDrawInstance(c.name,f);return c=xn(xn({},this.buttons[f]._button),c),{drawInstance:_,control:this.createCustomControl(c)}},createCustomControl:function(a){var c,f;if(!a.name)throw new TypeError("Button has no name");if(this.buttons[a.name])throw new TypeError("Button with this name already exists");a.onClick||(a.onClick=function(){}),a.afterClick||(a.afterClick=function(){}),!1!==a.toggle&&(a.toggle=!0),a.block&&(a.block=a.block.toLowerCase()),a.block&&"draw"!==a.block||(a.block=""),a.className?-1===a.className.indexOf("control-icon")&&(a.className="control-icon ".concat(a.className)):a.className="control-icon";var _={tool:a.block,className:a.className,title:a.title||"",jsClass:a.name,onClick:a.onClick,afterClick:a.afterClick,doToggle:a.toggle,toggleStatus:!1,disableOtherButtons:null===(c=a.disableOtherButtons)||void 0===c||c,disableByOtherButtons:null===(f=a.disableByOtherButtons)||void 0===f||f,cssToggle:a.toggle,position:this.options.position,actions:a.actions||[],disabled:!!a.disabled};!1!==this.options[a.name]&&(this.options[a.name]=!0);var b=this._addButton(a.name,new L.Control.PMButton(_));return this.changeControlOrder(),b},changeControlOrder:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],c=this._shapeMapping(),f=[];a.forEach(function(z){f.push(c[z]?c[z]:z)});var _=this.getButtons(),b={};f.forEach(function(z){_[z]&&(b[z]=_[z])}),Object.keys(_).filter(function(z){return!_[z]._button.tool}).forEach(function(z){-1===f.indexOf(z)&&(b[z]=_[z])}),Object.keys(_).filter(function(z){return"edit"===_[z]._button.tool}).forEach(function(z){-1===f.indexOf(z)&&(b[z]=_[z])}),Object.keys(_).filter(function(z){return"options"===_[z]._button.tool}).forEach(function(z){-1===f.indexOf(z)&&(b[z]=_[z])}),Object.keys(_).filter(function(z){return"custom"===_[z]._button.tool}).forEach(function(z){-1===f.indexOf(z)&&(b[z]=_[z])}),Object.keys(_).forEach(function(z){-1===f.indexOf(z)&&(b[z]=_[z])}),this.map.pm.Toolbar.buttons=b,this._showHideButtons()},getControlOrder:function(){var a=this.getButtons(),c=[];for(var f in a)c.push(f);return c},changeActionsOfControl:function(a,c){var f=this._btnNameMapping(a);if(!f)throw new TypeError("No name passed");if(!c)throw new TypeError("No actions passed");if(!this.buttons[f])throw new TypeError("Button with this name not exists");this.buttons[f]._button.actions=c,this.changeControlOrder()},setButtonDisabled:function(a,c){var f=this._btnNameMapping(a);c?this.buttons[f].disable():this.buttons[f].enable()},_shapeMapping:function(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping:function(a){var c=this._shapeMapping();return c[a]?c[a]:a}});function cr(a,c){var f=Object.keys(a);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(a);c&&(_=_.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),f.push.apply(f,_)}return f}function V(a){for(var c=1;c<arguments.length;c++){var f=null!=arguments[c]?arguments[c]:{};c%2?cr(Object(f),!0).forEach(function(_){w(a,_,f[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(f)):cr(Object(f)).forEach(function(_){Object.defineProperty(a,_,Object.getOwnPropertyDescriptor(f,_))})}return a}function w(a,c,f){return c in a?Object.defineProperty(a,c,{value:f,enumerable:!0,configurable:!0,writable:!0}):a[c]=f,a}const I={_initSnappableMarkers:function(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=void 0===this.options.snapSegment||this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents:function(a){var c=this;a.forEach(function(f){Array.isArray(f)?c._assignEvents(f):(f.off("drag",c._handleSnapping,c),f.on("drag",c._handleSnapping,c),f.off("dragend",c._cleanupSnapping,c),f.on("dragend",c._cleanupSnapping,c))})},_cleanupSnapping:function(a){a&&(a.target._snapped=!1),delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("pm:remove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(function(c){c.remove()})},_handleThrottleSnapping:function(){this.throttledList&&this._createSnapList()},_handleSnapping:function(a){var c=this,f=a.target;if(f._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),this._map.pm.Keyboard.isAltKeyPressed()||(void 0===this._snapList&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;var b,_=this._calcClosestLayer(f.getLatLng(),this._snapList);if(0===Object.keys(_).length)return!1;b=_.layer instanceof L.Marker||_.layer instanceof L.CircleMarker||!this.options.snapSegment?_.latlng:this._checkPrioritiySnapping(_);var O=this.options.snapDistance,A={marker:f,shape:this._shape,snapLatLng:b,segment:_.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:_.layer,distance:_.distance};if(this._fireSnapDrag(A.marker,A),this._fireSnapDrag(this._layer,A),_.distance<O){f._orgLatLng=f.getLatLng(),f.setLatLng(b),f._snapped=!0,f._snapInfo=A;var F=this._snapLatLng||{},z=b||{};F.lat===z.lat&&F.lng===z.lng||(c._snapLatLng=b,c._fireSnap(f,A),c._fireSnap(c._layer,A))}else this._snapLatLng&&(this._unsnap(A),f._snapped=!1,f._snapInfo=void 0,this._fireUnsnap(A.marker,A),this._fireUnsnap(this._layer,A));return!0},_createSnapList:function(){var a=this,c=[],f=[],_=this._map;_.off("pm:remove",this._handleSnapLayerRemoval,this),_.on("pm:remove",this._handleSnapLayerRemoval,this),_.eachLayer(function(b){if((b instanceof L.Polyline||b instanceof L.Marker||b instanceof L.CircleMarker||b instanceof L.ImageOverlay)&&!0!==b.options.snapIgnore){if(void 0===b.options.snapIgnore&&(!L.PM.optIn&&!0===b.options.pmIgnore||L.PM.optIn&&!1!==b.options.pmIgnore))return;(b instanceof L.Circle||b instanceof L.CircleMarker)&&b.pm&&b.pm._hiddenPolyCircle?c.push(b.pm._hiddenPolyCircle):b instanceof L.ImageOverlay&&(b=L.rectangle(b.getBounds())),c.push(b);var k=L.polyline([],{color:"red",pmIgnore:!0});k._pmTempLayer=!0,f.push(k),(b instanceof L.Circle||b instanceof L.CircleMarker)&&f.push(k)}}),c=(c=(c=c.filter(function(b){return a._layer!==b})).filter(function(b){return b._latlng||b._latlngs&&pt(b._latlngs)})).filter(function(b){return!b._pmTempLayer}),this._otherSnapLayers?(this._otherSnapLayers.forEach(function(){var b=L.polyline([],{color:"red",pmIgnore:!0});b._pmTempLayer=!0,f.push(b)}),this._snapList=c.concat(this._otherSnapLayers)):this._snapList=c,this.debugIndicatorLines=f},_handleSnapLayerRemoval:function(a){var c=a.layer,f=this._snapList.findIndex(function(_){return _._leaflet_id===c._leaflet_id});this._snapList.splice(f,1)},_calcClosestLayer:function(a,c){return this._calcClosestLayers(a,c,1)[0]},_calcClosestLayers:function(a,c){var f=this,_=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,b=[],k={};c.forEach(function(A,F){if(!A._parentCopy||A._parentCopy!==f._layer){var z=f._calcLayerDistances(a,A);if(z.distance=Math.floor(z.distance),f.debugIndicatorLines){if(!f.debugIndicatorLines[F]){var ee=L.polyline([],{color:"red",pmIgnore:!0});ee._pmTempLayer=!0,f.debugIndicatorLines[F]=ee}f.debugIndicatorLines[F].setLatLngs([a,z.latlng])}1===_&&(void 0===k.distance||z.distance<=k.distance)?(z.distance<k.distance&&(b=[]),(k=z).layer=A,b.push(k)):1!==_&&(k={},(k=z).layer=A,b.push(k))}}),1!==_&&(b=b.sort(function(A,F){return A.distance-F.distance})),-1===_&&(_=b.length);var O=this._getClosestLayerByPriority(b,_);return L.Util.isArray(O)?O:[O]},_calcLayerDistances:function(a,c){var f=this._map,_=c instanceof L.Marker||c instanceof L.CircleMarker,b=c instanceof L.Polygon,k=a;if(_){var O=c.getLatLng();return{latlng:V({},O),distance:this._getDistance(f,O,k)}}return this._calcLatLngDistances(k,c.getLatLngs(),f,b)},_calcLatLngDistances:function(a,c,f){var _,b,k,O=this,A=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function ee(X){X.forEach(function(ae,_e){if(Array.isArray(ae))ee(ae);else if(O.options.snapSegment){var We=ae,ut=X[A?_e+1===X.length?0:_e+1:_e+1===X.length?void 0:_e+1];if(ut){var Nt=O._getDistanceToSegment(f,a,We,ut);(void 0===b||Nt<b)&&(b=Nt,k=[We,ut])}}else{var Ue=O._getDistance(f,a,ae);(void 0===b||Ue<b)&&(b=Ue,_=ae)}})}(c),this.options.snapSegment?{latlng:V({},this._getClosestPointOnSegment(f,a,k[0],k[1])),segment:k,distance:b}:{latlng:_,distance:b}},_getClosestLayerByPriority:function(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;a=a.sort(function(O,A){return O._leaflet_id-A._leaflet_id});var b=0,k={};return(this._map.pm.globalOptions.snappingOrder||[]).concat(["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"]).forEach(function(O){k[O]||(k[O]=b+=1)}),a.sort(function Tt(a,c){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc";if(!c||0===Object.keys(c).length)return function(F,z){return F-z};for(var _,b=Object.keys(c),k=b.length-1,O={};k>=0;)O[(_=b[k]).toLowerCase()]=c[_],k-=1;function A(F){return F instanceof L.Marker?"Marker":F instanceof L.Circle?"Circle":F instanceof L.CircleMarker?"CircleMarker":F instanceof L.Rectangle?"Rectangle":F instanceof L.Polygon?"Polygon":F instanceof L.Polyline?"Line":void 0}return function(F,z){var ee,X;if("instanceofShape"===a){if(ee=A(F.layer).toLowerCase(),X=A(z.layer).toLowerCase(),!ee||!X)return 0}else{if(!F.hasOwnProperty(a)||!z.hasOwnProperty(a))return 0;ee=F[a].toLowerCase(),X=z[a].toLowerCase()}var ae=ee in O?O[ee]:Number.MAX_SAFE_INTEGER,_e=X in O?O[X]:Number.MAX_SAFE_INTEGER,Ee=0;return ae<_e?Ee=-1:ae>_e&&(Ee=1),"desc"===f?-1*Ee:Ee}}("instanceofShape",k)),1===c?a[0]||{}:a.slice(0,c)},_checkPrioritiySnapping:function(a){var c=this._map,f=a.segment[0],_=a.segment[1],b=a.latlng,k=this._getDistance(c,f,b),O=this._getDistance(c,_,b),A=k<O?f:_,F=k<O?k:O;if(this.options.snapMiddle){var z=L.PM.Utils.calcMiddleLatLng(c,f,_),ee=this._getDistance(c,z,b);ee<k&&ee<O&&(A=z,F=ee)}return V({},F<this.options.snapDistance?A:b)},_unsnap:function(){delete this._snapLatLng},_getClosestPointOnSegment:function(a,c,f,_){var b=a.getMaxZoom();b===1/0&&(b=a.getZoom());var k=a.project(c,b),O=a.project(f,b),A=a.project(_,b),F=L.LineUtil.closestPointOnSegment(k,O,A);return a.unproject(F,b)},_getDistanceToSegment:function(a,c,f,_){var b=a.latLngToLayerPoint(c),k=a.latLngToLayerPoint(f),O=a.latLngToLayerPoint(_);return L.LineUtil.pointToSegmentDistance(b,k,O)},_getDistance:function(a,c,f){return a.latLngToLayerPoint(c).distanceTo(a.latLngToLayerPoint(f))}},H=L.Class.extend({includes:[I,Fe],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,editable:!1,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1},setOptions:function(a){L.Util.setOptions(this,a),this.setStyle(this.options)},setStyle:function(){},getOptions:function(){return this.options},initialize:function(a){var c=this,f=new L.Icon.Default;f.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=f,this._map=a,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach(function(_){c[_]=new L.PM.Draw[_](c._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions:function(a){this.options.pathOptions=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?T()(this.options.pathOptions,a):a},getShapes:function(){return this.shapes},getShape:function(){return this._shape},enable:function(a,c){if(!a)throw new Error("Error: Please pass a shape as a parameter. Possible shapes are: ".concat(this.getShapes().join(",")));this.disable(),this[a].enable(c)},disable:function(){var a=this;this.shapes.forEach(function(c){a[c].disable()})},addControls:function(){var a=this;this.shapes.forEach(function(c){a[c].addButton()})},getActiveShape:function(){var a,c=this;return this.shapes.forEach(function(f){c[f]._enabled&&(a=f)}),a},_setGlobalDrawMode:function(){"Cut"===this._shape?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled(),L.PM.Utils.findLayers(this._map).forEach(this._enabled?function(c){L.PM.Utils.disablePopup(c)}:function(c){L.PM.Utils.enablePopup(c)})},createNewDrawInstance:function(a,c){var f=this._getShapeFromBtnName(c);if(this[a])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[f])throw new TypeError("There is no class L.PM.Draw.".concat(f));return this[a]=new L.PM.Draw[f](this._map),this[a].toolbarButtonName=a,this[a]._shape=a,this.shapes.push(a),this[c]&&this[a].setOptions(this[c].options),this[a].setOptions(this[a].options),this[a]},_getShapeFromBtnName:function(a){var c={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return c[a]?c[a]:this[a]?this[a]._shape:a},_finishLayer:function(a){a.pm&&(a.pm.setOptions(this.options),a.pm._shape=this._shape,a.pm._map=this._map),this._addDrawnLayerProp(a)},_addDrawnLayerProp:function(a){a._drawnByGeoman=!0},_setPane:function(a,c){"layerPane"===c?a.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":"vertexPane"===c?a.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":"markerPane"===c&&(a.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer:function(){return 0===(this._map||this._layer._map).pm.getGeomanLayers().length}});H.Marker=H.extend({initialize:function(a){this._map=a,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable:function(a){var c=this;L.Util.setOptions(this,a),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(Be("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(function(f){c.isRelevantMarker(f)&&f.pm.enable()}),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){var a=this;this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(function(c){a.isRelevantMarker(c)&&c.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(a){this.enabled()?this.disable():this.enable(a)},isRelevantMarker:function(a){return a instanceof L.Marker&&a.pm&&!a._pmTempLayer&&!a.pm._initTextMarker},_syncHintMarker:function(a){if(this._hintMarker.setLatLng(a.latlng),this.options.snappable){var c=a;c.target=this._hintMarker,this._handleSnapping(c)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker:function(a){if(a.latlng&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){this._hintMarker._snapped||this._hintMarker.setLatLng(a.latlng);var c=this._hintMarker.getLatLng(),f=new L.Marker(c,this.options.markerStyle);this._setPane(f,"markerPane"),this._finishLayer(f),f.pm||(f.options.draggable=!1),f.addTo(this._map.pm._getContainingLayer()),f.pm&&this.options.markerEditable?f.pm.enable():f.dragging&&f.dragging.disable(),this._fireCreate(f),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},setStyle:function(){var a,c;null!==(a=this.options.markerStyle)&&void 0!==a&&a.icon&&(null===(c=this._hintMarker)||void 0===c||c.setIcon(this.options.markerStyle.icon))}});var Z=6371008.8,he={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260.511392,inches:39.37*Z,kilometers:6371.0088,kilometres:6371.0088,meters:Z,metres:Z,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:Z/1852,radians:1,yards:6967335.223679999};function ce(a,c,f){void 0===f&&(f={});var _={type:"Feature"};return(0===f.id||f.id)&&(_.id=f.id),f.bbox&&(_.bbox=f.bbox),_.properties=c||{},_.geometry=a,_}function Me(a,c,f){if(void 0===f&&(f={}),!a)throw new Error("coordinates is required");if(!Array.isArray(a))throw new Error("coordinates must be an Array");if(a.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Ft(a[0])||!Ft(a[1]))throw new Error("coordinates must contain numbers");return ce({type:"Point",coordinates:a},c,f)}function Ze(a,c,f){if(void 0===f&&(f={}),a.length<2)throw new Error("coordinates must be an array of two or more positions");return ce({type:"LineString",coordinates:a},c,f)}function ct(a,c){void 0===c&&(c={});var f={type:"FeatureCollection"};return c.id&&(f.id=c.id),c.bbox&&(f.bbox=c.bbox),f.features=a,f}function zt(a){return a%(2*Math.PI)*180/Math.PI}function gt(a){return a%360*Math.PI/180}function Ft(a){return!isNaN(a)&&null!==a&&!Array.isArray(a)}function Yt(a){var c,f,_={type:"FeatureCollection",features:[]};if("LineString"===(f="Feature"===a.type?a.geometry:a).type)c=[f.coordinates];else if("MultiLineString"===f.type)c=f.coordinates;else if("MultiPolygon"===f.type)c=[].concat.apply([],f.coordinates);else{if("Polygon"!==f.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");c=f.coordinates}return c.forEach(function(b){c.forEach(function(k){for(var O=0;O<b.length-1;O++)for(var A=O;A<k.length-1;A++)if(b!==k||1!==Math.abs(O-A)&&(0!==O||A!==b.length-2||b[O][0]!==b[b.length-1][0]||b[O][1]!==b[b.length-1][1])){var F=sn(b[O][0],b[O][1],b[O+1][0],b[O+1][1],k[A][0],k[A][1],k[A+1][0],k[A+1][1]);F&&_.features.push(Me([F[0],F[1]]))}})}),_}function sn(a,c,f,_,b,k,O,A){var F,z,ee,X,ae={x:null,y:null,onLine1:!1,onLine2:!1};return 0==(F=(A-k)*(f-a)-(O-b)*(_-c))?null!==ae.x&&null!==ae.y&&ae:(X=(f-a)*(z=c-k)-(_-c)*(ee=a-b),z=((O-b)*z-(A-k)*ee)/F,ee=X/F,ae.x=a+z*(f-a),ae.y=c+z*(_-c),z>=0&&z<=1&&(ae.onLine1=!0),ee>=0&&ee<=1&&(ae.onLine2=!0),!(!ae.onLine1||!ae.onLine2)&&[ae.x,ae.y])}function nn(a,c){var f=Object.keys(a);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(a);c&&(_=_.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),f.push.apply(f,_)}return f}function Cn(a){for(var c=1;c<arguments.length;c++){var f=null!=arguments[c]?arguments[c]:{};c%2?nn(Object(f),!0).forEach(function(_){Ln(a,_,f[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(f)):nn(Object(f)).forEach(function(_){Object.defineProperty(a,_,Object.getOwnPropertyDescriptor(f,_))})}return a}function Ln(a,c,f){return c in a?Object.defineProperty(a,c,{value:f,enumerable:!0,configurable:!0,writable:!0}):a[c]=f,a}function gi(a,c){var f=Object.keys(a);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(a);c&&(_=_.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),f.push.apply(f,_)}return f}function ni(a){for(var c=1;c<arguments.length;c++){var f=null!=arguments[c]?arguments[c]:{};c%2?gi(Object(f),!0).forEach(function(_){bn(a,_,f[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(f)):gi(Object(f)).forEach(function(_){Object.defineProperty(a,_,Object.getOwnPropertyDescriptor(f,_))})}return a}function bn(a,c,f){return c in a?Object.defineProperty(a,c,{value:f,enumerable:!0,configurable:!0,writable:!0}):a[c]=f,a}function On(a,c){var f=Object.keys(a);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(a);c&&(_=_.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),f.push.apply(f,_)}return f}function ii(a){for(var c=1;c<arguments.length;c++){var f=null!=arguments[c]?arguments[c]:{};c%2?On(Object(f),!0).forEach(function(_){Li(a,_,f[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(f)):On(Object(f)).forEach(function(_){Object.defineProperty(a,_,Object.getOwnPropertyDescriptor(f,_))})}return a}function Li(a,c,f){return c in a?Object.defineProperty(a,c,{value:f,enumerable:!0,configurable:!0,writable:!0}):a[c]=f,a}function fn(a){if(!a)throw new Error("coord is required");if(!Array.isArray(a)){if("Feature"===a.type&&null!==a.geometry&&"Point"===a.geometry.type)return a.geometry.coordinates;if("Point"===a.type)return a.coordinates}if(Array.isArray(a)&&a.length>=2&&!Array.isArray(a[0])&&!Array.isArray(a[1]))return a;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function an(a){if(Array.isArray(a))return a;if("Feature"===a.type){if(null!==a.geometry)return a.geometry.coordinates}else if(a.coordinates)return a.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function mi(a){return"Feature"===a.type?a.geometry:a}function Ir(a,c){return"FeatureCollection"===a.type?"FeatureCollection":"GeometryCollection"===a.type?"GeometryCollection":"Feature"===a.type&&null!==a.geometry?a.geometry.type:a.type}function oo(a,c,f){if(null!==a)for(var _,b,k,O,A,F,z,ee,X=0,ae=0,_e=a.type,Ee="FeatureCollection"===_e,We="Feature"===_e,ut=Ee?a.features.length:1,Nt=0;Nt<ut;Nt++){A=(ee=!!(z=Ee?a.features[Nt].geometry:We?a.geometry:a)&&"GeometryCollection"===z.type)?z.geometries.length:1;for(var Ue=0;Ue<A;Ue++){var It=0,Rt=0;if(null!==(O=ee?z.geometries[Ue]:z)){F=O.coordinates;var rn=O.type;switch(X=!f||"Polygon"!==rn&&"MultiPolygon"!==rn?0:1,rn){case null:break;case"Point":if(!1===c(F,ae,Nt,It,Rt))return!1;ae++,It++;break;case"LineString":case"MultiPoint":for(_=0;_<F.length;_++){if(!1===c(F[_],ae,Nt,It,Rt))return!1;ae++,"MultiPoint"===rn&&It++}"LineString"===rn&&It++;break;case"Polygon":case"MultiLineString":for(_=0;_<F.length;_++){for(b=0;b<F[_].length-X;b++){if(!1===c(F[_][b],ae,Nt,It,Rt))return!1;ae++}"MultiLineString"===rn&&It++,"Polygon"===rn&&Rt++}"Polygon"===rn&&It++;break;case"MultiPolygon":for(_=0;_<F.length;_++){for(Rt=0,b=0;b<F[_].length;b++){for(k=0;k<F[_][b].length-X;k++){if(!1===c(F[_][b][k],ae,Nt,It,Rt))return!1;ae++}Rt++}It++}break;case"GeometryCollection":for(_=0;_<O.geometries.length;_++)if(!1===oo(O.geometries[_],c,f))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function hr(a,c){if("Feature"===a.type)c(a,0);else if("FeatureCollection"===a.type)for(var f=0;f<a.features.length&&!1!==c(a.features[f],f);f++);}function To(a,c){!function Vn(a,c){var f,_,b,k,O,A,F,z,ee,X,ae=0,_e="FeatureCollection"===a.type,Ee="Feature"===a.type,We=_e?a.features.length:1;for(f=0;f<We;f++){for(z=_e?a.features[f].properties:Ee?a.properties:{},ee=_e?a.features[f].bbox:Ee?a.bbox:void 0,X=_e?a.features[f].id:Ee?a.id:void 0,O=(F=!!(A=_e?a.features[f].geometry:Ee?a.geometry:a)&&"GeometryCollection"===A.type)?A.geometries.length:1,b=0;b<O;b++)if(null!==(k=F?A.geometries[b]:A))switch(k.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===c(k,ae,z,ee,X))return!1;break;case"GeometryCollection":for(_=0;_<k.geometries.length;_++)if(!1===c(k.geometries[_],ae,z,ee,X))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===c(null,ae,z,ee,X))return!1;ae++}}(a,function(f,_,b,k,O){var A,F=null===f?null:f.type;switch(F){case null:case"Point":case"LineString":case"Polygon":return!1!==c(ce(f,b,{bbox:k,id:O}),_,0)&&void 0}switch(F){case"MultiPoint":A="Point";break;case"MultiLineString":A="LineString";break;case"MultiPolygon":A="Polygon"}for(var z=0;z<f.coordinates.length;z++)if(!1===c(ce({type:A,coordinates:f.coordinates[z]},b),_,z))return!1})}H.Line=H.extend({initialize:function(a){this._map=a,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable:function(a){L.Util.setOptions(this,a),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],Cn(Cn({},this.options.templineStyle),{},{pmIgnore:!1})),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Be("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map._container.style.cursor="crosshair",this._map.on("click",this._createVertex,this),this.options.finishOn&&"snap"!==this.options.finishOn&&this._map.on(this.options.finishOn,this._finishShape,this),"dblclick"===this.options.finishOn&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&"snap"!==this.options.finishOn&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(a){this.enabled()?this.disable():this.enable(a)},_syncHintLine:function(){var a=this._layer.getLatLngs();a.length>0&&this._hintline.setLatLngs([a[a.length-1],this._hintMarker.getLatLng()])},_syncHintMarker:function(a){if(this._hintMarker.setLatLng(a.latlng),this.options.snappable){var c=a;c.target=this._hintMarker,this._handleSnapping(c)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());var f=this._layer._defaultShape().slice();f.push(this._hintMarker.getLatLng()),this._change(f)},hasSelfIntersection:function(){return Yt(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection:function(a,c){var f=L.polyline(this._layer.getLatLngs());a&&(c||(c=this._hintMarker.getLatLng()),f.addLatLng(c));var _=Yt(f.toGeoJSON(15));this._doesSelfIntersect=_.features.length>0,this._doesSelfIntersect?this._hintline.setStyle({color:"#f00000ff"}):this._hintline.isEmpty()||this._hintline.setStyle(this.options.hintlineStyle)},_createVertex:function(a){if(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,a.latlng),!this._doesSelfIntersect)){this._hintMarker._snapped||this._hintMarker.setLatLng(a.latlng);var c=this._hintMarker.getLatLng(),f=this._layer.getLatLngs(),_=f[f.length-1];if(c.equals(f[0])||f.length>0&&c.equals(_))this._finishShape();else{this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:c,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(c);var b=this._createMarker(c);this._setTooltipText(),this._setHintLineAfterNewVertex(c),this._fireVertexAdded(b,void 0,c,"Draw"),this._change(this._layer.getLatLngs()),"snap"===this.options.finishOn&&this._hintMarker._snapped&&this._finishShape(a)}}},_setHintLineAfterNewVertex:function(a){this._hintline.setLatLngs([a,a])},_removeLastVertex:function(){var a=this._markers;if(a.length<=1)this.disable();else{var c=this._layer.getLatLngs(),f=a[a.length-1],_=L.PM.Utils.findDeepMarkerIndex(a,f).indexPath;a.pop(),this._layerGroup.removeLayer(f);var k=c.indexOf(a[a.length-1].getLatLng());c=c.slice(0,k+1),this._layer.setLatLngs(c),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(f,_,"Draw"),this._change(this._layer.getLatLngs())}},_finishShape:function(){if((this.options.allowSelfIntersection||(this._handleSelfIntersection(!1),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var a=this._layer.getLatLngs();if(!(a.length<=1)){var c=L.polyline(a,this.options.pathOptions);this._setPane(c,"layerPane"),this._finishLayer(c),c.addTo(this._map.pm._getContainingLayer()),this._fireCreate(c),this.options.snappable&&this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}}},_createMarker:function(a){var c=new L.Marker(a,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(c,"vertexPane"),c._pmTempLayer=!0,this._layerGroup.addLayer(c),this._markers.push(c),c.on("click",this._finishShape,this),c},_setTooltipText:function(){var a;a=Be(this._layer.getLatLngs().flat().length<=1?"tooltips.continueLine":"tooltips.finishLine"),this._hintMarker.setTooltipContent(a)},_change:function(a){this._fireChange(a,"Draw")},setStyle:function(){var a,c;null===(a=this._layer)||void 0===a||a.setStyle(this.options.templineStyle),null===(c=this._hintline)||void 0===c||c.setStyle(this.options.hintlineStyle)}}),H.Polygon=H.Line.extend({initialize:function(a){this._map=a,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable:function(a){L.PM.Draw.Line.prototype.enable.call(this,a),this._layer.pm._shape="Polygon"},_createMarker:function(a){var c=new L.Marker(a,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(c,"vertexPane"),c._pmTempLayer=!0,this._layerGroup.addLayer(c),this._markers.push(c),1===this._layer.getLatLngs().flat().length?(c.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(c)-1,this.options.snappable&&this._cleanupSnapping()):c.on("click",function(){return 1}),c},_setTooltipText:function(){var a;a=Be(this._layer.getLatLngs().flat().length<=2?"tooltips.continueLine":"tooltips.finishPoly"),this._hintMarker.setTooltipContent(a)},_finishShape:function(){if((this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var a=this._layer.getLatLngs();if(!(a.length<=2)){var c=L.polygon(a,this.options.pathOptions);this._setPane(c,"layerPane"),this._finishLayer(c),c.addTo(this._map.pm._getContainingLayer()),this._fireCreate(c),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this.disable(),this.options.continueDrawing&&this.enable()}}}}),H.Rectangle=H.extend({initialize:function(a){this._map=a,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable:function(a){if(L.Util.setOptions(this,a),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Be("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(var c=0;c<2;c+=1){var f=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(f,"vertexPane"),f._pmTempLayer=!0,this._layerGroup.addLayer(f),this._styleMarkers.push(f)}}this._map._container.style.cursor="crosshair",this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(a){this.enabled()?this.disable():this.enable(a)},_placeStartingMarkers:function(a){this._hintMarker._snapped||this._hintMarker.setLatLng(a.latlng);var c=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(c),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(function(f){L.DomUtil.addClass(f._icon,"visible"),f.setLatLng(c)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(Be("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin:function(){var a=this._startMarker.getLatLng();a&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([a,a]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker:function(a){if(this._hintMarker.setLatLng(a.latlng),this.options.snappable){var c=a;c.target=this._hintMarker,this._handleSnapping(c)}var f=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(f,"Draw")},_syncRectangleSize:function(){var a=this,c=ur(this._startMarker.getLatLng(),this._map),f=ur(this._hintMarker.getLatLng(),this._map),_=L.PM.Utils._getRotatedRectangle(c,f,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(_),this.options.cursorMarker&&this._styleMarkers){var b=[];_.forEach(function(k){k.equals(c,1e-8)||k.equals(f,1e-8)||b.push(k)}),b.forEach(function(k,O){try{a._styleMarkers[O].setLatLng(k)}catch{}})}},_findCorners:function(){var a=this._layer.getBounds();return[a.getNorthWest(),a.getNorthEast(),a.getSouthEast(),a.getSouthWest()]},_finishShape:function(a){this._hintMarker._snapped||this._hintMarker.setLatLng(a.latlng);var c=this._hintMarker.getLatLng(),f=this._startMarker.getLatLng();if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){var _=L.rectangle([f,c],this.options.pathOptions);if(this.options.rectangleAngle){var b=L.PM.Utils._getRotatedRectangle(f,c,this.options.rectangleAngle||0,this._map);_.setLatLngs(b),_.pm&&_.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(_,"layerPane"),this._finishLayer(_),_.addTo(this._map.pm._getContainingLayer()),this._fireCreate(_),this.disable(),this.options.continueDrawing&&this.enable()}},setStyle:function(){var a;null===(a=this._layer)||void 0===a||a.setStyle(this.options.pathOptions)}}),H.Circle=H.extend({initialize:function(a){this._map=a,this._shape="Circle",this.toolbarButtonName="drawCircle"},enable:function(a){L.Util.setOptions(this,a),this.options.radius=0,this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.circle(this._map.getCenter(),ni(ni({},this.options.templineStyle),{},{radius:0})),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Be("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map._container.style.cursor="crosshair",this._map.on("click",this._placeCenterMarker,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(a){this.enabled()?this.disable():this.enable(a)},_syncHintLine:function(){var a=this._centerMarker.getLatLng(),c=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([a,c])},_syncCircleRadius:function(){var a,c=this._centerMarker.getLatLng(),f=this._hintMarker.getLatLng();a=this._map.options.crs===L.CRS.Simple?this._map.distance(c,f):c.distanceTo(f),this._layer.setRadius(this.options.minRadiusCircle&&a<this.options.minRadiusCircle?this.options.minRadiusCircle:this.options.maxRadiusCircle&&a>this.options.maxRadiusCircle?this.options.maxRadiusCircle:a)},_syncHintMarker:function(a){if(this._hintMarker.setLatLng(a.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){var c=a;c.target=this._hintMarker,this._handleSnapping(c)}this._handleHintMarkerSnapping();var f=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(f,"Draw")},_placeCenterMarker:function(a){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(a.latlng);var c=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(c),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var a=this._centerMarker.getLatLng();a&&(this._layer.setLatLng(a),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(Be("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_finishShape:function(a){if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){this._hintMarker._snapped||this._hintMarker.setLatLng(a.latlng);var c,f=this._centerMarker.getLatLng(),_=this._hintMarker.getLatLng();c=this._map.options.crs===L.CRS.Simple?this._map.distance(f,_):f.distanceTo(_),this.options.minRadiusCircle&&c<this.options.minRadiusCircle?c=this.options.minRadiusCircle:this.options.maxRadiusCircle&&c>this.options.maxRadiusCircle&&(c=this.options.maxRadiusCircle);var b=ni(ni({},this.options.pathOptions),{},{radius:c}),k=L.circle(f,b);this._setPane(k,"layerPane"),this._finishLayer(k),k.addTo(this._map.pm._getContainingLayer()),k.pm&&k.pm._updateHiddenPolyCircle(),this._fireCreate(k),this.disable(),this.options.continueDrawing&&this.enable()}},_getNewDestinationOfHintMarker:function(){var a=this._hintMarker.getLatLng();if(!this._layerGroup.hasLayer(this._centerMarker))return a;var c=this._centerMarker.getLatLng(),f=c.distanceTo(a);return this.options.minRadiusCircle&&f<this.options.minRadiusCircle?a=bt(this._map,c,a,this.options.minRadiusCircle):this.options.maxRadiusCircle&&f>this.options.maxRadiusCircle&&(a=bt(this._map,c,a,this.options.maxRadiusCircle)),a},_handleHintMarkerSnapping:function(){if(this._hintMarker._snapped){var a=this._centerMarker.getLatLng(),c=this._hintMarker.getLatLng(),f=a.distanceTo(c);this._layerGroup.hasLayer(this._centerMarker)&&(this.options.minRadiusCircle&&f<this.options.minRadiusCircle||this.options.maxRadiusCircle&&f>this.options.maxRadiusCircle)&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng)}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())},setStyle:function(){var a,c;null===(a=this._layer)||void 0===a||a.setStyle(this.options.templineStyle),null===(c=this._hintline)||void 0===c||c.setStyle(this.options.hintlineStyle)}}),H.CircleMarker=H.Marker.extend({initialize:function(a){this._map=a,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1},enable:function(a){var c=this;if(L.Util.setOptions(this,a),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this.options.editable){var f={};L.extend(f,this.options.templineStyle),f.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.circleMarker(this._map.getCenter(),f),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Be("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this),this._map._container.style.cursor="crosshair"}else this._map.on("click",this._createMarker,this),this._hintMarker=L.circleMarker(this._map.getCenter(),this.options.templineStyle),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(Be("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),!this.options.editable&&this.options.markerEditable&&this._map.eachLayer(function(_){c.isRelevantMarker(_)&&_.pm.enable()}),this._layer.bringToBack(),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){var a=this;this._enabled&&(this._enabled=!1,this.options.editable?(this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._map.eachLayer(function(c){a.isRelevantMarker(c)&&c.pm.disable()}),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_placeCenterMarker:function(a){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(a.latlng);var c=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(c),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var a=this._centerMarker.getLatLng();a&&(this._layer.setLatLng(a),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(Be("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine:function(){var a=this._centerMarker.getLatLng(),c=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([a,c])},_syncCircleRadius:function(){var a=this._centerMarker.getLatLng(),c=this._hintMarker.getLatLng(),f=this._map.project(a).distanceTo(this._map.project(c));this._layer.setRadius(this.options.minRadiusCircleMarker&&f<this.options.minRadiusCircleMarker?this.options.minRadiusCircleMarker:this.options.maxRadiusCircleMarker&&f>this.options.maxRadiusCircleMarker?this.options.maxRadiusCircleMarker:f)},_syncHintMarker:function(a){if(this._hintMarker.setLatLng(a.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){var c=a;c.target=this._hintMarker,this._handleSnapping(c)}this._handleHintMarkerSnapping();var f=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(f,"Draw")},isRelevantMarker:function(a){return a instanceof L.CircleMarker&&!(a instanceof L.Circle)&&a.pm&&!a._pmTempLayer},_createMarker:function(a){if((!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())&&a.latlng&&!this._layerIsDragging){this._hintMarker._snapped||this._hintMarker.setLatLng(a.latlng);var c=this._hintMarker.getLatLng(),f=L.circleMarker(c,this.options.pathOptions);this._setPane(f,"layerPane"),this._finishLayer(f),f.addTo(this._map.pm._getContainingLayer()),f.pm&&this.options.markerEditable&&f.pm.enable(),this._fireCreate(f),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},_finishShape:function(a){if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){this._hintMarker._snapped||this._hintMarker.setLatLng(a.latlng);var c=this._centerMarker.getLatLng(),f=this._hintMarker.getLatLng(),_=this._map.project(c).distanceTo(this._map.project(f));this.options.editable&&(this.options.minRadiusCircleMarker&&_<this.options.minRadiusCircleMarker?_=this.options.minRadiusCircleMarker:this.options.maxRadiusCircleMarker&&_>this.options.maxRadiusCircleMarker&&(_=this.options.maxRadiusCircleMarker));var b=ii(ii({},this.options.pathOptions),{},{radius:_}),k=L.circleMarker(c,b);this._setPane(k,"layerPane"),this._finishLayer(k),k.addTo(this._map.pm._getContainingLayer()),k.pm&&k.pm._updateHiddenPolyCircle(),this._fireCreate(k),this.disable(),this.options.continueDrawing&&this.enable()}},_getNewDestinationOfHintMarker:function(){var a=this._hintMarker.getLatLng();if(this.options.editable){if(!this._layerGroup.hasLayer(this._centerMarker))return a;var c=this._centerMarker.getLatLng(),f=this._map.project(c).distanceTo(this._map.project(a));this.options.minRadiusCircleMarker&&f<this.options.minRadiusCircleMarker?a=bt(this._map,c,a,this._pxRadiusToMeter(this.options.minRadiusCircleMarker)):this.options.maxRadiusCircleMarker&&f>this.options.maxRadiusCircleMarker&&(a=bt(this._map,c,a,this._pxRadiusToMeter(this.options.maxRadiusCircleMarker)))}return a},_handleHintMarkerSnapping:function(){if(this.options.editable){if(this._hintMarker._snapped){var a=this._centerMarker.getLatLng(),c=this._hintMarker.getLatLng(),f=this._map.project(a).distanceTo(this._map.project(c));this._layerGroup.hasLayer(this._centerMarker)&&(this.options.minRadiusCircleMarker&&f<this.options.minRadiusCircleMarker||this.options.maxRadiusCircleMarker&&f>this.options.maxRadiusCircleMarker)&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng)}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},_pxRadiusToMeter:function(a){var c=this._centerMarker.getLatLng(),f=this._map.project(c),_=L.point(f.x+a,f.y);return this._map.unproject(_).distanceTo(c)},setStyle:function(){var a,c,f={};L.extend(f,this.options.templineStyle),this.options.editable&&(f.radius=0),null===(a=this._layer)||void 0===a||a.setStyle(f),null===(c=this._hintline)||void 0===c||c.setStyle(this.options.hintlineStyle)}});const An=function(a){if(!a)throw new Error("geojson is required");var c=[];return To(a,function(f){!function(_,b){var k=[],O=_.geometry;if(null!==O){switch(O.type){case"Polygon":k=an(O);break;case"LineString":k=[an(O)]}k.forEach(function(A){var ee,X;(ee=_.properties,X=[],A.reduce(function(ae,_e){var Ee,We,ut,Nt,Ue,It,Rt=Ze([ae,_e],ee);return Rt.bbox=[(ut=(Ee=ae)[0])<(Ue=(We=_e)[0])?ut:Ue,(Nt=Ee[1])<(It=We[1])?Nt:It,ut>Ue?ut:Ue,Nt>It?Nt:It],X.push(Rt),_e}),X).forEach(function(z){z.id=b.length,b.push(z)})})}}(f,c)}),ct(c)};var ze=M(1787);function Io(a,c){var f=an(a),_=an(c);if(2!==f.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==_.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var b=f[0][0],k=f[0][1],O=f[1][0],A=f[1][1],F=_[0][0],z=_[0][1],ee=_[1][0],X=_[1][1],ae=(X-z)*(O-b)-(ee-F)*(A-k);if(0===ae)return null;var We=((ee-F)*(k-z)-(X-z)*(b-F))/ae,ut=((O-b)*(k-z)-(A-k)*(b-F))/ae;return We>=0&&We<=1&&ut>=0&&ut<=1?Me([b+We*(O-b),k+We*(A-k)]):null}const _i=function(a,c){var f={},_=[];if("LineString"===a.type&&(a=ce(a)),"LineString"===c.type&&(c=ce(c)),"Feature"===a.type&&"Feature"===c.type&&null!==a.geometry&&null!==c.geometry&&"LineString"===a.geometry.type&&"LineString"===c.geometry.type&&2===a.geometry.coordinates.length&&2===c.geometry.coordinates.length){var b=Io(a,c);return b&&_.push(b),ct(_)}var k=ze();return k.load(An(c)),hr(An(a),function(O){hr(k.search(O),function(A){var F=Io(O,A);if(F){var z=an(F).join(",");f[z]||(f[z]=!0,_.push(F))}})}),ct(_)},Ei=function(a,c,f){void 0===f&&(f={});var _=fn(a),b=fn(c),k=gt(b[1]-_[1]),O=gt(b[0]-_[0]),A=gt(_[1]),F=gt(b[1]),z=Math.pow(Math.sin(k/2),2)+Math.pow(Math.sin(O/2),2)*Math.cos(A)*Math.cos(F);return function Mt(a,c){void 0===c&&(c="kilometers");var f=he[c];if(!f)throw new Error(c+" units is invalid");return a*f}(2*Math.atan2(Math.sqrt(z),Math.sqrt(1-z)),f.units)},cs=function(a){var c=a[0],f=a[1],_=a[2],b=a[3];if(Ei(a.slice(0,2),[_,f])>=Ei(a.slice(0,2),[c,b])){var k=(f+b)/2;return[c,k-(_-c)/2,_,k+(_-c)/2]}var O=(c+_)/2;return[O-(b-f)/2,f,O+(b-f)/2,b]};function Sn(a){var c=[1/0,1/0,-1/0,-1/0];return oo(a,function(f){c[0]>f[0]&&(c[0]=f[0]),c[1]>f[1]&&(c[1]=f[1]),c[2]<f[0]&&(c[2]=f[0]),c[3]<f[1]&&(c[3]=f[1])}),c}Sn.default=Sn;const dr=Sn;function xi(a,c,f){if(void 0===f&&(f={}),!0===f.final)return(xi(c,a)+180)%360;var _=fn(a),b=fn(c),k=gt(_[0]),O=gt(b[0]),A=gt(_[1]),F=gt(b[1]),z=Math.sin(O-k)*Math.cos(F),ee=Math.cos(A)*Math.sin(F)-Math.sin(A)*Math.cos(F)*Math.cos(O-k);return zt(Math.atan2(z,ee))}function Hn(a,c,f,_){void 0===_&&(_={});var b=fn(a),k=gt(b[0]),O=gt(b[1]),A=gt(f),F=function rt(a,c){void 0===c&&(c="kilometers");var f=he[c];if(!f)throw new Error(c+" units is invalid");return a/f}(c,_.units),z=Math.asin(Math.sin(O)*Math.cos(F)+Math.cos(O)*Math.sin(F)*Math.cos(A));return Me([zt(k+Math.atan2(Math.sin(A)*Math.sin(F)*Math.cos(O),Math.cos(F)-Math.sin(O)*Math.sin(z))),zt(z)],_.properties)}const xl=function(a,c,f){void 0===f&&(f={});var _=Me([1/0,1/0],{dist:1/0}),b=0;return To(a,function(k){for(var O=an(k),A=0;A<O.length-1;A++){var F=Me(O[A]);F.properties.dist=Ei(c,F,f);var z=Me(O[A+1]);z.properties.dist=Ei(c,z,f);var ee=Ei(F,z,f),X=Math.max(F.properties.dist,z.properties.dist),ae=xi(F,z),_e=Hn(c,X,ae+90,f),Ee=Hn(c,X,ae-90,f),We=_i(Ze([_e.geometry.coordinates,Ee.geometry.coordinates]),Ze([F.geometry.coordinates,z.geometry.coordinates])),ut=null;We.features.length>0&&((ut=We.features[0]).properties.dist=Ei(c,ut,f),ut.properties.location=b+Ei(F,ut,f)),F.properties.dist<_.properties.dist&&((_=F).properties.index=A,_.properties.location=b),z.properties.dist<_.properties.dist&&((_=z).properties.index=A+1,_.properties.location=b+ee),ut&&ut.properties.dist<_.properties.dist&&((_=ut).properties.index=A),b+=ee}}),_};function hs(a,c){var f=[],_=ze();return To(c,function(b){if(f.forEach(function(A,F){A.id=F}),f.length){var k=_.search(b);if(k.features.length){var O=Rr(b,k);f=f.filter(function(A){return A.id!==O.id}),_.remove(O),hr(Ro(O,b),function(A){f.push(A),_.insert(A)})}}else(f=Ro(a,b).features).forEach(function(A){A.bbox||(A.bbox=cs(dr(A)))}),_.load(ct(f))}),ct(f)}function Ro(a,c){var f=[],_=an(a)[0],b=an(a)[a.geometry.coordinates.length-1];if(Oo(_,fn(c))||Oo(b,fn(c)))return ct([a]);var k=ze(),O=An(a);k.load(O);var A=k.search(c);if(!A.features.length)return ct([a]);var ae,_e,F=Rr(c,A),z=(_e=ae=[_],hr(O,function(Ee,We){_e=0===We&&void 0===ae?Ee:function(ee,X,ae){var _e=an(X)[1],Ee=fn(c);return ae===F.id?(ee.push(Ee),f.push(Ze(ee)),Oo(Ee,_e)?[Ee]:[Ee,_e]):(ee.push(_e),ee)}(_e,Ee,We)}),_e);return z.length>1&&f.push(Ze(z)),ct(f)}function Rr(a,c){if(!c.features.length)throw new Error("lines must contain features");if(1===c.features.length)return c.features[0];var f,_=1/0;return hr(c,function(b){var k=xl(b,a).properties.dist;k<_&&(f=b,_=k)}),f}function Oo(a,c){return a[0]===c[0]&&a[1]===c[1]}function so(a,c,f){if(void 0===f&&(f={}),!a)throw new Error("point is required");if(!c)throw new Error("polygon is required");var ae,_e,_=fn(a),b=mi(c),O=c.bbox,A=b.coordinates;if(O&&0==((_e=O)[0]<=(ae=_)[0]&&_e[1]<=ae[1]&&_e[2]>=ae[0]&&_e[3]>=ae[1]))return!1;"Polygon"===b.type&&(A=[A]);for(var F=!1,z=0;z<A.length&&!F;z++)if(Ao(_,A[z][0],f.ignoreBoundary)){for(var ee=!1,X=1;X<A[z].length&&!ee;)Ao(_,A[z][X],!f.ignoreBoundary)&&(ee=!0),X++;ee||(F=!0)}return F}function Ao(a,c,f){var _=!1;c[0][0]===c[c.length-1][0]&&c[0][1]===c[c.length-1][1]&&(c=c.slice(0,c.length-1));for(var b=0,k=c.length-1;b<c.length;k=b++){var O=c[b][0],A=c[b][1],F=c[k][0],z=c[k][1];if(a[1]*(O-F)+A*(F-a[0])+z*(a[0]-O)==0&&(O-a[0])*(F-a[0])<=0&&(A-a[1])*(z-a[1])<=0)return!f;A>a[1]!=z>a[1]&&a[0]<(F-O)*(a[1]-A)/(z-A)+O&&(_=!_)}return _}function ds(a,c,f,_,b){var k=f[0],O=f[1],A=a[0],F=a[1],z=c[0],ee=c[1],X=z-A,ae=ee-F,_e=(f[0]-A)*ae-(f[1]-F)*X;if(null!==b){if(Math.abs(_e)>b)return!1}else if(0!==_e)return!1;return _?"start"===_?Math.abs(X)>=Math.abs(ae)?X>0?A<k&&k<=z:z<=k&&k<A:ae>0?F<O&&O<=ee:ee<=O&&O<F:"end"===_?Math.abs(X)>=Math.abs(ae)?X>0?A<=k&&k<z:z<k&&k<=A:ae>0?F<=O&&O<ee:ee<O&&O<=F:"both"===_&&(Math.abs(X)>=Math.abs(ae)?X>0?A<k&&k<z:z<k&&k<A:ae>0?F<O&&O<ee:ee<O&&O<F):Math.abs(X)>=Math.abs(ae)?X>0?A<=k&&k<=z:z<=k&&k<=A:ae>0?F<=O&&O<=ee:ee<=O&&O<=F}const Or=function(a,c,f){void 0===f&&(f={});for(var _=fn(a),b=an(c),k=0;k<b.length-1;k++){var O=!1;if(f.ignoreEndVertices&&(0===k&&(O="start"),k===b.length-2&&(O="end"),0===k&&k+1===b.length-1&&(O="both")),ds(b[k],b[k+1],_,O,typeof f.epsilon>"u"?null:f.epsilon))return!0}return!1};function ao(a,c){return!(a[0]>c[0]||a[2]<c[2]||a[1]>c[1]||a[3]<c[3])}function Vi(a,c){return a[0]===c[0]&&a[1]===c[1]}function No(a,c){return[(a[0]+c[0])/2,(a[1]+c[1])/2]}var fs=M(2676),fr=M.n(fs);function Ge(a){var c={type:"Feature"};return c.geometry=a,c}function Bt(a){return"Feature"===a.type?a.geometry:a}function Ar(a){return a&&a.geometry&&a.geometry.coordinates?a.geometry.coordinates:a}function yi(a){return Ge({type:"Polygon",coordinates:a})}function Et(a){return Ge({type:"MultiPolygon",coordinates:a})}function pr(a){return Array.isArray(a)?1+pr(a[0]):-1}function Re(a){a instanceof L.Polyline&&(a=a.toGeoJSON(15));var c=Ar(a),f=pr(c),_=[];return f>1?c.forEach(function(b){_.push(Ge({type:"LineString",coordinates:b}))}):_.push(a),_}function Hi(a,c){(null==c||c>a.length)&&(c=a.length);for(var f=0,_=new Array(c);f<c;f++)_[f]=a[f];return _}function Nr(a,c){(null==c||c>a.length)&&(c=a.length);for(var f=0,_=new Array(c);f<c;f++)_[f]=a[f];return _}H.Cut=H.Polygon.extend({initialize:function(a){this._map=a,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape:function(){var a=this;if(this._editedLayers=[],(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var c=this._layer.getLatLngs();if(!(c.length<=2)){var f=L.polygon(c,this.options.pathOptions);f._latlngInfos=this._layer._latlngInfo,this.cut(f),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(function(_){var b=_.layer,k=_.originalLayer;a._fireCut(k,b,k),a._fireCut(a._map,b,k),k.pm._fireEdit()}),this._editedLayers=[],this.disable(),this.options.continueDrawing&&this.enable()}}},cut:function(a){var c=this,f=this._map._layers,_=a._latlngInfos||[];Object.keys(f).map(function(b){return f[b]}).filter(function(b){return b.pm}).filter(function(b){return!b._pmTempLayer}).filter(function(b){return!L.PM.optIn&&!b.options.pmIgnore||L.PM.optIn&&!1===b.options.pmIgnore}).filter(function(b){return b instanceof L.Polyline}).filter(function(b){return b!==a}).filter(function(b){return b.pm.options.allowCutting}).filter(function(b){return!(c.options.layersToCut&&L.Util.isArray(c.options.layersToCut)&&c.options.layersToCut.length>0)||c.options.layersToCut.indexOf(b)>-1}).filter(function(b){return!c._layerGroup.hasLayer(b)}).filter(function(b){try{var k=!!_i(a.toGeoJSON(15),b.toGeoJSON(15)).features.length>0;return k||b instanceof L.Polyline&&!(b instanceof L.Polygon)?k:(O=a.toGeoJSON(15),A=b.toGeoJSON(15),F=Bt(O),z=Bt(A),!(0===(ee=fr().intersection(F.coordinates,z.coordinates)).length||!(1===ee.length?yi(ee[0]):Et(ee))))}catch{return b instanceof L.Polygon&&console.error("You can't cut polygons with self-intersections"),!1}var O,A,F,z,ee}).forEach(function(b){var k;if(b instanceof L.Polygon){var O=(k=L.polygon(b.getLatLngs())).getLatLngs();_.forEach(function(ae){if(ae&&ae.snapInfo){var _e=ae.latlng,Ee=c._calcClosestLayer(_e,[k]);if(Ee&&Ee.segment&&Ee.distance<c.options.snapDistance){var We=Ee.segment;if(We&&2===We.length){var ut=L.PM.Utils._getIndexFromSegment(O,We),Ue=ut.parentPath,It=ut.newIndex;(ut.indexPath.length>1?Se()(O,Ue):O).splice(It,0,_e)}}}})}else k=b;var A=c._cutLayer(a,k),F=L.geoJSON(A,b.options);if(1===F.getLayers().length){var z=F.getLayers();F=function Fo(a,c){return function(f){if(Array.isArray(f))return f}(a)||function(f,_){var b=null==f?null:typeof Symbol<"u"&&f[Symbol.iterator]||f["@@iterator"];if(null!=b){var k,O,A=[],F=!0,z=!1;try{for(b=b.call(f);!(F=(k=b.next()).done)&&(A.push(k.value),!_||A.length!==_);F=!0);}catch(ee){z=!0,O=ee}finally{try{F||null==b.return||b.return()}finally{if(z)throw O}}return A}}(a,c)||function(f,_){if(f){if("string"==typeof f)return Hi(f,_);var b=Object.prototype.toString.call(f).slice(8,-1);if("Object"===b&&f.constructor&&(b=f.constructor.name),"Map"===b||"Set"===b)return Array.from(f);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return Hi(f,_)}}(a,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(z,1)[0]}c._setPane(F,"layerPane");var ee=F.addTo(c._map.pm._getContainingLayer());if(ee.pm.enable(b.pm.options),ee.pm.disable(),b._pmTempLayer=!0,a._pmTempLayer=!0,b.remove(),b.removeFrom(c._map.pm._getContainingLayer()),a.remove(),a.removeFrom(c._map.pm._getContainingLayer()),ee.getLayers&&0===ee.getLayers().length&&c._map.pm.removeLayer({target:ee}),ee instanceof L.LayerGroup&&ee.eachLayer(function(ae){c._addDrawnLayerProp(ae)}),c._addDrawnLayerProp(ee),c.options.layersToCut&&L.Util.isArray(c.options.layersToCut)&&c.options.layersToCut.length>0){var X=c.options.layersToCut.indexOf(b);X>-1&&c.options.layersToCut.splice(X,1)}c._editedLayers.push({layer:ee,originalLayer:b})})},_cutLayer:function(a,c){var f,_,b,k,O,A,F=L.geoJSON();if(c instanceof L.Polygon)_=c.toGeoJSON(15),b=a.toGeoJSON(15),k=Bt(_),O=Bt(b),f=0===(A=fr().difference(k.coordinates,O.coordinates)).length?null:1===A.length?yi(A[0]):Et(A);else{var z=Re(c);z.forEach(function(ee){var X=function(a,c){if(!a)throw new Error("line is required");if(!c)throw new Error("splitter is required");var f=Ir(a),_=Ir(c);if("LineString"!==f)throw new Error("line must be LineString");if("FeatureCollection"===_)throw new Error("splitter cannot be a FeatureCollection");if("GeometryCollection"===_)throw new Error("splitter cannot be a GeometryCollection");var b=function(a,c){void 0===c&&(c={});var f=c.precision,_=c.coordinates,b=c.mutate;if(f=null==f||isNaN(f)?6:f,_=null==_||isNaN(_)?3:_,!a)throw new Error("<geojson> is required");if("number"!=typeof f)throw new Error("<precision> must be a number");if("number"!=typeof _)throw new Error("<coordinates> must be a number");!1!==b&&void 0!==b||(a=JSON.parse(JSON.stringify(a)));var k=Math.pow(10,f);return oo(a,function(O){!function(A,F,z){A.length>z&&A.splice(z,A.length);for(var ee=0;ee<A.length;ee++)A[ee]=Math.round(A[ee]*F)/F}(O,k,_)}),a}(c,{precision:7});switch(_){case"Point":return Ro(a,b);case"MultiPoint":return hs(a,b);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return hs(a,_i(a,b))}}(ee,a.toGeoJSON(15));(X&&X.features.length>0?L.geoJSON(X):L.geoJSON(ee)).getLayers().forEach(function(ae){(function ma(a,c){var f=mi(a),_=mi(c),b=f.type,k=_.type,O=f.coordinates,A=_.coordinates;switch(b){case"Point":if("Point"===k)return Vi(O,A);throw new Error("feature2 "+k+" geometry not supported");case"MultiPoint":switch(k){case"Point":return function(F,z){var ee,X=!1;for(ee=0;ee<F.coordinates.length;ee++)if(Vi(F.coordinates[ee],z.coordinates)){X=!0;break}return X}(f,_);case"MultiPoint":return function(F,z){for(var ee=0,X=z.coordinates;ee<X.length;ee++){for(var ae=X[ee],_e=!1,Ee=0,We=F.coordinates;Ee<We.length;Ee++)if(Vi(ae,We[Ee])){_e=!0;break}if(!_e)return!1}return!0}(f,_);default:throw new Error("feature2 "+k+" geometry not supported")}case"LineString":switch(k){case"Point":return Or(_,f,{ignoreEndVertices:!0});case"LineString":return function(F,z){for(var ee=!1,X=0,ae=z.coordinates;X<ae.length;X++){var _e=ae[X];if(Or({type:"Point",coordinates:_e},F,{ignoreEndVertices:!0})&&(ee=!0),!Or({type:"Point",coordinates:_e},F,{ignoreEndVertices:!1}))return!1}return ee}(f,_);case"MultiPoint":return function(F,z){for(var ee=!1,X=0,ae=z.coordinates;X<ae.length;X++){var _e=ae[X];if(Or(_e,F,{ignoreEndVertices:!0})&&(ee=!0),!Or(_e,F))return!1}return!!ee}(f,_);default:throw new Error("feature2 "+k+" geometry not supported")}case"Polygon":switch(k){case"Point":return so(_,f,{ignoreBoundary:!0});case"LineString":return function(F,z){var ee=!1,X=0;if(!ao(dr(F),dr(z)))return!1;for(;X<z.coordinates.length-1;X++)if(so({type:"Point",coordinates:No(z.coordinates[X],z.coordinates[X+1])},F,{ignoreBoundary:!0})){ee=!0;break}return ee}(f,_);case"Polygon":return function(F,z){if("Feature"===F.type&&null===F.geometry||"Feature"===z.type&&null===z.geometry)return!1;if(!ao(dr(F),dr(z)))return!1;for(var _e=0,Ee=mi(z).coordinates;_e<Ee.length;_e++)for(var We=0,ut=Ee[_e];We<ut.length;We++)if(!so(ut[We],F))return!1;return!0}(f,_);case"MultiPoint":return function(F,z){for(var ee=0,X=z.coordinates;ee<X.length;ee++)if(!so(X[ee],F,{ignoreBoundary:!0}))return!1;return!0}(f,_);default:throw new Error("feature2 "+k+" geometry not supported")}default:throw new Error("feature1 "+b+" geometry not supported")}})(a.toGeoJSON(15),ae.toGeoJSON(15))||ae.addTo(F)})}),f=z.length>1?function Vt(a){var c=[];return a.eachLayer(function(f){c.push(Ar(f.toGeoJSON(15)))}),Ge({type:"MultiLineString",coordinates:c})}(F):F.toGeoJSON(15)}return f},_change:L.Util.falseFn}),H.Text=H.extend({initialize:function(a){this._map=a,this._shape="Text",this.toolbarButtonName="drawText"},enable:function(a){L.Util.setOptions(this,a),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Be("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(a){this.enabled()?this.disable():this.enable(a)},_syncHintMarker:function(a){if(this._hintMarker.setLatLng(a.latlng),this.options.snappable){var c=a;c.target=this._hintMarker,this._handleSnapping(c)}},_createMarker:function(a){var c;if(a.latlng&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){this._hintMarker._snapped||this._hintMarker.setLatLng(a.latlng);var f=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),null!==(c=this.options.textOptions)&&void 0!==c&&c.className){var _,b=this.options.textOptions.className.split(" ");(_=this.textArea.classList).add.apply(_,function Ne(a){return function(c){if(Array.isArray(c))return Nr(c)}(a)||function(c){if(typeof Symbol<"u"&&null!=c[Symbol.iterator]||null!=c["@@iterator"])return Array.from(c)}(a)||function(c,f){if(c){if("string"==typeof c)return Nr(c,f);var _=Object.prototype.toString.call(c).slice(8,-1);if("Object"===_&&c.constructor&&(_=c.constructor.name),"Map"===_||"Set"===_)return Array.from(c);if("Arguments"===_||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return Nr(c,f)}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(b))}var k=this._createTextIcon(this.textArea),O=new L.Marker(f,{textMarker:!0,_textMarkerOverPM:!0,icon:k});if(this._setPane(O,"markerPane"),this._finishLayer(O),O.pm||(O.options.draggable=!1),O.addTo(this._map.pm._getContainingLayer()),O.pm){var A,F,z,ee,X;O.pm.textArea=this.textArea,L.setOptions(O.pm,{removeIfEmpty:null===(A=null===(F=this.options.textOptions)||void 0===F?void 0:F.removeIfEmpty)||void 0===A||A});var ae=null===(z=null===(ee=this.options.textOptions)||void 0===ee?void 0:ee.focusAfterDraw)||void 0===z||z;O.pm._createTextMarker(ae),null!==(X=this.options.textOptions)&&void 0!==X&&X.text&&O.pm.setText(this.options.textOptions.text)}this._fireCreate(O),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}},_createTextArea:function(){var a=document.createElement("textarea");return a.autofocus=!0,a.readOnly=!0,a.classList.add("pm-textarea","pm-disabled"),a},_createTextIcon:function(a){return L.divIcon({className:"pm-text-marker",html:a})}});const gr={enableLayerDrag:function(){if(this.options.draggable&&this._layer._map){this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,nt(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;var a=this._getDOMElem();a&&(nt(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(a)):L.DomEvent.on(a,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()}},disableLayerDrag:function(){this._layerDragEnabled=!1,nt(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();var a=this._getDOMElem();a&&(nt(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(a)):L.DomEvent.off(a,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging:function(){return this._dragging},layerDragEnabled:function(){return!!this._layerDragEnabled},_simulateMouseDownEvent:function(a){var c=a.touches?a.touches[0]:a,f={originalEvent:c,target:this._layer};return f.containerPoint=this._map.mouseEventToContainerPoint(c),f.latlng=this._map.containerPointToLatLng(f.containerPoint),this._dragMixinOnMouseDown(f),!1},_simulateMouseMoveEvent:function(a){var c=a.touches?a.touches[0]:a,f={originalEvent:c,target:this._layer};return f.containerPoint=this._map.mouseEventToContainerPoint(c),f.latlng=this._map.containerPointToLatLng(f.containerPoint),this._dragMixinOnMouseMove(f),!1},_simulateMouseUpEvent:function(a){var c={originalEvent:a.touches?a.touches[0]:a,target:this._layer};return-1===a.type.indexOf("touch")&&(c.containerPoint=this._map.mouseEventToContainerPoint(a),c.latlng=this._map.containerPointToLatLng(c.containerPoint)),this._dragMixinOnMouseUp(c),!1},_dragMixinOnMouseDown:function(a){if(!(a.originalEvent.button>0)){this._overwriteEventIfItComesFromMarker(a);var c=a._fromLayerSync,f=this._syncLayers("_dragMixinOnMouseDown",a);this._layer instanceof L.Marker&&(!this.options.snappable||c||f?this._disableSnapping():this._initSnappableMarkers()),this._layer instanceof L.CircleMarker&&!(this._layer instanceof L.Circle)&&(!this.options.snappable||c||f?this._layer.pm.options.editable?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag():this._layer.pm.options.editable||this._initSnappableMarkersDrag()),this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=a.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)}},_dragMixinOnMouseMove:function(a){this._overwriteEventIfItComesFromMarker(a);var c=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",a),this._dragging||(this._dragging=!0,L.DomUtil.addClass(c,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=a.latlng),this._onLayerDrag(a),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp:function(a){var c=this,f=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",a),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),!!this._dragging&&(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout(function(){c._dragging=!1,f&&L.DomUtil.removeClass(f,"leaflet-pm-dragging"),c._fireDragEnd(),c._fireEdit(),c._layerEdited=!0},10),!0)},_onLayerDrag:function(a){var c=a.latlng,f=c.lat-this._tempDragCoord.lat,_=c.lng-this._tempDragCoord.lng,b=function ee(X){return X.map(function(ae){if(Array.isArray(ae))return ee(ae);var _e={lat:ae.lat+f,lng:ae.lng+_};return(ae.alt||0===ae.alt)&&(_e.alt=ae.alt),_e})};if(this._layer instanceof L.Circle||this._layer instanceof L.CircleMarker&&this._layer.options.editable){var k=b([this._layer.getLatLng()]);this._layer.setLatLng(k[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){var O=this._layer.getLatLng();this._layer._snapped&&(O=this._layer._orgLatLng);var A=b([O]);this._layer.setLatLng(A[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){var F=b([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(F),this._fireChange(this._layer.getBounds(),"Edit")}else{var z=b(this._layer.getLatLngs());this._layer.setLatLngs(z),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=c,a.layer=this._layer,this._fireDrag(a)},addDraggingClass:function(){var a=this._getDOMElem();a&&L.DomUtil.addClass(a,"leaflet-pm-draggable")},removeDraggingClass:function(){var a=this._getDOMElem();a&&L.DomUtil.removeClass(a,"leaflet-pm-draggable")},_getDOMElem:function(){var a=null;return this._layer._path?a=this._layer._path:this._layer._renderer&&this._layer._renderer._container?a=this._layer._renderer._container:this._layer._image?a=this._layer._image:this._layer._icon&&(a=this._layer._icon),a},_overwriteEventIfItComesFromMarker:function(a){a.target.getLatLng&&(!a.target._radius||a.target._radius<=10)&&(a.containerPoint=this._map.mouseEventToContainerPoint(a.originalEvent),a.latlng=this._map.containerPointToLatLng(a.containerPoint))},_syncLayers:function(a,c){var f=this;if(this.enabled())return!1;if(!c._fromLayerSync&&this._layer===c.target&&this.options.syncLayersOnDrag){c._fromLayerSync=!0;var _=[];if(L.Util.isArray(this.options.syncLayersOnDrag))_=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach(function(O){O instanceof L.LayerGroup&&(_=_.concat(O.pm.getLayers(!0)))});else if(!0===this.options.syncLayersOnDrag&&this._parentLayerGroup)for(var b in this._parentLayerGroup){var k=this._parentLayerGroup[b];k.pm&&(_=k.pm.getLayers(!0))}return L.Util.isArray(_)&&_.length>0&&(_=_.filter(function(O){return!!O.pm}).filter(function(O){return!!O.pm.options.draggable})).forEach(function(O){O!==f._layer&&O.pm[a]&&(O._snapped=!1,O.pm[a](c))}),_.length>0}return!1},_stopDOMImageDrag:function(a){return a.preventDefault(),!1}};function $i(a,c,f){var A,F,_=f.getMaxZoom();if(_===1/0&&(_=f.getZoom()),L.Util.isArray(a)){var b=[];return a.forEach(function(k){b.push($i(k,c,f))}),b}return a instanceof L.LatLng?(A=f).unproject(c.transform(A.project(a,F=_)),F):null}function jt(a,c){c instanceof L.Layer&&(c=c.getLatLng());var f=a.getMaxZoom();return f===1/0&&(f=a.getZoom()),a.project(c,f)}function we(a,c){var f=a.getMaxZoom();return f===1/0&&(f=a.getZoom()),a.unproject(c,f)}var ki={_onRotateStart:function(a){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=jt(this._map,this._rotationOriginLatLng),this._rotationStartPoint=jt(this._map,a.target.getLatLng()),this._initialRotateLatLng=wt(this._layer),this._startAngle=this.getAngle();var c=wt(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,c),this._fireRotationStart(this._map,c)},_onRotate:function(a){var c=jt(this._map,a.target.getLatLng()),f=this._rotationStartPoint,_=this._rotationOriginPoint,b=Math.atan2(c.y-_.y,c.x-_.x)-Math.atan2(f.y-_.y,f.x-_.x);this._layer.setLatLngs(this._rotateLayer(b,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));var k=this;!function z(ee){var X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],ae=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(ae>-1&&X.push(ae),L.Util.isArray(ee[0]))ee.forEach(function(Ee,We){return z(Ee,X.slice(),We)});else{var _e=Se()(k._markers,X);ee.forEach(function(Ee,We){_e[We].setLatLng(Ee)})}}(this._layer.getLatLngs());var O=wt(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer(b,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));var A=180*b/Math.PI,F=(A=A<0?A+360:A)+this._startAngle;this._setAngle(F),this._rotationLayer.pm._setAngle(F),this._fireRotation(this._rotationLayer,A,O),this._fireRotation(this._map,A,O),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd:function(){var a=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;var c=wt(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=wt(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,a,c),this._fireRotationEnd(this._map,a,c),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer:function(a,c,f,_,b){var k=jt(b,f);return this._matrix=_.clone().rotate(a,k).flip(),$i(c,this._matrix,b)},_setAngle:function(a){this._angle=(a=a<0?a+360:a)%360},_getRotationCenter:function(){var a=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),c=a.getCenter();return a.removeFrom(this._layer._map),c},enableRotate:function(){this.options.allowRotation?(this.rotateEnabled()&&this.disableRotate(),this._rotatePoly=L.polygon(this._layer.getLatLngs(),{fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0}),this._rotatePoly._pmTempLayer=!0,this._rotatePoly.addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=wt(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)):this.disableRotate()},disableRotate:function(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled:function(){return this._rotateEnabled},rotateLayer:function(a){var c=this.getAngle(),f=this._layer.getLatLngs(),_=a*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(_,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+a),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(_,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());var b=this.getAngle()-c;b=b<0?b+360:b,this._startAngle=c,this._fireRotation(this._layer,b,f,this._layer),this._fireRotation(this._map||this._layer._map,b,f,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle:function(a){var c=a-this.getAngle();this.rotateLayer(c)},getAngle:function(){return this._angle||0},setInitAngle:function(a){this._setAngle(a)}};const qe=L.Class.extend({includes:[gr,I,ki,Fe],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0},setOptions:function(a){L.Util.setOptions(this,a)},getOptions:function(){return this.options},applyOptions:function(){},isPolygon:function(){return this._layer instanceof L.Polygon},getShape:function(){return this._shape},_setPane:function(a,c){"layerPane"===c?a.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":"vertexPane"===c?a.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":"markerPane"===c&&(a.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove:function(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation:function(a,c){var f=c.target,b="";return"move"===a?b="moveVertexValidation":"add"===a?b="addVertexValidation":"remove"===a&&(b="removeVertexValidation"),this.options[b]&&"function"==typeof this.options[b]&&!this.options[b]({layer:this._layer,marker:f,event:c})?("move"===a&&(f._cancelDragEventChain=f.getLatLng()),!1):(f._cancelDragEventChain=null,!0)},_vertexValidationDrag:function(a){return!a._cancelDragEventChain||(a._latlng=a._cancelDragEventChain,a.update(),!1)},_vertexValidationDragEnd:function(a){return!a._cancelDragEventChain||(a._cancelDragEventChain=null,!1)}});function Pi(a){return function(c){if(Array.isArray(c))return lo(c)}(a)||function(c){if(typeof Symbol<"u"&&null!=c[Symbol.iterator]||null!=c["@@iterator"])return Array.from(c)}(a)||function(c,f){if(c){if("string"==typeof c)return lo(c,f);var _=Object.prototype.toString.call(c).slice(8,-1);if("Object"===_&&c.constructor&&(_=c.constructor.name),"Map"===_||"Set"===_)return Array.from(c);if("Arguments"===_||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return lo(c,f)}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lo(a,c){(null==c||c>a.length)&&(c=a.length);for(var f=0,_=new Array(c);f<c;f++)_[f]=a[f];return _}function pn(a,c){(null==c||c>a.length)&&(c=a.length);for(var f=0,_=new Array(c);f<c;f++)_[f]=a[f];return _}function mr(a,c){(null==c||c>a.length)&&(c=a.length);for(var f=0,_=new Array(c);f<c;f++)_[f]=a[f];return _}qe.LayerGroup=L.Class.extend({initialize:function(a){var c=this;this._layerGroup=a,this._layers=this.getLayers(),this._getMap(),this._layers.forEach(function(f){return c._initLayer(f)}),this._layerGroup.on("layeradd",L.Util.throttle(function(f){if(!f.layer._pmTempLayer){c._layers=c.getLayers();var _=c._layers.filter(function(b){return!b.pm._parentLayerGroup||!(c._layerGroup._leaflet_id in b.pm._parentLayerGroup)});_.forEach(function(b){c._initLayer(b)}),_.length>0&&c._getMap()&&c._getMap().pm.globalEditModeEnabled()&&c.enabled()&&c.enable(c.getOptions())}},100,this),this),this._layerGroup.on("layerremove",function(f){c._removeLayerFromGroup(f.target)},this),this._layerGroup.on("layerremove",L.Util.throttle(function(f){f.target._pmTempLayer||(c._layers=c.getLayers())},100,this),this)},enable:function(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];0===c.length&&(this._layers=this.getLayers()),this._options=a,this._layers.forEach(function(f){f instanceof L.LayerGroup?-1===c.indexOf(f._leaflet_id)&&(c.push(f._leaflet_id),f.pm.enable(a,c)):f.pm.enable(a)})},disable:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];0===a.length&&(this._layers=this.getLayers()),this._layers.forEach(function(c){c instanceof L.LayerGroup?-1===a.indexOf(c._leaflet_id)&&(a.push(c._leaflet_id),c.pm.disable(a)):c.pm.disable()})},enabled:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return 0===a.length&&(this._layers=this.getLayers()),!!this._layers.find(function(f){return f instanceof L.LayerGroup?-1===a.indexOf(f._leaflet_id)&&(a.push(f._leaflet_id),f.pm.enabled(a)):f.pm.enabled()})},toggleEdit:function(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];0===c.length&&(this._layers=this.getLayers()),this._options=a,this._layers.forEach(function(f){f instanceof L.LayerGroup?-1===c.indexOf(f._leaflet_id)&&(c.push(f._leaflet_id),f.pm.toggleEdit(a,c)):f.pm.toggleEdit(a)})},_initLayer:function(a){var c=L.Util.stamp(this._layerGroup);a.pm._parentLayerGroup||(a.pm._parentLayerGroup={}),a.pm._parentLayerGroup[c]=this._layerGroup},_removeLayerFromGroup:function(a){if(a.pm&&a.pm._layerGroup){var c=L.Util.stamp(this._layerGroup);delete a.pm._layerGroup[c]}},dragging:function(){return this._layers=this.getLayers(),!!this._layers&&!!this._layers.find(function(c){return c.pm.dragging()})},getOptions:function(){return this.options},_getMap:function(){var a;return this._map||(null===(a=this._layers.find(function(c){return!!c._map}))||void 0===a?void 0:a._map)||null},getLayers:function(){var c=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],f=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],_=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],b=[];return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this._layerGroup.getLayers().forEach(function(k){b.push(k),k instanceof L.LayerGroup&&-1===_.indexOf(k._leaflet_id)&&(_.push(k._leaflet_id),b=b.concat(k.pm.getLayers(!0,!0,!0,_)))}):b=this._layerGroup.getLayers(),f&&(b=b.filter(function(k){return!(k instanceof L.LayerGroup)})),c&&(b=(b=(b=b.filter(function(k){return!!k.pm})).filter(function(k){return!k._pmTempLayer})).filter(function(k){return!L.PM.optIn&&!k.options.pmIgnore||L.PM.optIn&&!1===k.options.pmIgnore})),b},setOptions:function(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];0===c.length&&(this._layers=this.getLayers()),this.options=a,this._layers.forEach(function(f){f.pm&&(f instanceof L.LayerGroup?-1===c.indexOf(f._leaflet_id)&&(c.push(f._leaflet_id),f.pm.setOptions(a,c)):f.pm.setOptions(a))})}}),qe.Marker=qe.extend({_shape:"Marker",initialize:function(a){this._layer=a,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable:function(){L.Util.setOptions(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{draggable:!0}),this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._fireEnable()):this.disable()},disable:function(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled:function(){return this._enabled},toggleEdit:function(a){this.enabled()?this.disable():this.enable(a)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker:function(a){var c=a.target;c.remove(),this._fireRemove(c),this._fireRemove(this._map,c)},_onDragEnd:function(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers:function(){var a=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=void 0===this.options.snapSegment||this.options.snapSegment,a.off("pm:drag",this._handleSnapping,this),a.on("pm:drag",this._handleSnapping,this),a.off("pm:dragend",this._cleanupSnapping,this),a.on("pm:dragend",this._cleanupSnapping,this),a.off("pm:dragstart",this._unsnap,this),a.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var a=this._layer;a.off("pm:drag",this._handleSnapping,this),a.off("pm:dragend",this._cleanupSnapping,this),a.off("pm:dragstart",this._unsnap,this)}}),qe.Line=qe.extend({includes:[{filterMarkerGroup:function(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents:function(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache:function(){var a=[].concat(Pi(this._markerGroup.getLayers()),Pi(this.markerCache));this.markerCache=a.filter(function(c,f,_){return _.indexOf(c)===f})},renderLimits:function(a){var c=this;this.markerCache.forEach(function(f){a.includes(f)?c._markerGroup.addLayer(f):c._markerGroup.removeLayer(f)})},applyLimitFilters:function(a){var c=a.latlng;if(!this._preventRenderMarkers){var _=Pi(this._filterClosestMarkers(void 0===c?{lat:0,lng:0}:c));this.renderLimits(_)}},_filterClosestMarkers:function(a){var c=Pi(this.markerCache),f=this.options.limitMarkersToCount;return-1===f?c:(c.sort(function(_,b){return _._latlng.distanceTo(a)-b._latlng.distanceTo(a)}),c.filter(function(_,b){return!(f>-1)||b<f}))},_preventRenderMarkers:!1,_preventRenderingMarkers:function(a){this._preventRenderMarkers=!!a}}],_shape:"Line",initialize:function(a){this._layer=a,this._enabled=!1},enable:function(a){L.Util.setOptions(this,a),this._map=this._layer._map,this._map&&(this.options.allowEditing?(this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:("#f00000ff"!==this._layer.options.color?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()):this.disable())},disable:function(){if(this.enabled()&&!this._dragging){this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);var a=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(a,"leaflet-pm-draggable"),this._map.hasLayer(this._layer)&&!this.hasSelfIntersection()||L.DomUtil.removeClass(a,"leaflet-pm-invalid"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()}},enabled:function(){return this._enabled},toggleEdit:function(a){return this.enabled()?this.disable():this.enable(a),this.enabled()},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers:function(){var a=this,c=this._map,f=this._layer.getLatLngs();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,this._markers=function _(b){if(Array.isArray(b[0]))return b.map(_,a);var k=b.map(a._createMarker,a);return!0!==a.options.hideMiddleMarkers&&b.map(function(O,A){var F=a.isPolygon()?(A+1)%b.length:A+1;return a._createMiddleMarker(k[A],k[F])}),k}(f),this.filterMarkerGroup(),c.addLayer(this._markerGroup)},_createMarker:function(a){var c=new L.Marker(a,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(c,"vertexPane"),c._pmTempLayer=!0,this.options.rotate?(c.on("dragstart",this._onRotateStart,this),c.on("drag",this._onRotate,this),c.on("dragend",this._onRotateEnd,this)):(c.on("click",this._onVertexClick,this),c.on("dragstart",this._onMarkerDragStart,this),c.on("move",this._onMarkerDrag,this),c.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||c.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(c),c},_createMiddleMarker:function(a,c){if(!a||!c)return!1;var f=L.PM.Utils.calcMiddleLatLng(this._map,a.getLatLng(),c.getLatLng()),_=this._createMarker(f),b=L.divIcon({className:"marker-icon marker-icon-middle"});return _.setIcon(b),_.leftM=a,_.rightM=c,a._middleMarkerNext=_,c._middleMarkerPrev=_,_.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),_.on("movestart",this._onMiddleMarkerMoveStart,this),_},_onMiddleMarkerClick:function(a){var c=a.target;if(this._vertexValidation("add",a)){var f=L.divIcon({className:"marker-icon"});c.setIcon(f),this._addMarker(c,c.leftM,c.rightM)}},_onMiddleMarkerMoveStart:function(a){var c=a.target;c.on("moveend",this._onMiddleMarkerMoveEnd,this),this._vertexValidation("add",a)?(c._dragging=!0,this._addMarker(c,c.leftM,c.rightM)):c.on("move",this._onMiddleMarkerMovePrevent,this)},_onMiddleMarkerMovePrevent:function(a){this._vertexValidationDrag(a.target)},_onMiddleMarkerMoveEnd:function(a){var c=a.target;if(c.off("move",this._onMiddleMarkerMovePrevent,this),c.off("moveend",this._onMiddleMarkerMoveEnd,this),this._vertexValidationDragEnd(c)){var f=L.divIcon({className:"marker-icon"});c.setIcon(f),setTimeout(function(){delete c._dragging},100)}},_addMarker:function(a,c,f){a.off("movestart",this._onMiddleMarkerMoveStart,this),a.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);var _=a.getLatLng(),b=this._layer._latlngs;delete a.leftM,delete a.rightM;var k=L.PM.Utils.findDeepMarkerIndex(this._markers,c),O=k.indexPath,A=k.index,F=k.parentPath,z=O.length>1?Se()(b,F):b,ee=O.length>1?Se()(this._markers,F):this._markers;z.splice(A+1,0,_),ee.splice(A+1,0,a),this._layer.setLatLngs(b),!0!==this.options.hideMiddleMarkers&&(this._createMiddleMarker(c,a),this._createMiddleMarker(a,f)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(a,L.PM.Utils.findDeepMarkerIndex(this._markers,a).indexPath,_),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection:function(){return Yt(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval:function(){this._handleLayerStyle(!0),this.hasSelfIntersection()&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle:function(a){var c=this._layer;if(this.hasSelfIntersection()){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return;a?this._flashLayer():(c.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(Yt(this._layer.toGeoJSON(15)))}else c.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1)},_flashLayer:function(){var a=this;this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout(function(){a._layer.setStyle({color:a.cachedColor}),a.isRed=!1},200)},_updateDisabledMarkerStyle:function(a,c){var f=this;a.forEach(function(_){Array.isArray(_)?f._updateDisabledMarkerStyle(_,c):_._icon&&(c&&!f._checkMarkerAllowedToDrag(_)?L.DomUtil.addClass(_._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(_._icon,"vertexmarker-disabled"))})},_removeMarker:function(a){var c=a.target;if(this._vertexValidation("remove",a)){this.options.allowSelfIntersection||(this._coordsBeforeEdit=wt(this._layer,this._layer.getLatLngs()));var f=this._layer.getLatLngs(),_=L.PM.Utils.findDeepMarkerIndex(this._markers,c),b=_.indexPath,k=_.index,O=_.parentPath;if(b){var A=b.length>1?Se()(f,O):f,F=b.length>1?Se()(this._markers,O):this._markers;if(this.options.removeLayerBelowMinVertexCount||!(A.length<=2||this.isPolygon()&&A.length<=3)){A.splice(k,1),this._layer.setLatLngs(f),this.isPolygon()&&A.length<=2&&A.splice(0,A.length);var ee,X,z=!1;if(A.length<=1&&(A.splice(0,A.length),O.length>1&&b.length>1&&(f=Xt(f)),this._layer.setLatLngs(f),this._initMarkers(),z=!0),pt(f)||this._layer.remove(),f=Xt(f),this._layer.setLatLngs(f),this._markers=Xt(this._markers),!z&&(F=b.length>1?Se()(this._markers,O):this._markers,c._middleMarkerPrev&&this._markerGroup.removeLayer(c._middleMarkerPrev),c._middleMarkerNext&&this._markerGroup.removeLayer(c._middleMarkerNext),this._markerGroup.removeLayer(c),F))this.isPolygon()?(ee=(k+1)%F.length,X=(k+(F.length-1))%F.length):(X=k-1<0?void 0:k-1,ee=k+1>=F.length?void 0:k+1),ee!==X&&!0!==this.options.hideMiddleMarkers&&this._createMiddleMarker(F[X],F[ee]),F.splice(k,1);this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(c,b),this._fireChange(this._layer.getLatLngs(),"Edit")}else this._flashLayer()}}},updatePolygonCoordsFromMarkerDrag:function(a){var c=this._layer.getLatLngs(),f=a.getLatLng(),_=L.PM.Utils.findDeepMarkerIndex(this._markers,a),k=_.index,O=_.parentPath;(_.indexPath.length>1?Se()(c,O):c).splice(k,1,f),this._layer.setLatLngs(c)},_getNeighborMarkers:function(a){var c=L.PM.Utils.findDeepMarkerIndex(this._markers,a),_=c.index,b=c.parentPath,k=c.indexPath.length>1?Se()(this._markers,b):this._markers;return{prevMarker:k[(_+(k.length-1))%k.length],nextMarker:k[(_+1)%k.length]}},_checkMarkerAllowedToDrag:function(a){var c=this._getNeighborMarkers(a),_=c.nextMarker,b=L.polyline([c.prevMarker.getLatLng(),a.getLatLng()]),k=L.polyline([a.getLatLng(),_.getLatLng()]),O=_i(this._layer.toGeoJSON(15),b.toGeoJSON(15)).features.length,A=_i(this._layer.toGeoJSON(15),k.toGeoJSON(15)).features.length;return a.getLatLng()===this._markers[0][0].getLatLng()?A+=1:a.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(O+=1),!(O<=2&&A<=2)},_onMarkerDragStart:function(a){var c=a.target;if(this.cachedColor||(this.cachedColor=this._layer.options.color),this._vertexValidation("move",a)){var f=L.PM.Utils.findDeepMarkerIndex(this._markers,c).indexPath;this._fireMarkerDragStart(a,f),this.options.allowSelfIntersection||(this._coordsBeforeEdit=wt(this._layer,this._layer.getLatLngs())),this._markerAllowedToDrag=!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._checkMarkerAllowedToDrag(c):null}},_onMarkerDrag:function(a){var c=a.target;if(this._vertexValidationDrag(c)){var f=L.PM.Utils.findDeepMarkerIndex(this._markers,c),_=f.indexPath,b=f.index,k=f.parentPath;if(_){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&!1===this._markerAllowedToDrag)return this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),void this._handleLayerStyle();this.updatePolygonCoordsFromMarkerDrag(c);var O=_.length>1?Se()(this._markers,k):this._markers,A=(b+1)%O.length,F=(b+(O.length-1))%O.length,z=c.getLatLng(),ee=O[F].getLatLng(),X=O[A].getLatLng();if(c._middleMarkerNext){var ae=L.PM.Utils.calcMiddleLatLng(this._map,z,X);c._middleMarkerNext.setLatLng(ae)}if(c._middleMarkerPrev){var _e=L.PM.Utils.calcMiddleLatLng(this._map,z,ee);c._middleMarkerPrev.setLatLng(_e)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(a,_),this._fireChange(this._layer.getLatLngs(),"Edit")}}},_onMarkerDragEnd:function(a){var c=a.target;if(this._vertexValidationDragEnd(c)){var f=L.PM.Utils.findDeepMarkerIndex(this._markers,c).indexPath,_=this.hasSelfIntersection();_&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(_=!1);var b=!this.options.allowSelfIntersection&&_;if(this._fireMarkerDragEnd(a,f,b),b)return this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),void this._fireLayerReset(a,f);!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")}},_onVertexClick:function(a){var c=a.target;if(!c._dragging){var f=L.PM.Utils.findDeepMarkerIndex(this._markers,c).indexPath;this._fireVertexClick(a,f)}}}),qe.Polygon=qe.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag:function(a){var c=this._getNeighborMarkers(a),_=c.nextMarker,b=L.polyline([c.prevMarker.getLatLng(),a.getLatLng()]),k=L.polyline([a.getLatLng(),_.getLatLng()]),O=_i(this._layer.toGeoJSON(15),b.toGeoJSON(15)).features.length,A=_i(this._layer.toGeoJSON(15),k.toGeoJSON(15)).features.length;return!(O<=2&&A<=2)}}),qe.Rectangle=qe.Polygon.extend({_shape:"Rectangle",_initMarkers:function(){var a=this,c=this._map,f=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,c.addLayer(this._markerGroup),this._markers=[],this._markers[0]=f.map(this._createMarker,this);var _=function Gi(a,c){return function(f){if(Array.isArray(f))return f}(a)||function(f,_){var b=null==f?null:typeof Symbol<"u"&&f[Symbol.iterator]||f["@@iterator"];if(null!=b){var k,O,A=[],F=!0,z=!1;try{for(b=b.call(f);!(F=(k=b.next()).done)&&(A.push(k.value),!_||A.length!==_);F=!0);}catch(ee){z=!0,O=ee}finally{try{F||null==b.return||b.return()}finally{if(z)throw O}}return A}}(a,c)||function(f,_){if(f){if("string"==typeof f)return pn(f,_);var b=Object.prototype.toString.call(f).slice(8,-1);if("Object"===b&&f.constructor&&(b=f.constructor.name),"Map"===b||"Set"===b)return Array.from(f);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return pn(f,_)}}(a,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this._markers,1);this._cornerMarkers=_[0],this._layer.getLatLngs()[0].forEach(function(b,k){var O=a._cornerMarkers.find(function(A){return A._index===k});O&&O.setLatLng(b)})},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker:function(a,c){var f=new L.Marker(a,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(f,"vertexPane"),f._origLatLng=a,f._index=c,f._pmTempLayer=!0,this._markerGroup.addLayer(f),f},_addMarkerEvents:function(){var a=this;this._markers[0].forEach(function(c){c.on("dragstart",a._onMarkerDragStart,a),c.on("drag",a._onMarkerDrag,a),c.on("dragend",a._onMarkerDragEnd,a),a.options.preventMarkerRemoval||c.on("contextmenu",a._removeMarker,a)})},_removeMarker:function(){return null},_onMarkerDragStart:function(a){if(this._vertexValidation("move",a)){var c=a.target;c._oppositeCornerLatLng=this._cornerMarkers.find(function(_){return _._index===(c._index+2)%4}).getLatLng(),c._snapped=!1,this._fireMarkerDragStart(a)}},_onMarkerDrag:function(a){var c=a.target;this._vertexValidationDrag(c)&&void 0!==c._index&&(this._adjustRectangleForMarkerMove(c),this._fireMarkerDrag(a),this._fireChange(this._layer.getLatLngs(),"Edit"))},_onMarkerDragEnd:function(a){this._vertexValidationDragEnd(a.target)&&(this._cornerMarkers.forEach(function(f){delete f._oppositeCornerLatLng}),this._fireMarkerDragEnd(a),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"))},_adjustRectangleForMarkerMove:function(a){L.extend(a._origLatLng,a._latlng);var c=L.PM.Utils._getRotatedRectangle(a.getLatLng(),a._oppositeCornerLatLng,this._angle||0,this._map);this._layer.setLatLngs(c),this._adjustAllMarkers(),this._layer.redraw()},_adjustAllMarkers:function(){var a=this,c=this._layer.getLatLngs()[0];c&&4!==c.length&&c.length>0?(c.forEach(function(f,_){a._cornerMarkers[_].setLatLng(f)}),this._cornerMarkers.slice(c.length).forEach(function(f){f.setLatLng(c[0])})):c&&c.length?this._cornerMarkers.forEach(function(f){f.setLatLng(c[f._index])}):console.error("The layer has no LatLngs")},_findCorners:function(){var a=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(a[0],a[2],this._angle||0,this._map)}}),qe.Circle=qe.extend({_shape:"Circle",initialize:function(a){this._layer=a,this._enabled=!1,this._updateHiddenPolyCircle()},enable:function(a){L.Util.setOptions(this,a),this._map=this._layer._map,this.options.allowEditing?(this.enabled()||this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._updateHiddenPolyCircle(),this._fireEnable()):this.disable()},disable:function(){this.enabled()&&!this._dragging&&(this._centerMarker.off("dragstart",this._onCircleDragStart,this),this._centerMarker.off("drag",this._onCircleDrag,this),this._centerMarker.off("dragend",this._onCircleDragEnd,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this),this._layer.off("remove",this.disable,this),this._enabled=!1,this._helperLayers.clearLayers(),L.DomUtil.removeClass(this._layer._path?this._layer._path:this._layer._renderer._container,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable())},enabled:function(){return this._enabled},toggleEdit:function(a){this.enabled()?this.disable():this.enable(a)},_initMarkers:function(){var a=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(a);var c=this._layer.getLatLng(),_=this._getLatLngOnCircle(c,this._layer._radius);this._centerMarker=this._createCenterMarker(c),this._outerMarker=this._createOuterMarker(_),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},applyOptions:function(){this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this),this._centerMarker.on("move",this._moveCircle,this)):this._disableSnapping()},_createHintLine:function(a,c){var f=a.getLatLng(),_=c.getLatLng();this._hintline=L.polyline([f,_],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(a){var c=this._createMarker(a);return L.DomUtil.addClass(c._icon,"leaflet-pm-draggable"),c.on("drag",this._moveCircle,this),c.on("dragstart",this._onCircleDragStart,this),c.on("drag",this._onCircleDrag,this),c.on("dragend",this._onCircleDragEnd,this),c},_createOuterMarker:function(a){var c=this._createMarker(a);return c.on("drag",this._resizeCircle,this),c},_createMarker:function(a){var c=new L.Marker(a,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(c,"vertexPane"),c._origLatLng=a,c._pmTempLayer=!0,c.on("dragstart",this._onMarkerDragStart,this),c.on("drag",this._onMarkerDrag,this),c.on("dragend",this._onMarkerDragEnd,this),this._helperLayers.addLayer(c),c},_resizeCircle:function(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_moveCircle:function(a){if(!a.target._cancelDragEventChain){var c=a.latlng;this._layer.setLatLng(c);var _=this._getLatLngOnCircle(c,this._layer._radius);this._outerMarker._latlng=_,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")}},_syncCircleRadius:function(){var a=this._centerMarker.getLatLng(),c=this._outerMarker.getLatLng(),f=this._map.distance(a,c);this._layer.setRadius(this.options.minRadiusCircle&&f<this.options.minRadiusCircle?this.options.minRadiusCircle:this.options.maxRadiusCircle&&f>this.options.maxRadiusCircle?this.options.maxRadiusCircle:f),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine:function(){var a=this._centerMarker.getLatLng(),c=this._outerMarker.getLatLng();this._hintline.setLatLngs([a,c])},_disableSnapping:function(){var a=this;this._markers.forEach(function(c){c.off("move",a._syncHintLine,a),c.off("move",a._syncCircleRadius,a),c.off("drag",a._handleSnapping,a),c.off("dragend",a._cleanupSnapping,a)}),this._layer.off("pm:dragstart",this._unsnap,this)},_onMarkerDragStart:function(a){this._vertexValidation("move",a)&&this._fireMarkerDragStart(a)},_onMarkerDrag:function(a){this._vertexValidationDrag(a.target)&&this._fireMarkerDrag(a)},_onMarkerDragEnd:function(a){this._vertexValidationDragEnd(a.target)&&(this._fireEdit(),this._layerEdited=!0,this._fireMarkerDragEnd(a))},_onCircleDragStart:function(a){this._vertexValidationDrag(a.target)?(delete this._vertexValidationReset,this._fireDragStart()):this._vertexValidationReset=!0},_onCircleDrag:function(a){this._vertexValidationReset||this._fireDrag(a)},_onCircleDragEnd:function(){this._vertexValidationReset?delete this._vertexValidationReset:this._fireDragEnd()},_updateHiddenPolyCircle:function(){var a=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!a).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!a),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_getLatLngOnCircle:function(a,c){var f=this._map.project(a),_=L.point(f.x+c,f.y);return this._map.unproject(_)},_getNewDestinationOfOuterMarker:function(){var a=this._centerMarker.getLatLng(),c=this._outerMarker.getLatLng(),f=this._map.distance(a,c);return this.options.minRadiusCircle&&f<this.options.minRadiusCircle?c=bt(this._map,a,c,this.options.minRadiusCircle):this.options.maxRadiusCircle&&f>this.options.maxRadiusCircle&&(c=bt(this._map,a,c,this.options.maxRadiusCircle)),c},_handleOuterMarkerSnapping:function(){if(this._outerMarker._snapped){var a=this._centerMarker.getLatLng(),c=this._outerMarker.getLatLng(),f=this._map.distance(a,c);(this.options.minRadiusCircle&&f<this.options.minRadiusCircle||this.options.maxRadiusCircle&&f>this.options.maxRadiusCircle)&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())}}),qe.CircleMarker=qe.extend({_shape:"CircleMarker",initialize:function(a){this._layer=a,this._enabled=!1,this._updateHiddenPolyCircle()},enable:function(){L.Util.setOptions(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{draggable:!0,snappable:!0}),this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this),this._updateHiddenPolyCircle(),this._fireEnable()):this.disable()},disable:function(){this._dragging||(this._helperLayers&&this._helperLayers.clearLayers(),this._map||(this._map=this._layer._map),this._map||(this.options.editable?(this._map.off("move",this._syncMarkers,this),this._outerMarker&&this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this)),this.disableLayerDrag(),this._layer.off("contextmenu",this._removeMarker,this),this._layer.off("remove",this.disable,this),this.enabled()&&(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},enabled:function(){return this._enabled},toggleEdit:function(a){this.enabled()?this.disable():this.enable(a)},applyOptions:function(){!this.options.editable&&this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.editable?(this._initMarkers(),this._map.on("move",this._syncMarkers,this)):this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this.options.editable?(this._initSnappableMarkers(),this._centerMarker.on("drag",this._moveCircle,this),this.options.editable&&this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this)):this._initSnappableMarkersDrag():this.options.editable?this._disableSnapping():this._disableSnappingDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers:function(){var a=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(a);var c=this._layer.getLatLng(),_=this._getLatLngOnCircle(c,this._layer._radius);this._centerMarker=this._createCenterMarker(c),this._outerMarker=this._createOuterMarker(_),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle:function(a,c){var f=this._map.project(a),_=L.point(f.x+c,f.y);return this._map.unproject(_)},_createHintLine:function(a,c){var f=a.getLatLng(),_=c.getLatLng();this._hintline=L.polyline([f,_],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(a){var c=this._createMarker(a);return this.options.draggable?L.DomUtil.addClass(c._icon,"leaflet-pm-draggable"):c.dragging.disable(),c},_createOuterMarker:function(a){var c=this._createMarker(a);return c.on("drag",this._resizeCircle,this),c},_createMarker:function(a){var c=new L.Marker(a,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(c,"vertexPane"),c._origLatLng=a,c._pmTempLayer=!0,c.on("dragstart",this._onMarkerDragStart,this),c.on("drag",this._onMarkerDrag,this),c.on("dragend",this._onMarkerDragEnd,this),this._helperLayers.addLayer(c),c},_moveCircle:function(){var a=this._centerMarker.getLatLng();this._layer.setLatLng(a);var f=this._getLatLngOnCircle(a,this._layer._radius);this._outerMarker._latlng=f,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")},_syncMarkers:function(){var a=this._layer.getLatLng(),f=this._getLatLngOnCircle(a,this._layer._radius);this._outerMarker.setLatLng(f),this._centerMarker.setLatLng(a),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle:function(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius:function(){var a=this._centerMarker.getLatLng(),c=this._outerMarker.getLatLng(),f=this._map.project(a).distanceTo(this._map.project(c));this._layer.setRadius(this.options.minRadiusCircleMarker&&f<this.options.minRadiusCircleMarker?this.options.minRadiusCircleMarker:this.options.maxRadiusCircleMarker&&f>this.options.maxRadiusCircleMarker?this.options.maxRadiusCircleMarker:f),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine:function(){var a=this._centerMarker.getLatLng(),c=this._outerMarker.getLatLng();this._hintline.setLatLngs([a,c])},_removeMarker:function(){this.options.editable&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart:function(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart:function(a){this._vertexValidation("move",a)&&this._fireMarkerDragStart(a)},_onMarkerDrag:function(a){var c=a.target;c instanceof L.Marker&&!this._vertexValidationDrag(c)||this._fireMarkerDrag(a)},_onMarkerDragEnd:function(a){this._map.pm.Draw.CircleMarker._layerIsDragging=!1,this._vertexValidationDragEnd(a.target)&&(this.options.editable&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(a))},_initSnappableMarkersDrag:function(){var a=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=void 0===this.options.snapSegment||this.options.snapSegment,a.off("pm:drag",this._handleSnapping,this),a.on("pm:drag",this._handleSnapping,this),a.off("pm:dragend",this._cleanupSnapping,this),a.on("pm:dragend",this._cleanupSnapping,this),a.off("pm:dragstart",this._unsnap,this),a.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag:function(){var a=this._layer;a.off("pm:drag",this._handleSnapping,this),a.off("pm:dragend",this._cleanupSnapping,this),a.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle:function(){var a=this._layer._map||this._map;if(a){var c=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),a,this._layer.getLatLng()),f=L.circle(this._layer.getLatLng(),this._layer.options);f.setRadius(c);var _=a&&a.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(f,200,!_).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(f,200,!_),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker:function(){var a=this._centerMarker.getLatLng(),c=this._outerMarker.getLatLng(),f=this._map.project(a).distanceTo(this._map.project(c));return this.options.minRadiusCircleMarker&&f<this.options.minRadiusCircleMarker?c=bt(this._map,a,c,L.PM.Utils.pxRadiusToMeterRadius(this.options.minRadiusCircleMarker,this._map,a)):this.options.maxRadiusCircleMarker&&f>this.options.maxRadiusCircleMarker&&(c=bt(this._map,a,c,L.PM.Utils.pxRadiusToMeterRadius(this.options.maxRadiusCircleMarker,this._map,a))),c},_handleOuterMarkerSnapping:function(){if(this._outerMarker._snapped){var a=this._centerMarker.getLatLng(),c=this._outerMarker.getLatLng(),f=this._map.project(a).distanceTo(this._map.project(c));(this.options.minRadiusCircleMarker&&f<this.options.minRadiusCircleMarker||this.options.maxRadiusCircleMarker&&f>this.options.maxRadiusCircleMarker)&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())}}),qe.ImageOverlay=qe.extend({_shape:"ImageOverlay",initialize:function(a){this._layer=a,this._enabled=!1},toggleEdit:function(a){this.enabled()?this.disable():this.enable(a)},enabled:function(){return this._enabled},enable:function(){L.Util.setOptions(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{draggable:!0,snappable:!0}),this._map=this._layer._map,this._map&&(this.options.allowEditing?(this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()):this.disable())},disable:function(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners:function(){var a=this._layer.getBounds();return[a.getNorthWest(),a.getNorthEast(),a.getSouthEast(),a.getSouthWest()]}}),qe.Text=qe.extend({_shape:"Text",initialize:function(a){this._layer=a,this._enabled=!1},enable:function(a){L.Util.setOptions(this,a),this.textArea&&(this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._safeToCacheDragState=!0,this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()):this.disable())},disable:function(){if(this.enabled()){this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),L.DomEvent.off(document,"click",this._documentClick,this),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");var a=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),a.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1}},enabled:function(){return this._enabled},toggleEdit:function(a){this.enabled()?this.disable():this.enable(a)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers:function(){var a=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=void 0===this.options.snapSegment||this.options.snapSegment,a.off("pm:drag",this._handleSnapping,this),a.on("pm:drag",this._handleSnapping,this),a.off("pm:dragend",this._cleanupSnapping,this),a.on("pm:dragend",this._cleanupSnapping,this),a.off("pm:dragstart",this._unsnap,this),a.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var a=this._layer;a.off("pm:drag",this._handleSnapping,this),a.off("pm:dragend",this._cleanupSnapping,this),a.off("pm:dragstart",this._unsnap,this)},_autoResize:function(){this.textArea.style.height="1px",this.textArea.style.width="1px";var c=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height="".concat(this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,"px"),this.textArea.style.width="".concat(c,"px"),this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur:function(){var a=this;this._disableOnBlurActive=!0,setTimeout(function(){a.enabled()&&L.DomEvent.on(document,"click",a._documentClick,a)},100)},_documentClick:function(a){a.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange:function(){var c=this._hasFocus;this._hasFocus="focus"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).type,!c!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus:function(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus:function(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus:function(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur:function(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus:function(){return this._hasFocus},getElement:function(){return this.textArea},setText:function(a){this.textArea.value=a,this._autoResize()},getText:function(){return this.textArea.value},_initTextMarker:function(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){var a,c=this.options.className.split(" ");(a=this.textArea.classList).add.apply(a,function ps(a){return function(c){if(Array.isArray(c))return mr(c)}(a)||function(c){if(typeof Symbol<"u"&&null!=c[Symbol.iterator]||null!=c["@@iterator"])return Array.from(c)}(a)||function(c,f){if(c){if("string"==typeof c)return mr(c,f);var _=Object.prototype.toString.call(c).slice(8,-1);if("Object"===_&&c.constructor&&(_=c.constructor.name),"Map"===_||"Set"===_)return Array.from(c);if("Arguments"===_||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return mr(c,f)}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(c))}var f=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(f),this._layer.once("add",this._createTextMarker,this)},_createTextMarker:function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),!0===a&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection:function(a){a.preventDefault()}});var jo=function(a,c,f,_,b,k){this._matrix=[a,c,f,_,b,k]};jo.init=function(){return new L.PM.Matrix(1,0,0,1,0,0)},jo.prototype={transform:function(a){return this._transform(a.clone())},_transform:function(a){var c=this._matrix,f=a.x,_=a.y;return a.x=c[0]*f+c[1]*_+c[4],a.y=c[2]*f+c[3]*_+c[5],a},untransform:function(a){var c=this._matrix;return new L.Point((a.x/c[0]-c[4])/c[0],(a.y/c[2]-c[5])/c[2])},clone:function(){var a=this._matrix;return new L.PM.Matrix(a[0],a[1],a[2],a[3],a[4],a[5])},translate:function(a){return void 0===a?new L.Point(this._matrix[4],this._matrix[5]):("number"==typeof a?(c=a,f=a):(c=a.x,f=a.y),this._add(1,0,0,1,c,f));var c,f},scale:function(a,c){return void 0===a?new L.Point(this._matrix[0],this._matrix[3]):(c=c||L.point(0,0),"number"==typeof a?(f=a,_=a):(f=a.x,_=a.y),this._add(f,0,0,_,c.x,c.y)._add(1,0,0,1,-c.x,-c.y));var f,_},rotate:function(a,c){var f=Math.cos(a),_=Math.sin(a);return c=c||new L.Point(0,0),this._add(f,_,-_,f,c.x,c.y)._add(1,0,0,1,-c.x,-c.y)},flip:function(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add:function(a,c,f,_,b,k){var O,A=[[],[],[]],F=this._matrix,z=[[F[0],F[2],F[4]],[F[1],F[3],F[5]],[0,0,1]],ee=[[a,f,b],[c,_,k],[0,0,1]];a&&a instanceof L.PM.Matrix&&(ee=[[(F=a._matrix)[0],F[2],F[4]],[F[1],F[3],F[5]],[0,0,1]]);for(var X=0;X<3;X+=1)for(var ae=0;ae<3;ae+=1){O=0;for(var _e=0;_e<3;_e+=1)O+=z[X][_e]*ee[_e][ae];A[X][ae]=O}return this._matrix=[A[0][0],A[1][0],A[0][1],A[1][1],A[0][2],A[1][2]],this}};var Sl={calcMiddleLatLng:function(a,c,f){var _=a.project(c),b=a.project(f);return a.unproject(_._add(b)._divideBy(2))},findLayers:function(a){var c=[];return a.eachLayer(function(f){(f instanceof L.Polyline||f instanceof L.Marker||f instanceof L.Circle||f instanceof L.CircleMarker||f instanceof L.ImageOverlay)&&c.push(f)}),c=(c=(c=c.filter(function(f){return!!f.pm})).filter(function(f){return!f._pmTempLayer})).filter(function(f){return!L.PM.optIn&&!f.options.pmIgnore||L.PM.optIn&&!1===f.options.pmIgnore})},circleToPolygon:function(a){for(var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,f=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],k=Lt(a.getLatLng(),a.getRadius(),c,0,f),O=[],A=0;A<k.length;A+=1)O.push([k[A].lat,k[A].lng]);return L.polygon(O,a.options)},disablePopup:function(a){a.getPopup()&&(a._tempPopupCopy=a.getPopup(),a.unbindPopup())},enablePopup:function(a){a._tempPopupCopy&&(a.bindPopup(a._tempPopupCopy),delete a._tempPopupCopy)},_fireEvent:function(a,c,f){var _=arguments.length>3&&void 0!==arguments[3]&&arguments[3];a.fire(c,f,_),this.getAllParentGroups(a).groups.forEach(function(O){O.fire(c,f,_)})},getAllParentGroups:function(a){var c=[],f=[];return!a._pmLastGroupFetch||!a._pmLastGroupFetch.time||(new Date).getTime()-a._pmLastGroupFetch.time>1e3?(function _(b){for(var k in b._eventParents)if(-1===c.indexOf(k)){c.push(k);var O=b._eventParents[k];f.push(O),_(O)}}(a),a._pmLastGroupFetch={time:(new Date).getTime(),groups:f,groupIds:c},{groupIds:c,groups:f}):{groups:a._pmLastGroupFetch.groups,groupIds:a._pmLastGroupFetch.groupIds}},createGeodesicPolygon:Lt,getTranslation:Be,findDeepCoordIndex:function(a,c){var f,_=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];a.some(function O(A){return function(F,z){var ee=A.concat(z);if(_){if(F.lat&&F.lat===c.lat&&F.lng===c.lng)return f=ee,!0}else if(F.lat&&L.latLng(F).equals(c))return f=ee,!0;return Array.isArray(F)&&F.some(O(ee))}}([]));var k={};return f&&(k={indexPath:f,index:f[f.length-1],parentPath:f.slice(0,f.length-1)}),k},findDeepMarkerIndex:function(a,c){var f;a.some(function b(k){return function(O,A){var F=k.concat(A);return O._leaflet_id===c._leaflet_id?(f=F,!0):Array.isArray(O)&&O.some(b(F))}}([]));var _={};return f&&(_={indexPath:f,index:f[f.length-1],parentPath:f.slice(0,f.length-1)}),_},_getIndexFromSegment:function(a,c){if(c&&2===c.length){var f=this.findDeepCoordIndex(a,c[0]),_=this.findDeepCoordIndex(a,c[1]),b=Math.max(f.index,_.index);return 0!==f.index&&0!==_.index||1===b||(b+=1),{indexA:f,indexB:_,newIndex:b,indexPath:f.indexPath,parentPath:f.parentPath}}return null},_getRotatedRectangle:function(a,c,f,_){var b=jt(_,a),k=jt(_,c),O=f*Math.PI/180,A=Math.cos(O),F=Math.sin(O),z=(k.x-b.x)*A+(k.y-b.y)*F,ee=(k.y-b.y)*A-(k.x-b.x)*F,X=z*A+b.x,ae=z*F+b.y,_e=-ee*F+b.x,Ee=ee*A+b.y;return[we(_,b),we(_,{x:X,y:ae}),we(_,k),we(_,{x:_e,y:Ee})]},pxRadiusToMeterRadius:function(a,c,f){var _=c.project(f),b=L.point(_.x+a,_.y);return c.distance(c.unproject(b),f)}};L.PM=L.PM||{version:"2.14.2",Map:ji,Toolbar:ro,Draw:H,Edit:qe,Utils:Sl,Matrix:jo,activeLang:"en",optIn:!1,initialize:function(a){this.addInitHooks(a)},setOptIn:function(a){this.optIn=!!a},addInitHooks:function(){L.Map.addInitHook(function(){this.pm=void 0,L.PM.optIn?!1===this.options.pmIgnore&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})}),L.LayerGroup.addInitHook(function(){this.pm=void 0,L.PM.optIn?!1===this.options.pmIgnore&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}),L.Marker.addInitHook(function(){this.pm=void 0,L.PM.optIn?!1===this.options.pmIgnore&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))}),L.CircleMarker.addInitHook(function(){this.pm=void 0,L.PM.optIn?!1===this.options.pmIgnore&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}),L.Polyline.addInitHook(function(){this.pm=void 0,L.PM.optIn?!1===this.options.pmIgnore&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}),L.Polygon.addInitHook(function(){this.pm=void 0,L.PM.optIn?!1===this.options.pmIgnore&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}),L.Rectangle.addInitHook(function(){this.pm=void 0,L.PM.optIn?!1===this.options.pmIgnore&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}),L.Circle.addInitHook(function(){this.pm=void 0,L.PM.optIn?!1===this.options.pmIgnore&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}),L.ImageOverlay.addInitHook(function(){this.pm=void 0,L.PM.optIn?!1===this.options.pmIgnore&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))})},reInitLayer:function(a){var c=this;a instanceof L.LayerGroup&&a.eachLayer(function(f){c.reInitLayer(f)}),a.pm||L.PM.optIn&&!1!==a.options.pmIgnore||a.options.pmIgnore||(a instanceof L.Map?a.pm=new L.PM.Map(a):a instanceof L.Marker?a.options.textMarker?(a.pm=new L.PM.Edit.Text(a),a.pm._initTextMarker(),a.pm._createTextMarker(!1)):a.pm=new L.PM.Edit.Marker(a):a instanceof L.Circle?a.pm=new L.PM.Edit.Circle(a):a instanceof L.CircleMarker?a.pm=new L.PM.Edit.CircleMarker(a):a instanceof L.Rectangle?a.pm=new L.PM.Edit.Rectangle(a):a instanceof L.Polygon?a.pm=new L.PM.Edit.Polygon(a):a instanceof L.Polyline?a.pm=new L.PM.Edit.Line(a):a instanceof L.LayerGroup?a.pm=new L.PM.Edit.LayerGroup(a):a instanceof L.ImageOverlay&&(a.pm=new L.PM.Edit.ImageOverlay(a)))}},"1.7.1"===L.version&&L.Canvas.include({_onClick:function(a){for(var c,f,_=this._map.mouseEventToLayerPoint(a),b=this._drawFirst;b;b=b.next)(c=b.layer).options.interactive&&c._containsPoint(_)&&("click"!==a.type&&"preclick"!==a.type||!this._map._draggableMoved(c))&&(f=c);f&&(L.DomEvent.fakeStop(a),this._fireEvent([f],a))}}),L.PM.initialize()},7107:()=>{Array.prototype.findIndex=Array.prototype.findIndex||function(x){if(null===this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof x)throw new TypeError("callback must be a function");for(var S=Object(this),M=S.length>>>0,P=arguments[1],T=0;T<M;T++)if(x.call(P,S[T],T,S))return T;return-1},Array.prototype.find=Array.prototype.find||function(x){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof x)throw new TypeError("callback must be a function");for(var S=Object(this),M=S.length>>>0,P=arguments[1],T=0;T<M;T++){var j=S[T];if(x.call(P,j,T,S))return j}},"function"!=typeof Object.assign&&(Object.assign=function(x){"use strict";if(null==x)throw new TypeError("Cannot convert undefined or null to object");x=Object(x);for(var S=1;S<arguments.length;S++){var M=arguments[S];if(null!=M)for(var P in M)Object.prototype.hasOwnProperty.call(M,P)&&(x[P]=M[P])}return x}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(x){x.hasOwnProperty("remove")||Object.defineProperty(x,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(x,S){if(null==this)throw new TypeError('"this" is null or not defined');var M=Object(this),P=M.length>>>0;if(0===P)return!1;for(var T,j,B=0|S,W=Math.max(B>=0?B:P-Math.abs(B),0);W<P;){if((T=M[W])===(j=x)||"number"==typeof T&&"number"==typeof j&&isNaN(T)&&isNaN(j))return!0;W++}return!1}})},1787:(x,S,M)=>{var P=M(2582),T=M(4102),j=M(1540),B=M(9705).Z,W=j.featureEach,ie=T.featureCollection;function ue(ve){var re=new P(ve);return re.insert=function(q){if("Feature"!==q.type)throw new Error("invalid feature");return q.bbox=q.bbox?q.bbox:B(q),P.prototype.insert.call(this,q)},re.load=function(q){var se=[];return Array.isArray(q)?q.forEach(function(K){if("Feature"!==K.type)throw new Error("invalid features");K.bbox=K.bbox?K.bbox:B(K),se.push(K)}):W(q,function(K){if("Feature"!==K.type)throw new Error("invalid features");K.bbox=K.bbox?K.bbox:B(K),se.push(K)}),P.prototype.load.call(this,se)},re.remove=function(q,se){if("Feature"!==q.type)throw new Error("invalid feature");return q.bbox=q.bbox?q.bbox:B(q),P.prototype.remove.call(this,q,se)},re.clear=function(){return P.prototype.clear.call(this)},re.search=function(q){var se=P.prototype.search.call(this,this.toBBox(q));return ie(se)},re.collides=function(q){return P.prototype.collides.call(this,this.toBBox(q))},re.all=function(){var q=P.prototype.all.call(this);return ie(q)},re.toJSON=function(){return P.prototype.toJSON.call(this)},re.fromJSON=function(q){return P.prototype.fromJSON.call(this,q)},re.toBBox=function(q){var se;if(q.bbox)se=q.bbox;else if(Array.isArray(q)&&4===q.length)se=q;else if(Array.isArray(q)&&6===q.length)se=[q[0],q[1],q[3],q[4]];else if("Feature"===q.type)se=B(q);else{if("FeatureCollection"!==q.type)throw new Error("invalid geojson");se=B(q)}return{minX:se[0],minY:se[1],maxX:se[2],maxY:se[3]}},re}x.exports=ue,x.exports.default=ue},1989:(x,S,M)=>{var P=M(1789),T=M(401),j=M(7667),B=M(1327),W=M(1866);function ie(ue){var ve=-1,re=null==ue?0:ue.length;for(this.clear();++ve<re;){var q=ue[ve];this.set(q[0],q[1])}}ie.prototype.clear=P,ie.prototype.delete=T,ie.prototype.get=j,ie.prototype.has=B,ie.prototype.set=W,x.exports=ie},8407:(x,S,M)=>{var P=M(7040),T=M(4125),j=M(2117),B=M(7518),W=M(4705);function ie(ue){var ve=-1,re=null==ue?0:ue.length;for(this.clear();++ve<re;){var q=ue[ve];this.set(q[0],q[1])}}ie.prototype.clear=P,ie.prototype.delete=T,ie.prototype.get=j,ie.prototype.has=B,ie.prototype.set=W,x.exports=ie},7071:(x,S,M)=>{var P=M(852)(M(5639),"Map");x.exports=P},3369:(x,S,M)=>{var P=M(4785),T=M(1285),j=M(6e3),B=M(9916),W=M(5265);function ie(ue){var ve=-1,re=null==ue?0:ue.length;for(this.clear();++ve<re;){var q=ue[ve];this.set(q[0],q[1])}}ie.prototype.clear=P,ie.prototype.delete=T,ie.prototype.get=j,ie.prototype.has=B,ie.prototype.set=W,x.exports=ie},6384:(x,S,M)=>{var P=M(8407),T=M(7465),j=M(3779),B=M(7599),W=M(4758),ie=M(4309);function ue(ve){var re=this.__data__=new P(ve);this.size=re.size}ue.prototype.clear=T,ue.prototype.delete=j,ue.prototype.get=B,ue.prototype.has=W,ue.prototype.set=ie,x.exports=ue},2705:(x,S,M)=>{var P=M(5639).Symbol;x.exports=P},1149:(x,S,M)=>{var P=M(5639).Uint8Array;x.exports=P},6874:x=>{x.exports=function(S,M,P){switch(P.length){case 0:return S.call(M);case 1:return S.call(M,P[0]);case 2:return S.call(M,P[0],P[1]);case 3:return S.call(M,P[0],P[1],P[2])}return S.apply(M,P)}},4636:(x,S,M)=>{var P=M(2545),T=M(5694),j=M(1469),B=M(4144),W=M(5776),ie=M(6719),ue=Object.prototype.hasOwnProperty;x.exports=function(ve,re){var q=j(ve),se=!q&&T(ve),K=!q&&!se&&B(ve),J=!q&&!se&&!K&&ie(ve),Y=q||se||K||J,N=Y?P(ve.length,String):[],G=N.length;for(var Q in ve)!re&&!ue.call(ve,Q)||Y&&("length"==Q||K&&("offset"==Q||"parent"==Q)||J&&("buffer"==Q||"byteLength"==Q||"byteOffset"==Q)||W(Q,G))||N.push(Q);return N}},9932:x=>{x.exports=function(S,M){for(var P=-1,T=null==S?0:S.length,j=Array(T);++P<T;)j[P]=M(S[P],P,S);return j}},6556:(x,S,M)=>{var P=M(9465),T=M(7813);x.exports=function(j,B,W){(void 0!==W&&!T(j[B],W)||void 0===W&&!(B in j))&&P(j,B,W)}},4865:(x,S,M)=>{var P=M(9465),T=M(7813),j=Object.prototype.hasOwnProperty;x.exports=function(B,W,ie){var ue=B[W];j.call(B,W)&&T(ue,ie)&&(void 0!==ie||W in B)||P(B,W,ie)}},8470:(x,S,M)=>{var P=M(7813);x.exports=function(T,j){for(var B=T.length;B--;)if(P(T[B][0],j))return B;return-1}},9465:(x,S,M)=>{var P=M(8777);x.exports=function(T,j,B){"__proto__"==j&&P?P(T,j,{configurable:!0,enumerable:!0,value:B,writable:!0}):T[j]=B}},3118:(x,S,M)=>{var P=M(3218),T=Object.create,j=function(){function B(){}return function(W){if(!P(W))return{};if(T)return T(W);B.prototype=W;var ie=new B;return B.prototype=void 0,ie}}();x.exports=j},8483:(x,S,M)=>{var P=M(5063)();x.exports=P},7786:(x,S,M)=>{var P=M(1811),T=M(327);x.exports=function(j,B){for(var W=0,ie=(B=P(B,j)).length;null!=j&&W<ie;)j=j[T(B[W++])];return W&&W==ie?j:void 0}},4239:(x,S,M)=>{var P=M(2705),T=M(9607),j=M(2333),B=P?P.toStringTag:void 0;x.exports=function(W){return null==W?void 0===W?"[object Undefined]":"[object Null]":B&&B in Object(W)?T(W):j(W)}},8565:x=>{var S=Object.prototype.hasOwnProperty;x.exports=function(M,P){return null!=M&&S.call(M,P)}},9454:(x,S,M)=>{var P=M(4239),T=M(7005);x.exports=function(j){return T(j)&&"[object Arguments]"==P(j)}},8458:(x,S,M)=>{var P=M(3560),T=M(5346),j=M(3218),B=M(346),W=/^\[object .+?Constructor\]$/,q=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");x.exports=function(se){return!(!j(se)||T(se))&&(P(se)?q:W).test(B(se))}},8749:(x,S,M)=>{var P=M(4239),T=M(1780),j=M(7005),B={};B["[object Float32Array]"]=B["[object Float64Array]"]=B["[object Int8Array]"]=B["[object Int16Array]"]=B["[object Int32Array]"]=B["[object Uint8Array]"]=B["[object Uint8ClampedArray]"]=B["[object Uint16Array]"]=B["[object Uint32Array]"]=!0,B["[object Arguments]"]=B["[object Array]"]=B["[object ArrayBuffer]"]=B["[object Boolean]"]=B["[object DataView]"]=B["[object Date]"]=B["[object Error]"]=B["[object Function]"]=B["[object Map]"]=B["[object Number]"]=B["[object Object]"]=B["[object RegExp]"]=B["[object Set]"]=B["[object String]"]=B["[object WeakMap]"]=!1,x.exports=function(W){return j(W)&&T(W.length)&&!!B[P(W)]}},313:(x,S,M)=>{var P=M(3218),T=M(5726),j=M(3498),B=Object.prototype.hasOwnProperty;x.exports=function(W){if(!P(W))return j(W);var ie=T(W),ue=[];for(var ve in W)("constructor"!=ve||!ie&&B.call(W,ve))&&ue.push(ve);return ue}},2980:(x,S,M)=>{var P=M(6384),T=M(6556),j=M(8483),B=M(9783),W=M(3218),ie=M(1704),ue=M(6390);x.exports=function ve(re,q,se,K,J){re!==q&&j(q,function(Y,N){if(J||(J=new P),W(Y))B(re,q,N,se,ve,K,J);else{var G=K?K(ue(re,N),Y,N+"",re,q,J):void 0;void 0===G&&(G=Y),T(re,N,G)}},ie)}},9783:(x,S,M)=>{var P=M(6556),T=M(4626),j=M(7133),B=M(278),W=M(8517),ie=M(5694),ue=M(1469),ve=M(9246),re=M(4144),q=M(3560),se=M(3218),K=M(8630),J=M(6719),Y=M(6390),N=M(9881);x.exports=function(G,Q,ge,Ce,De,Le,ke){var Pe=Y(G,ge),Ae=Y(Q,ge),at=ke.get(Ae);if(at)P(G,ge,at);else{var Fe=Le?Le(Pe,Ae,ge+"",G,Q,ke):void 0,$e=void 0===Fe;if($e){var At=ue(Ae),Se=!At&&re(Ae),ot=!At&&!Se&&J(Ae);Fe=Ae,At||Se||ot?ue(Pe)?Fe=Pe:ve(Pe)?Fe=B(Pe):Se?($e=!1,Fe=T(Ae,!0)):ot?($e=!1,Fe=j(Ae,!0)):Fe=[]:K(Ae)||ie(Ae)?(Fe=Pe,ie(Pe)?Fe=N(Pe):se(Pe)&&!q(Pe)||(Fe=W(Ae))):$e=!1}$e&&(ke.set(Ae,Fe),De(Fe,Ae,Ce,Le,ke),ke.delete(Ae)),P(G,ge,Fe)}}},5976:(x,S,M)=>{var P=M(6557),T=M(5357),j=M(61);x.exports=function(B,W){return j(T(B,W,P),B+"")}},6560:(x,S,M)=>{var P=M(5703),T=M(8777),j=M(6557);x.exports=T?function(W,ie){return T(W,"toString",{configurable:!0,enumerable:!1,value:P(ie),writable:!0})}:j},2545:x=>{x.exports=function(S,M){for(var P=-1,T=Array(S);++P<S;)T[P]=M(P);return T}},531:(x,S,M)=>{var P=M(2705),T=M(9932),j=M(1469),B=M(3448),W=P?P.prototype:void 0,ie=W?W.toString:void 0;x.exports=function ue(ve){if("string"==typeof ve)return ve;if(j(ve))return T(ve,ue)+"";if(B(ve))return ie?ie.call(ve):"";var re=ve+"";return"0"==re&&1/ve==-1/0?"-0":re}},1717:x=>{x.exports=function(S){return function(M){return S(M)}}},1811:(x,S,M)=>{var P=M(1469),T=M(5403),j=M(5514),B=M(9833);x.exports=function(W,ie){return P(W)?W:T(W,ie)?[W]:j(B(W))}},4318:(x,S,M)=>{var P=M(1149);x.exports=function(T){var j=new T.constructor(T.byteLength);return new P(j).set(new P(T)),j}},4626:(x,S,M)=>{x=M.nmd(x);var P=M(5639),T=S&&!S.nodeType&&S,j=T&&x&&!x.nodeType&&x,B=j&&j.exports===T?P.Buffer:void 0,W=B?B.allocUnsafe:void 0;x.exports=function(ie,ue){if(ue)return ie.slice();var ve=ie.length,re=W?W(ve):new ie.constructor(ve);return ie.copy(re),re}},7133:(x,S,M)=>{var P=M(4318);x.exports=function(T,j){var B=j?P(T.buffer):T.buffer;return new T.constructor(B,T.byteOffset,T.length)}},278:x=>{x.exports=function(S,M){var P=-1,T=S.length;for(M||(M=Array(T));++P<T;)M[P]=S[P];return M}},8363:(x,S,M)=>{var P=M(4865),T=M(9465);x.exports=function(j,B,W,ie){var ue=!W;W||(W={});for(var ve=-1,re=B.length;++ve<re;){var q=B[ve],se=ie?ie(W[q],j[q],q,W,j):void 0;void 0===se&&(se=j[q]),ue?T(W,q,se):P(W,q,se)}return W}},4429:(x,S,M)=>{var P=M(5639)["__core-js_shared__"];x.exports=P},1463:(x,S,M)=>{var P=M(5976),T=M(6612);x.exports=function(j){return P(function(B,W){var ie=-1,ue=W.length,ve=ue>1?W[ue-1]:void 0,re=ue>2?W[2]:void 0;for(ve=j.length>3&&"function"==typeof ve?(ue--,ve):void 0,re&&T(W[0],W[1],re)&&(ve=ue<3?void 0:ve,ue=1),B=Object(B);++ie<ue;){var q=W[ie];q&&j(B,q,ie,ve)}return B})}},5063:x=>{x.exports=function(S){return function(M,P,T){for(var j=-1,B=Object(M),W=T(M),ie=W.length;ie--;){var ue=W[S?ie:++j];if(!1===P(B[ue],ue,B))break}return M}}},8777:(x,S,M)=>{var P=M(852),T=function(){try{var j=P(Object,"defineProperty");return j({},"",{}),j}catch{}}();x.exports=T},1957:(x,S,M)=>{x.exports="object"==typeof M.g&&M.g&&M.g.Object===Object&&M.g},5050:(x,S,M)=>{var P=M(7019);x.exports=function(T,j){var B=T.__data__;return P(j)?B["string"==typeof j?"string":"hash"]:B.map}},852:(x,S,M)=>{var P=M(8458),T=M(7801);x.exports=function(j,B){var W=T(j,B);return P(W)?W:void 0}},5924:(x,S,M)=>{var P=M(5569)(Object.getPrototypeOf,Object);x.exports=P},9607:(x,S,M)=>{var P=M(2705),T=Object.prototype,j=T.hasOwnProperty,B=T.toString,W=P?P.toStringTag:void 0;x.exports=function(ie){var ue=j.call(ie,W),ve=ie[W];try{ie[W]=void 0;var re=!0}catch{}var q=B.call(ie);return re&&(ue?ie[W]=ve:delete ie[W]),q}},7801:x=>{x.exports=function(S,M){return S?.[M]}},222:(x,S,M)=>{var P=M(1811),T=M(5694),j=M(1469),B=M(5776),W=M(1780),ie=M(327);x.exports=function(ue,ve,re){for(var q=-1,se=(ve=P(ve,ue)).length,K=!1;++q<se;){var J=ie(ve[q]);if(!(K=null!=ue&&re(ue,J)))break;ue=ue[J]}return K||++q!=se?K:!!(se=null==ue?0:ue.length)&&W(se)&&B(J,se)&&(j(ue)||T(ue))}},1789:(x,S,M)=>{var P=M(4536);x.exports=function(){this.__data__=P?P(null):{},this.size=0}},401:x=>{x.exports=function(S){var M=this.has(S)&&delete this.__data__[S];return this.size-=M?1:0,M}},7667:(x,S,M)=>{var P=M(4536),T=Object.prototype.hasOwnProperty;x.exports=function(j){var B=this.__data__;if(P){var W=B[j];return"__lodash_hash_undefined__"===W?void 0:W}return T.call(B,j)?B[j]:void 0}},1327:(x,S,M)=>{var P=M(4536),T=Object.prototype.hasOwnProperty;x.exports=function(j){var B=this.__data__;return P?void 0!==B[j]:T.call(B,j)}},1866:(x,S,M)=>{var P=M(4536);x.exports=function(T,j){var B=this.__data__;return this.size+=this.has(T)?0:1,B[T]=P&&void 0===j?"__lodash_hash_undefined__":j,this}},8517:(x,S,M)=>{var P=M(3118),T=M(5924),j=M(5726);x.exports=function(B){return"function"!=typeof B.constructor||j(B)?{}:P(T(B))}},5776:x=>{var S=/^(?:0|[1-9]\d*)$/;x.exports=function(M,P){var T=typeof M;return!!(P=P??9007199254740991)&&("number"==T||"symbol"!=T&&S.test(M))&&M>-1&&M%1==0&&M<P}},6612:(x,S,M)=>{var P=M(7813),T=M(8612),j=M(5776),B=M(3218);x.exports=function(W,ie,ue){if(!B(ue))return!1;var ve=typeof ie;return!!("number"==ve?T(ue)&&j(ie,ue.length):"string"==ve&&ie in ue)&&P(ue[ie],W)}},5403:(x,S,M)=>{var P=M(1469),T=M(3448),j=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,B=/^\w*$/;x.exports=function(W,ie){if(P(W))return!1;var ue=typeof W;return!("number"!=ue&&"symbol"!=ue&&"boolean"!=ue&&null!=W&&!T(W))||B.test(W)||!j.test(W)||null!=ie&&W in Object(ie)}},7019:x=>{x.exports=function(S){var M=typeof S;return"string"==M||"number"==M||"symbol"==M||"boolean"==M?"__proto__"!==S:null===S}},5346:(x,S,M)=>{var P,T=M(4429),j=(P=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||""))?"Symbol(src)_1."+P:"";x.exports=function(B){return!!j&&j in B}},5726:x=>{var S=Object.prototype;x.exports=function(M){var P=M&&M.constructor;return M===("function"==typeof P&&P.prototype||S)}},7040:x=>{x.exports=function(){this.__data__=[],this.size=0}},4125:(x,S,M)=>{var P=M(8470),T=Array.prototype.splice;x.exports=function(j){var B=this.__data__,W=P(B,j);return!(W<0||(W==B.length-1?B.pop():T.call(B,W,1),--this.size,0))}},2117:(x,S,M)=>{var P=M(8470);x.exports=function(T){var j=this.__data__,B=P(j,T);return B<0?void 0:j[B][1]}},7518:(x,S,M)=>{var P=M(8470);x.exports=function(T){return P(this.__data__,T)>-1}},4705:(x,S,M)=>{var P=M(8470);x.exports=function(T,j){var B=this.__data__,W=P(B,T);return W<0?(++this.size,B.push([T,j])):B[W][1]=j,this}},4785:(x,S,M)=>{var P=M(1989),T=M(8407),j=M(7071);x.exports=function(){this.size=0,this.__data__={hash:new P,map:new(j||T),string:new P}}},1285:(x,S,M)=>{var P=M(5050);x.exports=function(T){var j=P(this,T).delete(T);return this.size-=j?1:0,j}},6e3:(x,S,M)=>{var P=M(5050);x.exports=function(T){return P(this,T).get(T)}},9916:(x,S,M)=>{var P=M(5050);x.exports=function(T){return P(this,T).has(T)}},5265:(x,S,M)=>{var P=M(5050);x.exports=function(T,j){var B=P(this,T),W=B.size;return B.set(T,j),this.size+=B.size==W?0:1,this}},4523:(x,S,M)=>{var P=M(8306);x.exports=function(T){var j=P(T,function(W){return 500===B.size&&B.clear(),W}),B=j.cache;return j}},4536:(x,S,M)=>{var P=M(852)(Object,"create");x.exports=P},3498:x=>{x.exports=function(S){var M=[];if(null!=S)for(var P in Object(S))M.push(P);return M}},1167:(x,S,M)=>{x=M.nmd(x);var P=M(1957),T=S&&!S.nodeType&&S,j=T&&x&&!x.nodeType&&x,B=j&&j.exports===T&&P.process,W=function(){try{return j&&j.require&&j.require("util").types||B&&B.binding&&B.binding("util")}catch{}}();x.exports=W},2333:x=>{var S=Object.prototype.toString;x.exports=function(M){return S.call(M)}},5569:x=>{x.exports=function(S,M){return function(P){return S(M(P))}}},5357:(x,S,M)=>{var P=M(6874),T=Math.max;x.exports=function(j,B,W){return B=T(void 0===B?j.length-1:B,0),function(){for(var ie=arguments,ue=-1,ve=T(ie.length-B,0),re=Array(ve);++ue<ve;)re[ue]=ie[B+ue];ue=-1;for(var q=Array(B+1);++ue<B;)q[ue]=ie[ue];return q[B]=W(re),P(j,this,q)}}},5639:(x,S,M)=>{var P=M(1957),T="object"==typeof self&&self&&self.Object===Object&&self,j=P||T||Function("return this")();x.exports=j},6390:x=>{x.exports=function(S,M){if(("constructor"!==M||"function"!=typeof S[M])&&"__proto__"!=M)return S[M]}},61:(x,S,M)=>{var P=M(6560),T=M(1275)(P);x.exports=T},1275:x=>{var S=Date.now;x.exports=function(M){var P=0,T=0;return function(){var j=S(),B=16-(j-T);if(T=j,B>0){if(++P>=800)return arguments[0]}else P=0;return M.apply(void 0,arguments)}}},7465:(x,S,M)=>{var P=M(8407);x.exports=function(){this.__data__=new P,this.size=0}},3779:x=>{x.exports=function(S){var M=this.__data__,P=M.delete(S);return this.size=M.size,P}},7599:x=>{x.exports=function(S){return this.__data__.get(S)}},4758:x=>{x.exports=function(S){return this.__data__.has(S)}},4309:(x,S,M)=>{var P=M(8407),T=M(7071),j=M(3369);x.exports=function(B,W){var ie=this.__data__;if(ie instanceof P){var ue=ie.__data__;if(!T||ue.length<199)return ue.push([B,W]),this.size=++ie.size,this;ie=this.__data__=new j(ue)}return ie.set(B,W),this.size=ie.size,this}},5514:(x,S,M)=>{var P=M(4523),T=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,j=/\\(\\)?/g,B=P(function(W){var ie=[];return 46===W.charCodeAt(0)&&ie.push(""),W.replace(T,function(ue,ve,re,q){ie.push(re?q.replace(j,"$1"):ve||ue)}),ie});x.exports=B},327:(x,S,M)=>{var P=M(3448);x.exports=function(T){if("string"==typeof T||P(T))return T;var j=T+"";return"0"==j&&1/T==-1/0?"-0":j}},346:x=>{var S=Function.prototype.toString;x.exports=function(M){if(null!=M){try{return S.call(M)}catch{}try{return M+""}catch{}}return""}},5703:x=>{x.exports=function(S){return function(){return S}}},7813:x=>{x.exports=function(S,M){return S===M||S!=S&&M!=M}},7361:(x,S,M)=>{var P=M(7786);x.exports=function(T,j,B){var W=null==T?void 0:P(T,j);return void 0===W?B:W}},8721:(x,S,M)=>{var P=M(8565),T=M(222);x.exports=function(j,B){return null!=j&&T(j,B,P)}},6557:x=>{x.exports=function(S){return S}},5694:(x,S,M)=>{var P=M(9454),T=M(7005),j=Object.prototype,B=j.hasOwnProperty,W=j.propertyIsEnumerable,ie=P(function(){return arguments}())?P:function(ue){return T(ue)&&B.call(ue,"callee")&&!W.call(ue,"callee")};x.exports=ie},1469:x=>{x.exports=Array.isArray},8612:(x,S,M)=>{var P=M(3560),T=M(1780);x.exports=function(j){return null!=j&&T(j.length)&&!P(j)}},9246:(x,S,M)=>{var P=M(8612),T=M(7005);x.exports=function(j){return T(j)&&P(j)}},4144:(x,S,M)=>{x=M.nmd(x);var P=M(5639),T=M(5062),j=S&&!S.nodeType&&S,B=j&&x&&!x.nodeType&&x,W=B&&B.exports===j?P.Buffer:void 0;x.exports=(W?W.isBuffer:void 0)||T},3560:(x,S,M)=>{var P=M(4239),T=M(3218);x.exports=function(j){if(!T(j))return!1;var B=P(j);return"[object Function]"==B||"[object GeneratorFunction]"==B||"[object AsyncFunction]"==B||"[object Proxy]"==B}},1780:x=>{x.exports=function(S){return"number"==typeof S&&S>-1&&S%1==0&&S<=9007199254740991}},3218:x=>{x.exports=function(S){var M=typeof S;return null!=S&&("object"==M||"function"==M)}},7005:x=>{x.exports=function(S){return null!=S&&"object"==typeof S}},8630:(x,S,M)=>{var P=M(4239),T=M(5924),j=M(7005),ie=Function.prototype.toString,ue=Object.prototype.hasOwnProperty,ve=ie.call(Object);x.exports=function(re){if(!j(re)||"[object Object]"!=P(re))return!1;var q=T(re);if(null===q)return!0;var se=ue.call(q,"constructor")&&q.constructor;return"function"==typeof se&&se instanceof se&&ie.call(se)==ve}},3448:(x,S,M)=>{var P=M(4239),T=M(7005);x.exports=function(j){return"symbol"==typeof j||T(j)&&"[object Symbol]"==P(j)}},6719:(x,S,M)=>{var P=M(8749),T=M(1717),j=M(1167),B=j&&j.isTypedArray,W=B?T(B):P;x.exports=W},1704:(x,S,M)=>{var P=M(4636),T=M(313),j=M(8612);x.exports=function(B){return j(B)?P(B,!0):T(B)}},8306:(x,S,M)=>{var P=M(3369);function T(j,B){if("function"!=typeof j||null!=B&&"function"!=typeof B)throw new TypeError("Expected a function");var W=function(){var ie=arguments,ue=B?B.apply(this,ie):ie[0],ve=W.cache;if(ve.has(ue))return ve.get(ue);var re=j.apply(this,ie);return W.cache=ve.set(ue,re)||ve,re};return W.cache=new(T.Cache||P),W}T.Cache=P,x.exports=T},2492:(x,S,M)=>{var P=M(2980),T=M(1463)(function(j,B,W){P(j,B,W)});x.exports=T},5062:x=>{x.exports=function(){return!1}},9881:(x,S,M)=>{var P=M(8363),T=M(1704);x.exports=function(j){return P(j,T(j))}},9833:(x,S,M)=>{var P=M(531);x.exports=function(T){return null==T?"":P(T)}},2676:function(x){x.exports=function(){"use strict";function S(V,w){if(!(V instanceof w))throw new TypeError("Cannot call a class as a function")}function M(V,w){for(var E=0;E<w.length;E++){var I=w[E];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(V,I.key,I)}}function P(V,w,E){return w&&M(V.prototype,w),E&&M(V,E),V}var T=function V(w,E){this.next=null,this.key=w,this.data=E,this.left=null,this.right=null};function j(V,w){return V>w?1:V<w?-1:0}function B(V,w,E){for(var I=new T(null,null),H=I,Z=I;;){var he=E(V,w.key);if(he<0){if(null===w.left)break;if(E(V,w.left.key)<0){var ce=w.left;if(w.left=ce.right,ce.right=w,null===(w=ce).left)break}Z.left=w,Z=w,w=w.left}else{if(!(he>0)||null===w.right||E(V,w.right.key)>0&&(w.right=(ce=w.right).left,ce.left=w,null===(w=ce).right))break;H.right=w,H=w,w=w.right}}return H.right=w.left,Z.left=w.right,w.left=I.right,w.right=I.left,w}function W(V,w,E,I){var H=new T(V,w);if(null===E)return H.left=H.right=null,H;var Z=I(V,(E=B(V,E,I)).key);return Z<0?(H.left=E.left,H.right=E,E.left=null):Z>=0&&(H.right=E.right,H.left=E,E.right=null),H}function ie(V,w,E){var I=null,H=null;if(w){var Z=E((w=B(V,w,E)).key,V);0===Z?(I=w.left,H=w.right):Z<0?(H=w.right,w.right=null,I=w):(I=w.left,w.left=null,H=w)}return{left:I,right:H}}function ve(V,w,E,I,H){if(V){I(w+(E?"\u2514\u2500\u2500 ":"\u251c\u2500\u2500 ")+H(V)+"\n");var Z=w+(E?"    ":"\u2502   ");V.left&&ve(V.left,Z,!1,I,H),V.right&&ve(V.right,Z,!0,I,H)}}var re=function(){function V(w){void 0===w&&(w=j),this._root=null,this._size=0,this._comparator=w}return V.prototype.insert=function(w,E){return this._size++,this._root=W(w,E,this._root,this._comparator)},V.prototype.add=function(w,E){var I=new T(w,E);null===this._root&&(I.left=I.right=null,this._size++,this._root=I);var H=this._comparator,Z=B(w,this._root,H),he=H(w,Z.key);return 0===he?this._root=Z:(he<0?(I.left=Z.left,I.right=Z,Z.left=null):he>0&&(I.right=Z.right,I.left=Z,Z.right=null),this._size++,this._root=I),this._root},V.prototype.remove=function(w){this._root=this._remove(w,this._root,this._comparator)},V.prototype._remove=function(w,E,I){var H;return null===E?null:0===I(w,(E=B(w,E,I)).key)?(null===E.left?H=E.right:(H=B(w,E.left,I)).right=E.right,this._size--,H):E},V.prototype.pop=function(){var w=this._root;if(w){for(;w.left;)w=w.left;return this._root=B(w.key,this._root,this._comparator),this._root=this._remove(w.key,this._root,this._comparator),{key:w.key,data:w.data}}return null},V.prototype.findStatic=function(w){for(var E=this._root,I=this._comparator;E;){var H=I(w,E.key);if(0===H)return E;E=H<0?E.left:E.right}return null},V.prototype.find=function(w){return this._root&&(this._root=B(w,this._root,this._comparator),0!==this._comparator(w,this._root.key))?null:this._root},V.prototype.contains=function(w){for(var E=this._root,I=this._comparator;E;){var H=I(w,E.key);if(0===H)return!0;E=H<0?E.left:E.right}return!1},V.prototype.forEach=function(w,E){for(var I=this._root,H=[],Z=!1;!Z;)null!==I?(H.push(I),I=I.left):0!==H.length?(I=H.pop(),w.call(E,I),I=I.right):Z=!0;return this},V.prototype.range=function(w,E,I,H){for(var Z=[],he=this._comparator,ce=this._root;0!==Z.length||ce;)if(ce)Z.push(ce),ce=ce.left;else{if(he((ce=Z.pop()).key,E)>0)break;if(he(ce.key,w)>=0&&I.call(H,ce))return this;ce=ce.right}return this},V.prototype.keys=function(){var w=[];return this.forEach(function(E){return w.push(E.key)}),w},V.prototype.values=function(){var w=[];return this.forEach(function(E){return w.push(E.data)}),w},V.prototype.min=function(){return this._root?this.minNode(this._root).key:null},V.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},V.prototype.minNode=function(w){if(void 0===w&&(w=this._root),w)for(;w.left;)w=w.left;return w},V.prototype.maxNode=function(w){if(void 0===w&&(w=this._root),w)for(;w.right;)w=w.right;return w},V.prototype.at=function(w){for(var E=this._root,I=!1,H=0,Z=[];!I;)if(E)Z.push(E),E=E.left;else if(Z.length>0){if(E=Z.pop(),H===w)return E;H++,E=E.right}else I=!0;return null},V.prototype.next=function(w){var E=this._root,I=null;if(w.right){for(I=w.right;I.left;)I=I.left;return I}for(var H=this._comparator;E;){var Z=H(w.key,E.key);if(0===Z)break;Z<0?(I=E,E=E.left):E=E.right}return I},V.prototype.prev=function(w){var E=this._root,I=null;if(null!==w.left){for(I=w.left;I.right;)I=I.right;return I}for(var H=this._comparator;E;){var Z=H(w.key,E.key);if(0===Z)break;Z<0?E=E.left:(I=E,E=E.right)}return I},V.prototype.clear=function(){return this._root=null,this._size=0,this},V.prototype.toList=function(){return function K(V){for(var w=V,E=[],I=!1,H=new T(null,null),Z=H;!I;)w?(E.push(w),w=w.left):E.length>0?w=(w=Z=Z.next=E.pop()).right:I=!0;return Z.next=null,H.next}(this._root)},V.prototype.load=function(w,E,I){void 0===E&&(E=[]),void 0===I&&(I=!1);var H=w.length,Z=this._comparator;if(I&&N(w,E,0,H-1,Z),null===this._root)this._root=q(w,E,0,H),this._size=H;else{var he=function Y(V,w,E){for(var I=new T(null,null),H=I,Z=V,he=w;null!==Z&&null!==he;)E(Z.key,he.key)<0?(H.next=Z,Z=Z.next):(H.next=he,he=he.next),H=H.next;return null!==Z?H.next=Z:null!==he&&(H.next=he),I.next}(this.toList(),function se(V,w){for(var E=new T(null,null),I=E,H=0;H<V.length;H++)I=I.next=new T(V[H],w[H]);return I.next=null,E.next}(w,E),Z);this._root=J({head:he},0,H=this._size+H)}return this},V.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(V.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),V.prototype.toString=function(w){void 0===w&&(w=function(I){return String(I.key)});var E=[];return ve(this._root,"",!0,function(I){return E.push(I)},w),E.join("")},V.prototype.update=function(w,E,I){var H=this._comparator,Z=ie(w,this._root,H),he=Z.left,ce=Z.right;H(w,E)<0?ce=W(E,I,ce,H):he=W(E,I,he,H),this._root=function ue(V,w,E){return null===w?V:(null===V||((w=B(V.key,w,E)).left=V),w)}(he,ce,H)},V.prototype.split=function(w){return ie(w,this._root,this._comparator)},V}();function q(V,w,E,I){var H=I-E;if(H>0){var Z=E+Math.floor(H/2),Me=new T(V[Z],w[Z]);return Me.left=q(V,w,E,Z),Me.right=q(V,w,Z+1,I),Me}return null}function J(V,w,E){var I=E-w;if(I>0){var H=w+Math.floor(I/2),Z=J(V,w,H),he=V.head;return he.left=Z,V.head=V.head.next,he.right=J(V,H+1,E),he}return null}function N(V,w,E,I,H){if(!(E>=I)){for(var Z=V[E+I>>1],he=E-1,ce=I+1;;){do{he++}while(H(V[he],Z)<0);do{ce--}while(H(V[ce],Z)>0);if(he>=ce)break;var Me=V[he];V[he]=V[ce],V[ce]=Me,Me=w[he],w[he]=w[ce],w[ce]=Me}N(V,w,E,ce,H),N(V,w,ce+1,I,H)}}var G=function(V,w){return V.ll.x<=w.x&&w.x<=V.ur.x&&V.ll.y<=w.y&&w.y<=V.ur.y},Q=function(V,w){return w.ur.x<V.ll.x||V.ur.x<w.ll.x||w.ur.y<V.ll.y||V.ur.y<w.ll.y?null:{ll:{x:V.ll.x<w.ll.x?w.ll.x:V.ll.x,y:V.ll.y<w.ll.y?w.ll.y:V.ll.y},ur:{x:V.ur.x<w.ur.x?V.ur.x:w.ur.x,y:V.ur.y<w.ur.y?V.ur.y:w.ur.y}}},ge=Number.EPSILON;void 0===ge&&(ge=Math.pow(2,-52));var Ce=ge*ge,De=function(V,w){if(-ge<V&&V<ge&&-ge<w&&w<ge)return 0;var E=V-w;return E*E<Ce*V*w?0:V<w?-1:1},Le=function(){function V(){S(this,V),this.reset()}return P(V,[{key:"reset",value:function(){this.xRounder=new ke,this.yRounder=new ke}},{key:"round",value:function(w,E){return{x:this.xRounder.round(w),y:this.yRounder.round(E)}}}]),V}(),ke=function(){function V(){S(this,V),this.tree=new re,this.round(0)}return P(V,[{key:"round",value:function(w){var E=this.tree.add(w),I=this.tree.prev(E);if(null!==I&&0===De(E.key,I.key))return this.tree.remove(w),I.key;var H=this.tree.next(E);return null!==H&&0===De(E.key,H.key)?(this.tree.remove(w),H.key):w}}]),V}(),Pe=new Le,Ae=function(V,w){return V.x*w.y-V.y*w.x},at=function(V,w){return V.x*w.x+V.y*w.y},Fe=function(V,w,E){var Z=Ae({x:w.x-V.x,y:w.y-V.y},{x:E.x-V.x,y:E.y-V.y});return De(Z,0)},$e=function(V){return Math.sqrt(at(V,V))},At=function(V,w,E){var I={x:w.x-V.x,y:w.y-V.y},H={x:E.x-V.x,y:E.y-V.y};return Ae(H,I)/$e(H)/$e(I)},Se=function(V,w,E){var I={x:w.x-V.x,y:w.y-V.y},H={x:E.x-V.x,y:E.y-V.y};return at(H,I)/$e(H)/$e(I)},ot=function(V,w,E){return 0===w.y?null:{x:V.x+w.x/w.y*(E-V.y),y:E}},je=function(V,w,E){return 0===w.x?null:{x:E,y:V.y+w.y/w.x*(E-V.x)}},pt=function(){function V(w,E){S(this,V),void 0===w.events?w.events=[this]:w.events.push(this),this.point=w,this.isLeft=E}return P(V,null,[{key:"compare",value:function(w,E){var I=V.comparePoints(w.point,E.point);return 0!==I?I:(w.point!==E.point&&w.link(E),w.isLeft!==E.isLeft?w.isLeft?1:-1:St.compare(w.segment,E.segment))}},{key:"comparePoints",value:function(w,E){return w.x<E.x?-1:w.x>E.x?1:w.y<E.y?-1:w.y>E.y?1:0}}]),P(V,[{key:"link",value:function(w){if(w.point===this.point)throw new Error("Tried to link already linked events");for(var E=w.point.events,I=0,H=E.length;I<H;I++){var Z=E[I];this.point.events.push(Z),Z.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var w=this.point.events.length,E=0;E<w;E++){var I=this.point.events[E];if(void 0===I.segment.consumedBy)for(var H=E+1;H<w;H++){var Z=this.point.events[H];void 0===Z.consumedBy&&I.otherSE.point.events===Z.otherSE.point.events&&I.segment.consume(Z.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var w=[],E=0,I=this.point.events.length;E<I;E++){var H=this.point.events[E];H!==this&&!H.segment.ringOut&&H.segment.isInResult()&&w.push(H)}return w}},{key:"getLeftmostComparator",value:function(w){var E=this,I=new Map,H=function(Z){var he=Z.otherSE;I.set(Z,{sine:At(E.point,w.point,he.point),cosine:Se(E.point,w.point,he.point)})};return function(Z,he){I.has(Z)||H(Z),I.has(he)||H(he);var ce=I.get(Z),Me=ce.sine,Ze=ce.cosine,ct=I.get(he),Mt=ct.sine,rt=ct.cosine;return Me>=0&&Mt>=0?Ze<rt?1:Ze>rt?-1:0:Me<0&&Mt<0?Ze<rt?-1:Ze>rt?1:0:Mt<Me?-1:Mt>Me?1:0}}}]),V}(),Xt=0,St=function(){function V(w,E,I,H){S(this,V),this.id=++Xt,this.leftSE=w,w.segment=this,w.otherSE=E,this.rightSE=E,E.segment=this,E.otherSE=w,this.rings=I,this.windings=H}return P(V,null,[{key:"compare",value:function(w,E){var I=w.leftSE.point.x,H=E.leftSE.point.x,Z=w.rightSE.point.x,he=E.rightSE.point.x;if(he<I)return 1;if(Z<H)return-1;var ce=w.leftSE.point.y,Me=E.leftSE.point.y,Ze=w.rightSE.point.y,ct=E.rightSE.point.y;if(I<H){if(Me<ce&&Me<Ze)return 1;if(Me>ce&&Me>Ze)return-1;var Mt=w.comparePoint(E.leftSE.point);if(Mt<0)return 1;if(Mt>0)return-1;var rt=E.comparePoint(w.rightSE.point);return 0!==rt?rt:-1}if(I>H){if(ce<Me&&ce<ct)return-1;if(ce>Me&&ce>ct)return 1;var zt=E.comparePoint(w.leftSE.point);if(0!==zt)return zt;var gt=w.comparePoint(E.rightSE.point);return gt<0?1:gt>0?-1:1}if(ce<Me)return-1;if(ce>Me)return 1;if(Z<he){var Ft=E.comparePoint(w.rightSE.point);if(0!==Ft)return Ft}if(Z>he){var Yt=w.comparePoint(E.rightSE.point);if(Yt<0)return 1;if(Yt>0)return-1}if(Z!==he){var sn=Ze-ce,nn=Z-I,Cn=ct-Me,Ln=he-H;if(sn>nn&&Cn<Ln)return 1;if(sn<nn&&Cn>Ln)return-1}return Z>he?1:Z<he||Ze<ct?-1:Ze>ct?1:w.id<E.id?-1:w.id>E.id?1:0}}]),P(V,[{key:"replaceRightSE",value:function(w){this.rightSE=w,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var w=this.leftSE.point.y,E=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:w<E?w:E},ur:{x:this.rightSE.point.x,y:w>E?w:E}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(w){return w.x===this.leftSE.point.x&&w.y===this.leftSE.point.y||w.x===this.rightSE.point.x&&w.y===this.rightSE.point.y}},{key:"comparePoint",value:function(w){if(this.isAnEndpoint(w))return 0;var E=this.leftSE.point,I=this.rightSE.point,H=this.vector();if(E.x===I.x)return w.x===E.x?0:w.x<E.x?1:-1;if(w.x===E.x+(w.y-E.y)/H.y*H.x)return 0;var Me=E.y+(w.x-E.x)/H.x*H.y;return w.y===Me?0:w.y<Me?-1:1}},{key:"getIntersection",value:function(w){var E=this.bbox(),I=w.bbox(),H=Q(E,I);if(null===H)return null;var Z=this.leftSE.point,he=this.rightSE.point,ce=w.leftSE.point,Me=w.rightSE.point,Ze=G(E,ce)&&0===this.comparePoint(ce),ct=G(I,Z)&&0===w.comparePoint(Z),Mt=G(E,Me)&&0===this.comparePoint(Me),rt=G(I,he)&&0===w.comparePoint(he);if(ct&&Ze)return rt&&!Mt?he:!rt&&Mt?Me:null;if(ct)return Mt&&Z.x===Me.x&&Z.y===Me.y?null:Z;if(Ze)return rt&&he.x===ce.x&&he.y===ce.y?null:ce;if(rt&&Mt)return null;if(rt)return he;if(Mt)return Me;var zt=function(V,w,E,I){if(0===w.x)return je(E,I,V.x);if(0===I.x)return je(V,w,E.x);if(0===w.y)return ot(E,I,V.y);if(0===I.y)return ot(V,w,E.y);var H=Ae(w,I);if(0==H)return null;var Z={x:E.x-V.x,y:E.y-V.y},he=Ae(Z,w)/H,ce=Ae(Z,I)/H;return{x:(V.x+ce*w.x+(E.x+he*I.x))/2,y:(V.y+ce*w.y+(E.y+he*I.y))/2}}(Z,this.vector(),ce,w.vector());return null===zt?null:G(H,zt)?Pe.round(zt.x,zt.y):null}},{key:"split",value:function(w){var E=[],I=void 0!==w.events,H=new pt(w,!0),Z=new pt(w,!1),he=this.rightSE;this.replaceRightSE(Z),E.push(Z),E.push(H);var ce=new V(H,he,this.rings.slice(),this.windings.slice());return pt.comparePoints(ce.leftSE.point,ce.rightSE.point)>0&&ce.swapEvents(),pt.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),I&&(H.checkForConsuming(),Z.checkForConsuming()),E}},{key:"swapEvents",value:function(){var w=this.rightSE;this.rightSE=this.leftSE,this.leftSE=w,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var E=0,I=this.windings.length;E<I;E++)this.windings[E]*=-1}},{key:"consume",value:function(w){for(var E=this,I=w;E.consumedBy;)E=E.consumedBy;for(;I.consumedBy;)I=I.consumedBy;var H=V.compare(E,I);if(0!==H){if(H>0){var Z=E;E=I,I=Z}if(E.prev===I){var he=E;E=I,I=he}for(var ce=0,Me=I.rings.length;ce<Me;ce++){var Ze=I.rings[ce],ct=I.windings[ce],Mt=E.rings.indexOf(Ze);-1===Mt?(E.rings.push(Ze),E.windings.push(ct)):E.windings[Mt]+=ct}I.rings=null,I.windings=null,I.consumedBy=E,I.leftSE.consumedBy=E.leftSE,I.rightSE.consumedBy=E.rightSE}}},{key:"prevInResult",value:function(){return void 0!==this._prevInResult||(this._prevInResult=this.prev?this.prev.isInResult()?this.prev:this.prev.prevInResult():null),this._prevInResult}},{key:"beforeState",value:function(){return void 0!==this._beforeState||(this._beforeState=this.prev?(this.prev.consumedBy||this.prev).afterState():{rings:[],windings:[],multiPolys:[]}),this._beforeState}},{key:"afterState",value:function(){if(void 0!==this._afterState)return this._afterState;var w=this.beforeState();this._afterState={rings:w.rings.slice(0),windings:w.windings.slice(0),multiPolys:[]};for(var E=this._afterState.rings,I=this._afterState.windings,H=this._afterState.multiPolys,Z=0,he=this.rings.length;Z<he;Z++){var ce=this.rings[Z],Me=this.windings[Z],Ze=E.indexOf(ce);-1===Ze?(E.push(ce),I.push(Me)):I[Ze]+=Me}for(var ct=[],Mt=[],rt=0,zt=E.length;rt<zt;rt++)if(0!==I[rt]){var gt=E[rt],Ft=gt.poly;if(-1===Mt.indexOf(Ft))if(gt.isExterior)ct.push(Ft);else{-1===Mt.indexOf(Ft)&&Mt.push(Ft);var Yt=ct.indexOf(gt.poly);-1!==Yt&&ct.splice(Yt,1)}}for(var sn=0,nn=ct.length;sn<nn;sn++){var Cn=ct[sn].multiPoly;-1===H.indexOf(Cn)&&H.push(Cn)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var w=this.beforeState().multiPolys,E=this.afterState().multiPolys;switch(xn.type){case"union":this._isInResult=0===w.length!=(0===E.length);break;case"intersection":var Z,he;w.length<E.length?(Z=w.length,he=E.length):(Z=E.length,he=w.length),this._isInResult=he===xn.numMultiPolys&&Z<he;break;case"xor":var ce=Math.abs(w.length-E.length);this._isInResult=ce%2==1;break;case"difference":var Me=function(Ze){return 1===Ze.length&&Ze[0].isSubject};this._isInResult=Me(w)!==Me(E);break;default:throw new Error("Unrecognized operation type found ".concat(xn.type))}return this._isInResult}}],[{key:"fromRing",value:function(w,E,I){var H,Z,he,ce=pt.comparePoints(w,E);if(ce<0)H=w,Z=E,he=1;else{if(!(ce>0))throw new Error("Tried to create degenerate segment at [".concat(w.x,", ").concat(w.y,"]"));H=E,Z=w,he=-1}return new V(new pt(H,!0),new pt(Z,!1),[I],[he])}}]),V}(),Lt=function(){function V(w,E,I){if(S(this,V),!Array.isArray(w)||0===w.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=E,this.isExterior=I,this.segments=[],"number"!=typeof w[0][0]||"number"!=typeof w[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var H=Pe.round(w[0][0],w[0][1]);this.bbox={ll:{x:H.x,y:H.y},ur:{x:H.x,y:H.y}};for(var Z=H,he=1,ce=w.length;he<ce;he++){if("number"!=typeof w[he][0]||"number"!=typeof w[he][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var Me=Pe.round(w[he][0],w[he][1]);Me.x===Z.x&&Me.y===Z.y||(this.segments.push(St.fromRing(Z,Me,this)),Me.x<this.bbox.ll.x&&(this.bbox.ll.x=Me.x),Me.y<this.bbox.ll.y&&(this.bbox.ll.y=Me.y),Me.x>this.bbox.ur.x&&(this.bbox.ur.x=Me.x),Me.y>this.bbox.ur.y&&(this.bbox.ur.y=Me.y),Z=Me)}H.x===Z.x&&H.y===Z.y||this.segments.push(St.fromRing(Z,H,this))}return P(V,[{key:"getSweepEvents",value:function(){for(var w=[],E=0,I=this.segments.length;E<I;E++){var H=this.segments[E];w.push(H.leftSE),w.push(H.rightSE)}return w}}]),V}(),bt=function(){function V(w,E){if(S(this,V),!Array.isArray(w))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Lt(w[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var I=1,H=w.length;I<H;I++){var Z=new Lt(w[I],this,!1);Z.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=Z.bbox.ll.x),Z.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=Z.bbox.ll.y),Z.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=Z.bbox.ur.x),Z.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=Z.bbox.ur.y),this.interiorRings.push(Z)}this.multiPoly=E}return P(V,[{key:"getSweepEvents",value:function(){for(var w=this.exteriorRing.getSweepEvents(),E=0,I=this.interiorRings.length;E<I;E++)for(var H=this.interiorRings[E].getSweepEvents(),Z=0,he=H.length;Z<he;Z++)w.push(H[Z]);return w}}]),V}(),Tt=function(){function V(w,E){if(S(this,V),!Array.isArray(w))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof w[0][0][0]&&(w=[w])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var I=0,H=w.length;I<H;I++){var Z=new bt(w[I],this);Z.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=Z.bbox.ll.x),Z.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=Z.bbox.ll.y),Z.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=Z.bbox.ur.x),Z.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=Z.bbox.ur.y),this.polys.push(Z)}this.isSubject=E}return P(V,[{key:"getSweepEvents",value:function(){for(var w=[],E=0,I=this.polys.length;E<I;E++)for(var H=this.polys[E].getSweepEvents(),Z=0,he=H.length;Z<he;Z++)w.push(H[Z]);return w}}]),V}(),wt=function(){function V(w){S(this,V),this.events=w;for(var E=0,I=w.length;E<I;E++)w[E].segment.ringOut=this;this.poly=null}return P(V,null,[{key:"factory",value:function(w){for(var E=[],I=0,H=w.length;I<H;I++){var Z=w[I];if(Z.isInResult()&&!Z.ringOut){for(var he=null,ce=Z.leftSE,Me=Z.rightSE,Ze=[ce],ct=ce.point,Mt=[];he=ce,Ze.push(ce=Me),ce.point!==ct;)for(;;){var rt=ce.getAvailableLinkedEvents();if(0===rt.length){var zt=Ze[0].point,gt=Ze[Ze.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(zt.x,",")+" ".concat(zt.y,"]. Last matching segment found ends at")+" [".concat(gt.x,", ").concat(gt.y,"]."))}if(1===rt.length){Me=rt[0].otherSE;break}for(var Ft=null,Yt=0,sn=Mt.length;Yt<sn;Yt++)if(Mt[Yt].point===ce.point){Ft=Yt;break}if(null===Ft){Mt.push({index:Ze.length,point:ce.point});var nn=ce.getLeftmostComparator(he);Me=rt.sort(nn)[0].otherSE;break}var Cn=Mt.splice(Ft)[0],Ln=Ze.splice(Cn.index);Ln.unshift(Ln[0].otherSE),E.push(new V(Ln.reverse()))}E.push(new V(Ze))}}return E}}]),P(V,[{key:"getGeom",value:function(){for(var w=this.events[0].point,E=[w],I=1,H=this.events.length-1;I<H;I++){var Z=this.events[I].point;0!==Fe(Z,w,this.events[I+1].point)&&(E.push(Z),w=Z)}if(1===E.length)return null;0===Fe(E[0],w,E[1])&&E.shift(),E.push(E[0]);for(var Ze=this.isExteriorRing()?1:-1,ct=this.isExteriorRing()?0:E.length-1,Mt=this.isExteriorRing()?E.length:-1,rt=[],zt=ct;zt!=Mt;zt+=Ze)rt.push([E[zt].x,E[zt].y]);return rt}},{key:"isExteriorRing",value:function(){if(void 0===this._isExteriorRing){var w=this.enclosingRing();this._isExteriorRing=!w||!w.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var w=this.events[0],E=1,I=this.events.length;E<I;E++){var H=this.events[E];pt.compare(w,H)>0&&(w=H)}for(var Z=w.segment.prevInResult(),he=Z?Z.prevInResult():null;;){if(!Z)return null;if(!he)return Z.ringOut;if(he.ringOut!==Z.ringOut)return he.ringOut.enclosingRing()!==Z.ringOut?Z.ringOut:Z.ringOut.enclosingRing();Z=he.prevInResult(),he=Z?Z.prevInResult():null}}}]),V}(),ur=function(){function V(w){S(this,V),this.exteriorRing=w,w.poly=this,this.interiorRings=[]}return P(V,[{key:"addInterior",value:function(w){this.interiorRings.push(w),w.poly=this}},{key:"getGeom",value:function(){var w=[this.exteriorRing.getGeom()];if(null===w[0])return null;for(var E=0,I=this.interiorRings.length;E<I;E++){var H=this.interiorRings[E].getGeom();null!==H&&w.push(H)}return w}}]),V}(),nt=function(){function V(w){S(this,V),this.rings=w,this.polys=this._composePolys(w)}return P(V,[{key:"getGeom",value:function(){for(var w=[],E=0,I=this.polys.length;E<I;E++){var H=this.polys[E].getGeom();null!==H&&w.push(H)}return w}},{key:"_composePolys",value:function(w){for(var E=[],I=0,H=w.length;I<H;I++){var Z=w[I];if(!Z.poly)if(Z.isExteriorRing())E.push(new ur(Z));else{var he=Z.enclosingRing();he.poly||E.push(new ur(he)),he.poly.addInterior(Z)}}return E}}]),V}(),ji=function(){function V(w){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:St.compare;S(this,V),this.queue=w,this.tree=new re(E),this.segments=[]}return P(V,[{key:"process",value:function(w){var E=w.segment,I=[];if(w.consumedBy)return w.isLeft?this.queue.remove(w.otherSE):this.tree.remove(E),I;var H=w.isLeft?this.tree.insert(E):this.tree.find(E);if(!H)throw new Error("Unable to find segment #".concat(E.id," ")+"[".concat(E.leftSE.point.x,", ").concat(E.leftSE.point.y,"] -> ")+"[".concat(E.rightSE.point.x,", ").concat(E.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var Z=H,he=H,ce=void 0,Me=void 0;void 0===ce;)null===(Z=this.tree.prev(Z))?ce=null:void 0===Z.key.consumedBy&&(ce=Z.key);for(;void 0===Me;)null===(he=this.tree.next(he))?Me=null:void 0===he.key.consumedBy&&(Me=he.key);if(w.isLeft){var Ze=null;if(ce){var ct=ce.getIntersection(E);if(null!==ct&&(E.isAnEndpoint(ct)||(Ze=ct),!ce.isAnEndpoint(ct)))for(var Mt=this._splitSafely(ce,ct),rt=0,zt=Mt.length;rt<zt;rt++)I.push(Mt[rt])}var gt=null;if(Me){var Ft=Me.getIntersection(E);if(null!==Ft&&(E.isAnEndpoint(Ft)||(gt=Ft),!Me.isAnEndpoint(Ft)))for(var Yt=this._splitSafely(Me,Ft),sn=0,nn=Yt.length;sn<nn;sn++)I.push(Yt[sn])}if(null!==Ze||null!==gt){var Cn;Cn=null===Ze?gt:null===gt||pt.comparePoints(Ze,gt)<=0?Ze:gt,this.queue.remove(E.rightSE),I.push(E.rightSE);for(var Ln=E.split(Cn),gi=0,ni=Ln.length;gi<ni;gi++)I.push(Ln[gi])}I.length>0?(this.tree.remove(E),I.push(w)):(this.segments.push(E),E.prev=ce)}else{if(ce&&Me){var bn=ce.getIntersection(Me);if(null!==bn){if(!ce.isAnEndpoint(bn))for(var On=this._splitSafely(ce,bn),ii=0,Li=On.length;ii<Li;ii++)I.push(On[ii]);if(!Me.isAnEndpoint(bn))for(var fn=this._splitSafely(Me,bn),an=0,mi=fn.length;an<mi;an++)I.push(fn[an])}}this.tree.remove(E)}return I}},{key:"_splitSafely",value:function(w,E){this.tree.remove(w);var I=w.rightSE;this.queue.remove(I);var H=w.split(E);return H.push(I),void 0===w.consumedBy&&this.tree.insert(w),H}}]),V}(),zi=typeof process<"u"&&process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,Ui=typeof process<"u"&&process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,xn=new(function(){function V(){S(this,V)}return P(V,[{key:"run",value:function(w,E,I){xn.type=w,Pe.reset();for(var H=[new Tt(E,!0)],Z=0,he=I.length;Z<he;Z++)H.push(new Tt(I[Z],!1));if(xn.numMultiPolys=H.length,"difference"===xn.type)for(var ce=H[0],Me=1;Me<H.length;)null!==Q(H[Me].bbox,ce.bbox)?Me++:H.splice(Me,1);if("intersection"===xn.type)for(var Ze=0,ct=H.length;Ze<ct;Ze++)for(var Mt=H[Ze],rt=Ze+1,zt=H.length;rt<zt;rt++)if(null===Q(Mt.bbox,H[rt].bbox))return[];for(var gt=new re(pt.compare),Ft=0,Yt=H.length;Ft<Yt;Ft++)for(var sn=H[Ft].getSweepEvents(),nn=0,Cn=sn.length;nn<Cn;nn++)if(gt.insert(sn[nn]),gt.size>zi)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var Ln=new ji(gt),gi=gt.size,ni=gt.pop();ni;){var bn=ni.key;if(gt.size===gi){var On=bn.segment;throw new Error("Unable to pop() ".concat(bn.isLeft?"left":"right"," SweepEvent ")+"[".concat(bn.point.x,", ").concat(bn.point.y,"] from segment #").concat(On.id," ")+"[".concat(On.leftSE.point.x,", ").concat(On.leftSE.point.y,"] -> ")+"[".concat(On.rightSE.point.x,", ").concat(On.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(gt.size>zi)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(Ln.segments.length>Ui)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var ii=Ln.process(bn),Li=0,fn=ii.length;Li<fn;Li++){var an=ii[Li];void 0===an.consumedBy&&gt.insert(an)}gi=gt.size,ni=gt.pop()}Pe.reset();var mi=wt.factory(Ln.segments);return new nt(mi).getGeom()}}]),V}());return{union:function(V){for(var w=arguments.length,E=new Array(w>1?w-1:0),I=1;I<w;I++)E[I-1]=arguments[I];return xn.run("union",V,E)},intersection:function(V){for(var w=arguments.length,E=new Array(w>1?w-1:0),I=1;I<w;I++)E[I-1]=arguments[I];return xn.run("intersection",V,E)},xor:function(V){for(var w=arguments.length,E=new Array(w>1?w-1:0),I=1;I<w;I++)E[I-1]=arguments[I];return xn.run("xor",V,E)},difference:function(V){for(var w=arguments.length,E=new Array(w>1?w-1:0),I=1;I<w;I++)E[I-1]=arguments[I];return xn.run("difference",V,E)}}}()},2582:function(x){x.exports=function(){"use strict";function S(N,G,Q,ge,Ce){!function De(Le,ke,Pe,Ae,at){for(;Ae>Pe;){if(Ae-Pe>600){var Fe=Ae-Pe+1,$e=ke-Pe+1,At=Math.log(Fe),Se=.5*Math.exp(2*At/3),ot=.5*Math.sqrt(At*Se*(Fe-Se)/Fe)*($e-Fe/2<0?-1:1);De(Le,ke,Math.max(Pe,Math.floor(ke-$e*Se/Fe+ot)),Math.min(Ae,Math.floor(ke+(Fe-$e)*Se/Fe+ot)),at)}var je=Le[ke],Be=Pe,pt=Ae;for(M(Le,Pe,ke),at(Le[Ae],je)>0&&M(Le,Pe,Ae);Be<pt;){for(M(Le,Be,pt),Be++,pt--;at(Le[Be],je)<0;)Be++;for(;at(Le[pt],je)>0;)pt--}0===at(Le[Pe],je)?M(Le,Pe,pt):M(Le,++pt,Ae),pt<=ke&&(Pe=pt+1),ke<=pt&&(Ae=pt-1)}}(N,G,Q||0,ge||N.length-1,Ce||P)}function M(N,G,Q){var ge=N[G];N[G]=N[Q],N[Q]=ge}function P(N,G){return N<G?-1:N>G?1:0}var T=function(N){void 0===N&&(N=9),this._maxEntries=Math.max(4,N),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function j(N,G,Q){if(!Q)return G.indexOf(N);for(var ge=0;ge<G.length;ge++)if(Q(N,G[ge]))return ge;return-1}function B(N,G){W(N,0,N.children.length,G,N)}function W(N,G,Q,ge,Ce){Ce||(Ce=J(null)),Ce.minX=1/0,Ce.minY=1/0,Ce.maxX=-1/0,Ce.maxY=-1/0;for(var De=G;De<Q;De++){var Le=N.children[De];ie(Ce,N.leaf?ge(Le):Le)}return Ce}function ie(N,G){return N.minX=Math.min(N.minX,G.minX),N.minY=Math.min(N.minY,G.minY),N.maxX=Math.max(N.maxX,G.maxX),N.maxY=Math.max(N.maxY,G.maxY),N}function ue(N,G){return N.minX-G.minX}function ve(N,G){return N.minY-G.minY}function re(N){return(N.maxX-N.minX)*(N.maxY-N.minY)}function q(N){return N.maxX-N.minX+(N.maxY-N.minY)}function se(N,G){return N.minX<=G.minX&&N.minY<=G.minY&&G.maxX<=N.maxX&&G.maxY<=N.maxY}function K(N,G){return G.minX<=N.maxX&&G.minY<=N.maxY&&G.maxX>=N.minX&&G.maxY>=N.minY}function J(N){return{children:N,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Y(N,G,Q,ge,Ce){for(var De=[G,Q];De.length;)if(!((Q=De.pop())-(G=De.pop())<=ge)){var Le=G+Math.ceil((Q-G)/ge/2)*ge;S(N,Le,G,Q,Ce),De.push(G,Le,Le,Q)}}return T.prototype.all=function(){return this._all(this.data,[])},T.prototype.search=function(N){var G=this.data,Q=[];if(!K(N,G))return Q;for(var ge=this.toBBox,Ce=[];G;){for(var De=0;De<G.children.length;De++){var Le=G.children[De],ke=G.leaf?ge(Le):Le;K(N,ke)&&(G.leaf?Q.push(Le):se(N,ke)?this._all(Le,Q):Ce.push(Le))}G=Ce.pop()}return Q},T.prototype.collides=function(N){var G=this.data;if(!K(N,G))return!1;for(var Q=[];G;){for(var ge=0;ge<G.children.length;ge++){var Ce=G.children[ge],De=G.leaf?this.toBBox(Ce):Ce;if(K(N,De)){if(G.leaf||se(N,De))return!0;Q.push(Ce)}}G=Q.pop()}return!1},T.prototype.load=function(N){if(!N||!N.length)return this;if(N.length<this._minEntries){for(var G=0;G<N.length;G++)this.insert(N[G]);return this}var Q=this._build(N.slice(),0,N.length-1,0);if(this.data.children.length)if(this.data.height===Q.height)this._splitRoot(this.data,Q);else{if(this.data.height<Q.height){var ge=this.data;this.data=Q,Q=ge}this._insert(Q,this.data.height-Q.height-1,!0)}else this.data=Q;return this},T.prototype.insert=function(N){return N&&this._insert(N,this.data.height-1),this},T.prototype.clear=function(){return this.data=J([]),this},T.prototype.remove=function(N,G){if(!N)return this;for(var Q,ge,Ce,De=this.data,Le=this.toBBox(N),ke=[],Pe=[];De||ke.length;){if(De||(De=ke.pop(),ge=ke[ke.length-1],Q=Pe.pop(),Ce=!0),De.leaf){var Ae=j(N,De.children,G);if(-1!==Ae)return De.children.splice(Ae,1),ke.push(De),this._condense(ke),this}Ce||De.leaf||!se(De,Le)?ge?(Q++,De=ge.children[Q],Ce=!1):De=null:(ke.push(De),Pe.push(Q),Q=0,ge=De,De=De.children[0])}return this},T.prototype.toBBox=function(N){return N},T.prototype.compareMinX=function(N,G){return N.minX-G.minX},T.prototype.compareMinY=function(N,G){return N.minY-G.minY},T.prototype.toJSON=function(){return this.data},T.prototype.fromJSON=function(N){return this.data=N,this},T.prototype._all=function(N,G){for(var Q=[];N;)N.leaf?G.push.apply(G,N.children):Q.push.apply(Q,N.children),N=Q.pop();return G},T.prototype._build=function(N,G,Q,ge){var Ce,De=Q-G+1,Le=this._maxEntries;if(De<=Le)return B(Ce=J(N.slice(G,Q+1)),this.toBBox),Ce;ge||(ge=Math.ceil(Math.log(De)/Math.log(Le)),Le=Math.ceil(De/Math.pow(Le,ge-1))),(Ce=J([])).leaf=!1,Ce.height=ge;var ke=Math.ceil(De/Le),Pe=ke*Math.ceil(Math.sqrt(Le));Y(N,G,Q,Pe,this.compareMinX);for(var Ae=G;Ae<=Q;Ae+=Pe){var at=Math.min(Ae+Pe-1,Q);Y(N,Ae,at,ke,this.compareMinY);for(var Fe=Ae;Fe<=at;Fe+=ke){var $e=Math.min(Fe+ke-1,at);Ce.children.push(this._build(N,Fe,$e,ge-1))}}return B(Ce,this.toBBox),Ce},T.prototype._chooseSubtree=function(N,G,Q,ge){for(;ge.push(G),!G.leaf&&ge.length-1!==Q;){for(var Ce=1/0,De=1/0,Le=void 0,ke=0;ke<G.children.length;ke++){var Pe=G.children[ke],Ae=re(Pe),at=(Fe=N,$e=Pe,(Math.max($e.maxX,Fe.maxX)-Math.min($e.minX,Fe.minX))*(Math.max($e.maxY,Fe.maxY)-Math.min($e.minY,Fe.minY))-Ae);at<De?(De=at,Ce=Ae<Ce?Ae:Ce,Le=Pe):at===De&&Ae<Ce&&(Ce=Ae,Le=Pe)}G=Le||G.children[0]}var Fe,$e;return G},T.prototype._insert=function(N,G,Q){var ge=Q?N:this.toBBox(N),Ce=[],De=this._chooseSubtree(ge,this.data,G,Ce);for(De.children.push(N),ie(De,ge);G>=0&&Ce[G].children.length>this._maxEntries;)this._split(Ce,G),G--;this._adjustParentBBoxes(ge,Ce,G)},T.prototype._split=function(N,G){var Q=N[G],ge=Q.children.length,Ce=this._minEntries;this._chooseSplitAxis(Q,Ce,ge);var De=this._chooseSplitIndex(Q,Ce,ge),Le=J(Q.children.splice(De,Q.children.length-De));Le.height=Q.height,Le.leaf=Q.leaf,B(Q,this.toBBox),B(Le,this.toBBox),G?N[G-1].children.push(Le):this._splitRoot(Q,Le)},T.prototype._splitRoot=function(N,G){this.data=J([N,G]),this.data.height=N.height+1,this.data.leaf=!1,B(this.data,this.toBBox)},T.prototype._chooseSplitIndex=function(N,G,Q){for(var ge,Ce,De,Le,ke,Pe,Ae,at=1/0,Fe=1/0,$e=G;$e<=Q-G;$e++){var At=W(N,0,$e,this.toBBox),Se=W(N,$e,Q,this.toBBox),ot=(Ce=At,De=Se,Le=Math.max(Ce.minX,De.minX),ke=Math.max(Ce.minY,De.minY),Pe=Math.min(Ce.maxX,De.maxX),Ae=Math.min(Ce.maxY,De.maxY),Math.max(0,Pe-Le)*Math.max(0,Ae-ke)),je=re(At)+re(Se);ot<at?(at=ot,ge=$e,Fe=je<Fe?je:Fe):ot===at&&je<Fe&&(Fe=je,ge=$e)}return ge||Q-G},T.prototype._chooseSplitAxis=function(N,G,Q){var ge=N.leaf?this.compareMinX:ue,Ce=N.leaf?this.compareMinY:ve;this._allDistMargin(N,G,Q,ge)<this._allDistMargin(N,G,Q,Ce)&&N.children.sort(ge)},T.prototype._allDistMargin=function(N,G,Q,ge){N.children.sort(ge);for(var Ce=this.toBBox,De=W(N,0,G,Ce),Le=W(N,Q-G,Q,Ce),ke=q(De)+q(Le),Pe=G;Pe<Q-G;Pe++){var Ae=N.children[Pe];ie(De,N.leaf?Ce(Ae):Ae),ke+=q(De)}for(var at=Q-G-1;at>=G;at--){var Fe=N.children[at];ie(Le,N.leaf?Ce(Fe):Fe),ke+=q(Le)}return ke},T.prototype._adjustParentBBoxes=function(N,G,Q){for(var ge=Q;ge>=0;ge--)ie(G[ge],N)},T.prototype._condense=function(N){for(var G=N.length-1,Q=void 0;G>=0;G--)0===N[G].children.length?G>0?(Q=N[G-1].children).splice(Q.indexOf(N[G]),1):this.clear():B(N[G],this.toBBox)},T}()}},ko={};function ye(x){var S=ko[x];if(void 0!==S)return S.exports;var M=ko[x]={id:x,loaded:!1,exports:{}};return us[x].call(M.exports,M,M.exports,ye),M.loaded=!0,M.exports}ye.n=x=>{var S=x&&x.__esModule?()=>x.default:()=>x;return ye.d(S,{a:S}),S},ye.d=(x,S)=>{for(var M in S)ye.o(S,M)&&!ye.o(x,M)&&Object.defineProperty(x,M,{enumerable:!0,get:S[M]})},ye.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),ye.o=(x,S)=>Object.prototype.hasOwnProperty.call(x,S),ye.nmd=x=>(x.paths=[],x.children||(x.children=[]),x),ye(5975)})()},274:(us,ko,ye)=>{"use strict";function x(e){return"function"==typeof e}function S(e){const n=e(i=>{Error.call(i),i.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const M=S(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function P(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class T{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:i}=this;if(x(i))try{i()}catch(s){t=s instanceof M?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{W(s)}catch(u){t=t??[],u instanceof M?t=[...t,...u.errors]:t.push(u)}}if(t)throw new M(t)}}add(t){var n;if(t&&t!==this)if(this.closed)W(t);else{if(t instanceof T){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&P(n,t)}remove(t){const{_finalizers:n}=this;n&&P(n,t),t instanceof T&&t._removeParent(this)}}T.EMPTY=(()=>{const e=new T;return e.closed=!0,e})();const j=T.EMPTY;function B(e){return e instanceof T||e&&"closed"in e&&x(e.remove)&&x(e.add)&&x(e.unsubscribe)}function W(e){x(e)?e():e.unsubscribe()}const ie={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ue={setTimeout(e,t,...n){const{delegate:i}=ue;return i?.setTimeout?i.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=ue;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function ve(e){ue.setTimeout(()=>{const{onUnhandledError:t}=ie;if(!t)throw e;t(e)})}function re(){}const q=J("C",void 0,void 0);function J(e,t,n){return{kind:e,value:t,error:n}}let Y=null;function N(e){if(ie.useDeprecatedSynchronousErrorHandling){const t=!Y;if(t&&(Y={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:i}=Y;if(Y=null,n)throw i}}else e()}class Q extends T{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,B(t)&&t.add(this)):this.destination=at}static create(t,n,i){return new Le(t,n,i)}next(t){this.isStopped?Ae(function K(e){return J("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Ae(function se(e){return J("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Ae(q,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ge=Function.prototype.bind;function Ce(e,t){return ge.call(e,t)}class De{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(i){ke(i)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(i){ke(i)}else ke(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){ke(n)}}}class Le extends Q{constructor(t,n,i){let r;if(super(),x(t)||!t)r={next:t??void 0,error:n??void 0,complete:i??void 0};else{let s;this&&ie.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Ce(t.next,s),error:t.error&&Ce(t.error,s),complete:t.complete&&Ce(t.complete,s)}):r=t}this.destination=new De(r)}}function ke(e){ie.useDeprecatedSynchronousErrorHandling?function G(e){ie.useDeprecatedSynchronousErrorHandling&&Y&&(Y.errorThrown=!0,Y.error=e)}(e):ve(e)}function Ae(e,t){const{onStoppedNotification:n}=ie;n&&ue.setTimeout(()=>n(e,t))}const at={closed:!0,next:re,error:function Pe(e){throw e},complete:re},Fe="function"==typeof Symbol&&Symbol.observable||"@@observable";function $e(e){return e}function Se(e){return 0===e.length?$e:1===e.length?e[0]:function(n){return e.reduce((i,r)=>r(i),n)}}let ot=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const i=new e;return i.source=this,i.operator=n,i}subscribe(n,i,r){const s=function pt(e){return e&&e instanceof Q||function Be(e){return e&&x(e.next)&&x(e.error)&&x(e.complete)}(e)&&B(e)}(n)?n:new Le(n,i,r);return N(()=>{const{operator:u,source:h}=this;s.add(u?u.call(s,h):h?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return new(i=je(i))((r,s)=>{const u=new Le({next:h=>{try{n(h)}catch(p){s(p),u.unsubscribe()}},error:s,complete:r});this.subscribe(u)})}_subscribe(n){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(n)}[Fe](){return this}pipe(...n){return Se(n)(this)}toPromise(n){return new(n=je(n))((i,r)=>{let s;this.subscribe(u=>s=u,u=>r(u),()=>i(s))})}}return e.create=t=>new e(t),e})();function je(e){var t;return null!==(t=e??ie.Promise)&&void 0!==t?t:Promise}const Xt=S(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let St=(()=>{class e extends ot{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const i=new Lt(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new Xt}next(n){N(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(n)}})}error(n){N(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){N(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:i,isStopped:r,observers:s}=this;return i||r?j:(this.currentObservers=null,s.push(n),new T(()=>{this.currentObservers=null,P(s,n)}))}_checkFinalizedStatuses(n){const{hasError:i,thrownError:r,isStopped:s}=this;i?n.error(r):s&&n.complete()}asObservable(){const n=new ot;return n.source=this,n}}return e.create=(t,n)=>new Lt(t,n),e})();class Lt extends St{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===i||i.call(n,t)}error(t){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===i||i.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,i;return null!==(i=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==i?i:j}}function bt(e){return x(e?.lift)}function Tt(e){return t=>{if(bt(t))return t.lift(function(n){try{return e(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function wt(e,t,n,i,r){return new ur(e,t,n,i,r)}class ur extends Q{constructor(t,n,i,r,s,u){super(t),this.onFinalize=s,this.shouldUnsubscribe=u,this._next=n?function(h){try{n(h)}catch(p){t.error(p)}}:super._next,this._error=r?function(h){try{r(h)}catch(p){t.error(p)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(h){t.error(h)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function nt(e,t){return Tt((n,i)=>{let r=0;n.subscribe(wt(i,s=>{i.next(e.call(t,s,r++))}))})}function rt(e){return this instanceof rt?(this.v=e,this):new rt(e)}function Ft(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function ce(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=e[s]&&function(u){return new Promise(function(h,p){!function r(s,u,h,p){Promise.resolve(p).then(function(m){s({value:m,done:h})},u)}(h,p,(u=e[s](u)).done,u.value)})}}}const bn=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function On(e){return x(e?.then)}function ii(e){return x(e[Fe])}function Li(e){return Symbol.asyncIterator&&x(e?.[Symbol.asyncIterator])}function fn(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const mi=function an(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ir(e){return x(e?.[mi])}function oo(e){return function zt(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},u("next"),u("throw"),u("return"),r[Symbol.asyncIterator]=function(){return this},r;function u(R){i[R]&&(r[R]=function($){return new Promise(function(te,le){s.push([R,$,te,le])>1||h(R,$)})})}function h(R,$){try{!function p(R){R.value instanceof rt?Promise.resolve(R.value.v).then(m,v):D(s[0][2],R)}(i[R]($))}catch(te){D(s[0][3],te)}}function m(R){h("next",R)}function v(R){h("throw",R)}function D(R,$){R($),s.shift(),s.length&&h(s[0][0],s[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:i,done:r}=yield rt(n.read());if(r)return yield rt(void 0);yield yield rt(i)}}finally{n.releaseLock()}})}function hr(e){return x(e?.getReader)}function Vn(e){if(e instanceof ot)return e;if(null!=e){if(ii(e))return function To(e){return new ot(t=>{const n=e[Fe]();if(x(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(bn(e))return function An(e){return new ot(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(On(e))return function ze(e){return new ot(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,ve)})}(e);if(Li(e))return _i(e);if(Ir(e))return function Io(e){return new ot(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(hr(e))return function Ei(e){return _i(oo(e))}(e)}throw fn(e)}function _i(e){return new ot(t=>{(function cs(e,t){var n,i,r,s;return function I(e,t,n,i){return new(n||(n=Promise))(function(s,u){function h(v){try{m(i.next(v))}catch(D){u(D)}}function p(v){try{m(i.throw(v))}catch(D){u(D)}}function m(v){v.done?s(v.value):function r(s){return s instanceof n?s:new n(function(u){u(s)})}(v.value).then(h,p)}m((i=i.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Ft(e);!(i=yield n.next()).done;)if(t.next(i.value),t.closed)return}catch(u){r={error:u}}finally{try{i&&!i.done&&(s=n.return)&&(yield s.call(n))}finally{if(r)throw r.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Sn(e,t,n,i=0,r=!1){const s=t.schedule(function(){n(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(s),!r)return s}function Zt(e,t,n=1/0){return x(t)?Zt((i,r)=>nt((s,u)=>t(i,s,r,u))(Vn(e(i,r))),n):("number"==typeof t&&(n=t),Tt((i,r)=>function dr(e,t,n,i,r,s,u,h){const p=[];let m=0,v=0,D=!1;const R=()=>{D&&!p.length&&!m&&t.complete()},$=le=>m<i?te(le):p.push(le),te=le=>{s&&t.next(le),m++;let de=!1;Vn(n(le,v++)).subscribe(wt(t,be=>{r?.(be),s?$(be):t.next(be)},()=>{de=!0},void 0,()=>{if(de)try{for(m--;p.length&&m<i;){const be=p.shift();u?Sn(t,u,()=>te(be)):te(be)}R()}catch(be){t.error(be)}}))};return e.subscribe(wt(t,$,()=>{D=!0,R()})),()=>{h?.()}}(i,r,e,n)))}function xi(e=1/0){return Zt($e,e)}const Hn=new ot(e=>e.complete());function Rr(e){return e[e.length-1]}function Si(e){return function Ro(e){return e&&x(e.schedule)}(Rr(e))?e.pop():void 0}function Ao(e,t=0){return Tt((n,i)=>{n.subscribe(wt(i,r=>Sn(i,e,()=>i.next(r),t),()=>Sn(i,e,()=>i.complete(),t),r=>Sn(i,e,()=>i.error(r),t)))})}function ds(e,t=0){return Tt((n,i)=>{i.add(e.schedule(()=>n.subscribe(i),t))})}function No(e,t){if(!e)throw new Error("Iterable cannot be null");return new ot(n=>{Sn(n,t,()=>{const i=e[Symbol.asyncIterator]();Sn(n,t,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function Ge(e,t){return t?function fr(e,t){if(null!=e){if(ii(e))return function Or(e,t){return Vn(e).pipe(ds(t),Ao(t))}(e,t);if(bn(e))return function ao(e,t){return new ot(n=>{let i=0;return t.schedule(function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||this.schedule())})})}(e,t);if(On(e))return function ma(e,t){return Vn(e).pipe(ds(t),Ao(t))}(e,t);if(Li(e))return No(e,t);if(Ir(e))return function Vi(e,t){return new ot(n=>{let i;return Sn(n,t,()=>{i=e[mi](),Sn(n,t,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(u){return void n.error(u)}s?n.complete():n.next(r)},0,!0)}),()=>x(i?.return)&&i.return()})}(e,t);if(hr(e))return function fs(e,t){return No(oo(e),t)}(e,t)}throw fn(e)}(e,t):Vn(e)}function yi(e,t,...n){if(!0===t)return void e();if(!1===t)return;const i=new Le({next:()=>{i.unsubscribe(),e()}});return Vn(t(...n)).subscribe(i)}function Et(e){for(let t in e)if(e[t]===Et)return t;throw Error("Could not find renamed property on target object.")}function Re(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Re).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Vt(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Fo=Et({__forward_ref__:Et});function Hi(e){return e.__forward_ref__=Hi,e.toString=function(){return Re(this())},e}function Ne(e){return Nr(e)?e():e}function Nr(e){return"function"==typeof e&&e.hasOwnProperty(Fo)&&e.__forward_ref__===Hi}function gr(e){return e&&!!e.\u0275providers}class we extends Error{constructor(t,n){super(ki(t,n)),this.code=t}}function ki(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}function qe(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():function Ke(e){return"string"==typeof e?e:null==e?"":String(e)}(e)}function Gi(e,t){throw new we(-201,!1)}function O(e,t){null==e&&function A(e,t,n,i){throw new Error(`ASSERTION ERROR: ${e}`+(null==i?"":` [Expected=> ${n} ${i} ${t} <=Actual]`))}(t,e,null,"!=")}function X(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function _e(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ee(e){return ut(e,Rt)||ut(e,oi)}function ut(e,t){return e.hasOwnProperty(t)?e[t]:null}function It(e){return e&&(e.hasOwnProperty(rn)||e.hasOwnProperty(gs))?e[rn]:null}const Rt=Et({\u0275prov:Et}),rn=Et({\u0275inj:Et}),oi=Et({ngInjectableDef:Et}),gs=Et({ngInjectorDef:Et});var Ve=(()=>((Ve=Ve||{})[Ve.Default=0]="Default",Ve[Ve.Host=1]="Host",Ve[Ve.Self=2]="Self",Ve[Ve.SkipSelf=4]="SkipSelf",Ve[Ve.Optional=8]="Optional",Ve))();let vi;function kn(e){const t=vi;return vi=e,t}function ms(e,t,n){const i=Ee(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&Ve.Optional?null:void 0!==t?t:void Gi(Re(e))}const Ut=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),si={},_s="__NG_DI_FLAG__",Uo="ngTempTokenPath",wc="ngTokenPath",Mc=/\n/gm,_a="\u0275",kl="__source";let co;function Fr(e){const t=co;return co=e,t}function ys(e,t=Ve.Default){if(void 0===co)throw new we(-203,!1);return null===co?ms(e,void 0,t):co.get(e,t&Ve.Optional?null:void 0,t)}function He(e,t=Ve.Default){return(function zo(){return vi}()||ys)(Ne(e),t)}function yt(e,t=Ve.Default){return He(e,Pn(t))}function Pn(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function vs(e){const t=[];for(let n=0;n<e.length;n++){const i=Ne(e[n]);if(Array.isArray(i)){if(0===i.length)throw new we(900,!1);let r,s=Ve.Default;for(let u=0;u<i.length;u++){const h=i[u],p=Dc(h);"number"==typeof p?-1===p?r=h.token:s|=p:r=h}t.push(He(r,s))}else t.push(He(i))}return t}function ho(e,t){return e[_s]=t,e.prototype[_s]=t,e}function Dc(e){return e[_s]}function Zi(e){return{toString:e}.toString()}var ai=(()=>((ai=ai||{})[ai.OnPush=0]="OnPush",ai[ai.Default=1]="Default",ai))(),li=(()=>{return(e=li||(li={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",li;var e})();const qi={},Ot=[],Vo=Et({\u0275cmp:Et}),ya=Et({\u0275dir:Et}),$n=Et({\u0275pipe:Et}),Br=Et({\u0275mod:Et}),Wi=Et({\u0275fac:Et}),Gn=Et({__NG_ELEMENT_ID__:Et});let Cc=0;function Ki(e){return Zi(()=>{const t=Ol(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ai.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,data:e.data||{},encapsulation:e.encapsulation||li.Emulated,id:"c"+Cc++,styles:e.styles||Ot,_:null,schemas:e.schemas||null,tView:null};Ii(n);const i=e.dependencies;return n.directiveDefs=jr(i,!1),n.pipeDefs=jr(i,!0),n})}function Ho(e){return kt(e)||En(e)}function Rl(e){return null!==e}function Ti(e){return Zi(()=>({type:e.type,bootstrap:e.bootstrap||Ot,declarations:e.declarations||Ot,imports:e.imports||Ot,exports:e.exports||Ot,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Yi(e,t){if(null==e)return qi;const n={};for(const i in e)if(e.hasOwnProperty(i)){let r=e[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),n[r]=i,t&&(t[r]=s)}return n}function gn(e){return Zi(()=>{const t=Ol(e);return Ii(t),t})}function kt(e){return e[Vo]||null}function En(e){return e[ya]||null}function Jt(e){return e[$n]||null}function mn(e,t){const n=e[Br]||null;if(!n&&!0===t)throw new Error(`Type ${Re(e)} does not have '\u0275mod' property.`);return n}function Ol(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,exportAs:e.exportAs||null,standalone:!0===e.standalone,selectors:e.selectors||Ot,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Yi(e.inputs,t),outputs:Yi(e.outputs)}}function Ii(e){e.features?.forEach(t=>t(e))}function jr(e,t){if(!e)return null;const n=t?Jt:Ho;return()=>("function"==typeof e?e():e).map(i=>n(i)).filter(Rl)}const Ri=0,Te=1,st=2,qt=3,Fn=4,ui=5,ln=6,_r=7,Qt=8,bs=9,zr=10,_t=11,ws=12,$o=13,va=14,po=15,Ht=16,yr=17,go=18,Zn=19,Go=20,ba=21,$t=22,wa=1,Ur=2,Zo=7,qo=8,mo=9,Kt=10;function Bn(e){return Array.isArray(e)&&"object"==typeof e[wa]}function Tn(e){return Array.isArray(e)&&!0===e[wa]}function Ma(e){return 0!=(4&e.flags)}function vr(e){return e.componentOffset>-1}function br(e){return 1==(1&e.flags)}function ci(e){return!!e.template}function Al(e){return 0!=(256&e[st])}function xe(e,t){return e.hasOwnProperty(Wi)?e[Wi]:null}class it{constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}}function ht(){return qn}function qn(e){return e.type.prototype.ngOnChanges&&(e.setInput=Ds),Vr}function Vr(){const e=Cs(this),t=e?.current;if(t){const n=e.previous;if(n===qi)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function Ds(e,t,n,i){const r=this.declaredInputs[n],s=Cs(e)||function Rc(e,t){return e[Ji]=t}(e,{previous:qi,current:null}),u=s.current||(s.current={}),h=s.previous,p=h[r];u[r]=new it(p&&p.currentValue,t,h===qi),e[i]=t}ht.ngInherit=!0;const Ji="__ngSimpleChanges__";function Cs(e){return e[Ji]||null}const Wn=function(e,t,n){};function Dt(e){for(;Array.isArray(e);)e=e[Ri];return e}function Kn(e,t){return Dt(t[e.index])}function xs(e,t){return e.data[t]}function Yn(e,t){const n=t[e];return Bn(n)?n:n[Ri]}function jl(e){return 64==(64&e[st])}function _o(e,t){return null==t?null:e[t]}function hp(e){e[go]=0}function Nc(e,t){e[ui]+=t;let n=e,i=e[qt];for(;null!==i&&(1===t&&1===n[ui]||-1===t&&0===n[ui]);)i[ui]+=t,n=i,i=i[qt]}const dt={lFrame:wp(null),bindingsEnabled:!0};function fp(){return dt.bindingsEnabled}function pe(){return dt.lFrame.lView}function Pt(){return dt.lFrame.tView}function Fc(e){return dt.lFrame.contextLView=e,e[Qt]}function Bc(e){return dt.lFrame.contextLView=null,e}function In(){let e=pp();for(;null!==e&&64===e.type;)e=e.parent;return e}function pp(){return dt.lFrame.currentTNode}function wr(e,t){const n=dt.lFrame;n.currentTNode=e,n.isParent=t}function jc(){return dt.lFrame.isParent}function Jw(e,t){const n=dt.lFrame;n.bindingIndex=n.bindingRootIndex=e,Uc(t)}function Uc(e){dt.lFrame.currentDirectiveIndex=e}function Hc(e){dt.lFrame.currentQueryIndex=e}function Xw(e){const t=e[Te];return 2===t.type?t.declTNode:1===t.type?e[ln]:null}function vp(e,t,n){if(n&Ve.SkipSelf){let r=t,s=e;for(;!(r=r.parent,null!==r||n&Ve.Host||(r=Xw(s),null===r||(s=s[po],10&r.type))););if(null===r)return!1;t=r,e=s}const i=dt.lFrame=bp();return i.currentTNode=t,i.lView=e,!0}function $c(e){const t=bp(),n=e[Te];dt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function bp(){const e=dt.lFrame,t=null===e?null:e.child;return null===t?wp(e):t}function wp(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Mp(){const e=dt.lFrame;return dt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Dp=Mp;function Gc(){const e=Mp();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Qn(){return dt.lFrame.selectedIndex}function Wo(e){dt.lFrame.selectedIndex=e}function zl(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){const s=e.data[n].type.prototype,{ngAfterContentInit:u,ngAfterContentChecked:h,ngAfterViewInit:p,ngAfterViewChecked:m,ngOnDestroy:v}=s;u&&(e.contentHooks||(e.contentHooks=[])).push(-n,u),h&&((e.contentHooks||(e.contentHooks=[])).push(n,h),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,h)),p&&(e.viewHooks||(e.viewHooks=[])).push(-n,p),m&&((e.viewHooks||(e.viewHooks=[])).push(n,m),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,m)),null!=v&&(e.destroyHooks||(e.destroyHooks=[])).push(n,v)}}function Ul(e,t,n){Cp(e,t,3,n)}function Vl(e,t,n,i){(3&e[st])===n&&Cp(e,t,n,i)}function Zc(e,t){let n=e[st];(3&n)===t&&(n&=2047,n+=1,e[st]=n)}function Cp(e,t,n,i){const s=i??-1,u=t.length-1;let h=0;for(let p=void 0!==i?65535&e[go]:0;p<u;p++)if("number"==typeof t[p+1]){if(h=t[p],null!=i&&h>=i)break}else t[p]<0&&(e[go]+=65536),(h<s||-1==s)&&(u0(e,n,t,p),e[go]=(4294901760&e[go])+p+2),p++}function u0(e,t,n,i){const r=n[i]<0,s=n[i+1],h=e[r?-n[i]:n[i]];if(r){if(e[st]>>11<e[go]>>16&&(3&e[st])===t){e[st]+=2048,Wn(4,h,s);try{s.call(h)}finally{Wn(5,h,s)}}}else{Wn(4,h,s);try{s.call(h)}finally{Wn(5,h,s)}}}const ks=-1;class Ea{constructor(t,n,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}}function Wc(e,t,n){let i=0;for(;i<n.length;){const r=n[i];if("number"==typeof r){if(0!==r)break;i++;const s=n[i++],u=n[i++],h=n[i++];e.setAttribute(t,u,h,s)}else{const s=r,u=n[++i];Ep(s)?e.setProperty(t,s,u):e.setAttribute(t,s,u),i++}}return i}function Lp(e){return 3===e||4===e||6===e}function Ep(e){return 64===e.charCodeAt(0)}function xa(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?n=r:0===n||xp(e,n,r,null,-1===n||2===n?t[++i]:null)}}return e}function xp(e,t,n,i,r){let s=0,u=e.length;if(-1===t)u=-1;else for(;s<e.length;){const h=e[s++];if("number"==typeof h){if(h===t){u=-1;break}if(h>t){u=s-1;break}}}for(;s<e.length;){const h=e[s];if("number"==typeof h)break;if(h===n){if(null===i)return void(null!==r&&(e[s+1]=r));if(i===e[s+1])return void(e[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==u&&(e.splice(u,0,t),s=u+1),e.splice(s++,0,n),null!==i&&e.splice(s++,0,i),null!==r&&e.splice(s++,0,r)}function Sp(e){return e!==ks}function Hl(e){return 32767&e}function $l(e,t){let n=function f0(e){return e>>16}(e),i=t;for(;n>0;)i=i[po],n--;return i}let Kc=!0;function Gl(e){const t=Kc;return Kc=e,t}const kp=255,Pp=5;let p0=0;const Mr={};function Zl(e,t){const n=Tp(e,t);if(-1!==n)return n;const i=t[Te];i.firstCreatePass&&(e.injectorIndex=t.length,Yc(i.data,e),Yc(t,null),Yc(i.blueprint,null));const r=Jc(e,t),s=e.injectorIndex;if(Sp(r)){const u=Hl(r),h=$l(r,t),p=h[Te].data;for(let m=0;m<8;m++)t[s+m]=h[u+m]|p[u+m]}return t[s+8]=r,s}function Yc(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Tp(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Jc(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;null!==r;){if(i=jp(r),null===i)return ks;if(n++,r=r[po],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return ks}function Qc(e,t,n){!function g0(e,t,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(Gn)&&(i=n[Gn]),null==i&&(i=n[Gn]=p0++);const r=i&kp;t.data[e+(r>>Pp)]|=1<<r}(e,t,n)}function Ip(e,t,n){if(n&Ve.Optional||void 0!==e)return e;Gi()}function Rp(e,t,n,i){if(n&Ve.Optional&&void 0===i&&(i=null),!(n&(Ve.Self|Ve.Host))){const r=e[bs],s=kn(void 0);try{return r?r.get(t,i,n&Ve.Optional):ms(t,i,n&Ve.Optional)}finally{kn(s)}}return Ip(i,0,n)}function Op(e,t,n,i=Ve.Default,r){if(null!==e){if(1024&t[st]){const u=function b0(e,t,n,i,r){let s=e,u=t;for(;null!==s&&null!==u&&1024&u[st]&&!(256&u[st]);){const h=Ap(s,u,n,i|Ve.Self,Mr);if(h!==Mr)return h;let p=s.parent;if(!p){const m=u[ba];if(m){const v=m.get(n,Mr,i);if(v!==Mr)return v}p=jp(u),u=u[po]}s=p}return r}(e,t,n,i,Mr);if(u!==Mr)return u}const s=Ap(e,t,n,i,Mr);if(s!==Mr)return s}return Rp(t,n,i,r)}function Ap(e,t,n,i,r){const s=function y0(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Gn)?e[Gn]:void 0;return"number"==typeof t?t>=0?t&kp:v0:t}(n);if("function"==typeof s){if(!vp(t,e,i))return i&Ve.Host?Ip(r,0,i):Rp(t,n,i,r);try{const u=s(i);if(null!=u||i&Ve.Optional)return u;Gi()}finally{Dp()}}else if("number"==typeof s){let u=null,h=Tp(e,t),p=ks,m=i&Ve.Host?t[Ht][ln]:null;for((-1===h||i&Ve.SkipSelf)&&(p=-1===h?Jc(e,t):t[h+8],p!==ks&&Fp(i,!1)?(u=t[Te],h=Hl(p),t=$l(p,t)):h=-1);-1!==h;){const v=t[Te];if(Np(s,h,v.data)){const D=_0(h,t,n,u,i,m);if(D!==Mr)return D}p=t[h+8],p!==ks&&Fp(i,t[Te].data[h+8]===m)&&Np(s,h,t)?(u=v,h=Hl(p),t=$l(p,t)):h=-1}}return r}function _0(e,t,n,i,r,s){const u=t[Te],h=u.data[e+8],v=function ql(e,t,n,i,r){const s=e.providerIndexes,u=t.data,h=1048575&s,p=e.directiveStart,v=s>>20,R=r?h+v:e.directiveEnd;for(let $=i?h:h+v;$<R;$++){const te=u[$];if($<p&&n===te||$>=p&&te.type===n)return $}if(r){const $=u[p];if($&&ci($)&&$.type===n)return p}return null}(h,u,n,null==i?vr(h)&&Kc:i!=u&&0!=(3&h.type),r&Ve.Host&&s===h);return null!==v?Ko(t,u,v,h):Mr}function Ko(e,t,n,i){let r=e[n];const s=t.data;if(function c0(e){return e instanceof Ea}(r)){const u=r;u.resolving&&function Pi(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new we(-200,`Circular dependency in DI detected for ${e}${n}`)}(qe(s[n]));const h=Gl(u.canSeeViewProviders);u.resolving=!0;const p=u.injectImpl?kn(u.injectImpl):null;vp(e,i,Ve.Default);try{r=e[n]=u.factory(void 0,s,e,i),t.firstCreatePass&&n>=i.directiveStart&&function l0(e,t,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const u=qn(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,u),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,u)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,r),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{null!==p&&kn(p),Gl(h),u.resolving=!1,Dp()}}return r}function Np(e,t,n){return!!(n[t+(e>>Pp)]&1<<e)}function Fp(e,t){return!(e&Ve.Self||e&Ve.Host&&t)}class Ps{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return Op(this._tNode,this._lView,t,Pn(i),n)}}function v0(){return new Ps(In(),pe())}function Xc(e){return Nr(e)?()=>{const t=Xc(Ne(e));return t&&t()}:xe(e)}function jp(e){const t=e[Te],n=t.type;return 2===n?t.declTNode:1===n?e[ln]:null}const Is="__parameters__";function Os(e,t,n){return Zi(()=>{const i=function eh(e){return function(...n){if(e){const i=e(...n);for(const r in i)this[r]=i[r]}}}(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const u=new r(...s);return h.annotation=u,h;function h(p,m,v){const D=p.hasOwnProperty(Is)?p[Is]:Object.defineProperty(p,Is,{value:[]})[Is];for(;D.length<=v;)D.push(null);return(D[v]=D[v]||[]).push(u),p}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}class Xe{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=X({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Yo(e,t){e.forEach(n=>Array.isArray(n)?Yo(n,t):t(n))}function Up(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Kl(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function wi(e,t,n){let i=As(e,t);return i>=0?e[1|i]=n:(i=~i,function C0(e,t,n,i){let r=e.length;if(r==t)e.push(n,i);else if(1===r)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;)e[r]=e[r-2],r--;e[t]=n,e[t+1]=i}}(e,i,t,n)),i}function nh(e,t){const n=As(e,t);if(n>=0)return e[1|n]}function As(e,t){return function Vp(e,t,n){let i=0,r=e.length>>n;for(;r!==i;){const s=i+(r-i>>1),u=e[s<<n];if(t===u)return s<<n;u>t?r=s:i=s+1}return~(r<<n)}(e,t,1)}const Ta=ho(Os("Optional"),8),Ia=ho(Os("SkipSelf"),4);var hi=(()=>((hi=hi||{})[hi.Important=1]="Important",hi[hi.DashCase=2]="DashCase",hi))();const lh=new Map;let Z0=0;const ch="__ngContext__";function jn(e,t){Bn(t)?(e[ch]=t[Go],function W0(e){lh.set(e[Go],e)}(t)):e[ch]=t}let hh;function dh(e,t){return hh(e,t)}function Na(e){const t=e[qt];return Tn(t)?t[qt]:t}function fh(e){return lg(e[$o])}function ph(e){return lg(e[Fn])}function lg(e){for(;null!==e&&!Tn(e);)e=e[Fn];return e}function Fs(e,t,n,i,r){if(null!=i){let s,u=!1;Tn(i)?s=i:Bn(i)&&(u=!0,i=i[Ri]);const h=Dt(i);0===e&&null!==n?null==r?pg(t,n,h):Jo(t,n,h,r||null,!0):1===e&&null!==n?Jo(t,n,h,r||null,!0):2===e?function wh(e,t,n){const i=Xl(e,t);i&&function pM(e,t,n,i){e.removeChild(t,n,i)}(e,i,t,n)}(t,h,u):3===e&&t.destroyNode(h),null!=s&&function _M(e,t,n,i,r){const s=n[Zo];s!==Dt(n)&&Fs(t,e,i,s,r);for(let h=Kt;h<n.length;h++){const p=n[h];Fa(p[Te],p,e,t,i,s)}}(t,e,s,n,r)}}function mh(e,t,n){return e.createElement(t,n)}function cg(e,t){const n=e[mo],i=n.indexOf(t),r=t[qt];512&t[st]&&(t[st]&=-513,Nc(r,-1)),n.splice(i,1)}function _h(e,t){if(e.length<=Kt)return;const n=Kt+t,i=e[n];if(i){const r=i[yr];null!==r&&r!==e&&cg(r,i),t>0&&(e[n-1][Fn]=i[Fn]);const s=Kl(e,Kt+t);!function sM(e,t){Fa(e,t,t[_t],2,null,null),t[Ri]=null,t[ln]=null}(i[Te],i);const u=s[Zn];null!==u&&u.detachView(s[Te]),i[qt]=null,i[Fn]=null,i[st]&=-65}return i}function hg(e,t){if(!(128&t[st])){const n=t[_t];n.destroyNode&&Fa(e,t,n,3,null,null),function uM(e){let t=e[$o];if(!t)return yh(e[Te],e);for(;t;){let n=null;if(Bn(t))n=t[$o];else{const i=t[Kt];i&&(n=i)}if(!n){for(;t&&!t[Fn]&&t!==e;)Bn(t)&&yh(t[Te],t),t=t[qt];null===t&&(t=e),Bn(t)&&yh(t[Te],t),n=t&&t[Fn]}t=n}}(t)}}function yh(e,t){if(!(128&t[st])){t[st]&=-65,t[st]|=128,function fM(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let i=0;i<n.length;i+=2){const r=t[n[i]];if(!(r instanceof Ea)){const s=n[i+1];if(Array.isArray(s))for(let u=0;u<s.length;u+=2){const h=r[s[u]],p=s[u+1];Wn(4,h,p);try{p.call(h)}finally{Wn(5,h,p)}}else{Wn(4,r,s);try{s.call(r)}finally{Wn(5,r,s)}}}}}(e,t),function dM(e,t){const n=e.cleanup,i=t[_r];let r=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const u=n[s+3];u>=0?i[r=u]():i[r=-u].unsubscribe(),s+=2}else{const u=i[r=n[s+1]];n[s].call(u)}if(null!==i){for(let s=r+1;s<i.length;s++)(0,i[s])();t[_r]=null}}(e,t),1===t[Te].type&&t[_t].destroy();const n=t[yr];if(null!==n&&Tn(t[qt])){n!==t[qt]&&cg(n,t);const i=t[Zn];null!==i&&i.detachView(e)}!function K0(e){lh.delete(e[Go])}(t)}}function dg(e,t,n){return function fg(e,t,n){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return n[Ri];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=e.data[i.directiveStart+r];if(s===li.None||s===li.Emulated)return null}return Kn(i,n)}}(e,t.parent,n)}function Jo(e,t,n,i,r){e.insertBefore(t,n,i,r)}function pg(e,t,n){e.appendChild(t,n)}function gg(e,t,n,i,r){null!==i?Jo(e,t,n,i,r):pg(e,t,n)}function Xl(e,t){return e.parentNode(t)}let vh,Ch,yg=function _g(e,t,n){return 40&e.type?Kn(e,n):null};function eu(e,t,n,i){const r=dg(e,i,t),s=t[_t],h=function mg(e,t,n){return yg(e,t,n)}(i.parent||t[ln],i,t);if(null!=r)if(Array.isArray(n))for(let p=0;p<n.length;p++)gg(s,r,n[p],h,!1);else gg(s,r,n,h,!1);void 0!==vh&&vh(s,i,t,n,r)}function tu(e,t){if(null!==t){const n=t.type;if(3&n)return Kn(t,e);if(4&n)return bh(-1,e[t.index]);if(8&n){const i=t.child;if(null!==i)return tu(e,i);{const r=e[t.index];return Tn(r)?bh(-1,r):Dt(r)}}if(32&n)return dh(t,e)()||Dt(e[t.index]);{const i=bg(e,t);return null!==i?Array.isArray(i)?i[0]:tu(Na(e[Ht]),i):tu(e,t.next)}}return null}function bg(e,t){return null!==t?e[Ht][ln].projection[t.projection]:null}function bh(e,t){const n=Kt+e+1;if(n<t.length){const i=t[n],r=i[Te].firstChild;if(null!==r)return tu(i,r)}return t[Zo]}function Mh(e,t,n,i,r,s,u){for(;null!=n;){const h=i[n.index],p=n.type;if(u&&0===t&&(h&&jn(Dt(h),i),n.flags|=2),32!=(32&n.flags))if(8&p)Mh(e,t,n.child,i,r,s,!1),Fs(t,e,r,h,s);else if(32&p){const m=dh(n,i);let v;for(;v=m();)Fs(t,e,r,v,s);Fs(t,e,r,h,s)}else 16&p?wg(e,t,i,n,r,s):Fs(t,e,r,h,s);n=u?n.projectionNext:n.next}}function Fa(e,t,n,i,r,s){Mh(n,i,e.firstChild,t,r,s,!1)}function wg(e,t,n,i,r,s){const u=n[Ht],p=u[ln].projection[i.projection];if(Array.isArray(p))for(let m=0;m<p.length;m++)Fs(t,e,r,p[m],s);else Mh(e,t,p,u[qt],r,s,!0)}function Mg(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Dg(e,t,n){const{mergedAttrs:i,classes:r,styles:s}=n;null!==i&&Wc(e,t,i),null!==r&&Mg(e,t,r),null!==s&&function vM(e,t,n){e.setAttribute(t,"style",n)}(e,t,s)}class Sg{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const ou=new Xe("ENVIRONMENT_INITIALIZER"),Bg=new Xe("INJECTOR",-1),jg=new Xe("INJECTOR_DEF_TYPES");class zg{get(t,n=si){if(n===si){const i=new Error(`NullInjectorError: No provider for ${Re(t)}!`);throw i.name="NullInjectorError",i}return n}}function ZM(...e){return{\u0275providers:Ug(0,e),\u0275fromNgModule:!0}}function Ug(e,...t){const n=[],i=new Set;let r;return Yo(t,s=>{const u=s;Ph(u,n,[],i)&&(r||(r=[]),r.push(u))}),void 0!==r&&Vg(r,n),n}function Vg(e,t){for(let n=0;n<e.length;n++){const{providers:r}=e[n];Th(r,s=>{t.push(s)})}}function Ph(e,t,n,i){if(!(e=Ne(e)))return!1;let r=null,s=It(e);const u=!s&&kt(e);if(s||u){if(u&&!u.standalone)return!1;r=e}else{const p=e.ngModule;if(s=It(p),!s)return!1;r=p}const h=i.has(r);if(u){if(h)return!1;if(i.add(r),u.dependencies){const p="function"==typeof u.dependencies?u.dependencies():u.dependencies;for(const m of p)Ph(m,t,n,i)}}else{if(!s)return!1;{if(null!=s.imports&&!h){let m;i.add(r);try{Yo(s.imports,v=>{Ph(v,t,n,i)&&(m||(m=[]),m.push(v))})}finally{}void 0!==m&&Vg(m,t)}if(!h){const m=xe(r)||(()=>new r);t.push({provide:r,useFactory:m,deps:Ot},{provide:jg,useValue:r,multi:!0},{provide:ou,useValue:()=>He(r),multi:!0})}const p=s.providers;null==p||h||Th(p,v=>{t.push(v)})}}return r!==e&&void 0!==e.providers}function Th(e,t){for(let n of e)gr(n)&&(n=n.\u0275providers),Array.isArray(n)?Th(n,t):t(n)}const qM=Et({provide:String,useValue:Et});function Ih(e){return null!==e&&"object"==typeof e&&qM in e}function Qo(e){return"function"==typeof e}const Rh=new Xe("Set Injector scope."),su={},KM={};let Oh;function au(){return void 0===Oh&&(Oh=new zg),Oh}class qr{}class Gg extends qr{get destroyed(){return this._destroyed}constructor(t,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Nh(t,u=>this.processProvider(u)),this.records.set(Bg,js(void 0,this)),r.has("environment")&&this.records.set(qr,js(void 0,this));const s=this.records.get(Rh);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(jg.multi,Ot,Ve.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=Fr(this),i=kn(void 0);try{return t()}finally{Fr(n),kn(i)}}get(t,n=si,i=Ve.Default){this.assertNotDestroyed(),i=Pn(i);const r=Fr(this),s=kn(void 0);try{if(!(i&Ve.SkipSelf)){let h=this.records.get(t);if(void 0===h){const p=function eD(e){return"function"==typeof e||"object"==typeof e&&e instanceof Xe}(t)&&Ee(t);h=p&&this.injectableDefInScope(p)?js(Ah(t),su):null,this.records.set(t,h)}if(null!=h)return this.hydrate(t,h)}return(i&Ve.Self?au():this.parent).get(t,n=i&Ve.Optional&&n===si?null:n)}catch(u){if("NullInjectorError"===u.name){if((u[Uo]=u[Uo]||[]).unshift(Re(t)),r)throw u;return function Tl(e,t,n,i){const r=e[Uo];throw t[kl]&&r.unshift(t[kl]),e.message=function Il(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==_a?e.slice(2):e;let r=Re(t);if(Array.isArray(t))r=t.map(Re).join(" -> ");else if("object"==typeof t){let s=[];for(let u in t)if(t.hasOwnProperty(u)){let h=t[u];s.push(u+":"+("string"==typeof h?JSON.stringify(h):Re(h)))}r=`{${s.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace(Mc,"\n  ")}`}("\n"+e.message,r,n,i),e[wc]=r,e[Uo]=null,e}(u,t,"R3InjectorError",this.source)}throw u}finally{kn(s),Fr(r)}}resolveInjectorInitializers(){const t=Fr(this),n=kn(void 0);try{const i=this.get(ou.multi,Ot,Ve.Self);for(const r of i)r()}finally{Fr(t),kn(n)}}toString(){const t=[],n=this.records;for(const i of n.keys())t.push(Re(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processProvider(t){let n=Qo(t=Ne(t))?t:Ne(t&&t.provide);const i=function JM(e){return Ih(e)?js(void 0,e.useValue):js(function Zg(e,t,n){let i;if(Qo(e)){const r=Ne(e);return xe(r)||Ah(r)}if(Ih(e))i=()=>Ne(e.useValue);else if(function $g(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(...vs(e.deps||[]));else if(function Hg(e){return!(!e||!e.useExisting)}(e))i=()=>He(Ne(e.useExisting));else{const r=Ne(e&&(e.useClass||e.provide));if(!function QM(e){return!!e.deps}(e))return xe(r)||Ah(r);i=()=>new r(...vs(e.deps))}return i}(e),su)}(t);if(Qo(t)||!0!==t.multi)this.records.get(n);else{let r=this.records.get(n);r||(r=js(void 0,su,!0),r.factory=()=>vs(r.multi),this.records.set(n,r)),n=t,r.multi.push(t)}this.records.set(n,i)}hydrate(t,n){return n.value===su&&(n.value=KM,n.value=n.factory()),"object"==typeof n.value&&n.value&&function XM(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Ne(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function Ah(e){const t=Ee(e),n=null!==t?t.factory:xe(e);if(null!==n)return n;if(e instanceof Xe)throw new we(204,!1);if(e instanceof Function)return function YM(e){const t=e.length;if(t>0)throw function Pa(e,t){const n=[];for(let i=0;i<e;i++)n.push(t);return n}(t,"?"),new we(204,!1);const n=function Nt(e){const t=e&&(e[Rt]||e[oi]);return t?(function Ue(e){if(e.hasOwnProperty("name"))return e.name;(""+e).match(/^function\s*([^\s(]+)/)}(e),t):null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new we(204,!1)}function js(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Nh(e,t){for(const n of e)Array.isArray(n)?Nh(n,t):n&&gr(n)?Nh(n.\u0275providers,t):t(n)}class tD{}class qg{}class iD{resolveComponentFactory(t){throw function nD(e){const t=Error(`No component factory found for ${Re(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let Ua=(()=>{class e{}return e.NULL=new iD,e})();function rD(){return zs(In(),pe())}function zs(e,t){return new vo(Kn(e,t))}let vo=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=rD,e})();class Kg{}let aD=(()=>{class e{}return e.\u0275prov=X({token:e,providedIn:"root",factory:()=>null}),e})();class uu{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const lD=new uu("15.2.4"),Fh={},Bh="ngOriginalError";function jh(e){return e[Bh]}class Us{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&jh(t);for(;n&&jh(n);)n=jh(n);return n||null}}function Wr(e){return e instanceof Function?e():e}function Jg(e,t,n){let i=e.length;for(;;){const r=e.indexOf(t,n);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||e.charCodeAt(r+s)<=32)return r}n=r+1}}const Qg="ng-template";function vD(e,t,n){let i=0,r=!0;for(;i<e.length;){let s=e[i++];if("string"==typeof s&&r){const u=e[i++];if(n&&"class"===s&&-1!==Jg(u.toLowerCase(),t,0))return!0}else{if(1===s){for(;i<e.length&&"string"==typeof(s=e[i++]);)if(s.toLowerCase()===t)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function Xg(e){return 4===e.type&&e.value!==Qg}function bD(e,t,n){return t===(4!==e.type||n?e.value:Qg)}function wD(e,t,n){let i=4;const r=e.attrs||[],s=function CD(e){for(let t=0;t<e.length;t++)if(Lp(e[t]))return t;return e.length}(r);let u=!1;for(let h=0;h<t.length;h++){const p=t[h];if("number"!=typeof p){if(!u)if(4&i){if(i=2|1&i,""!==p&&!bD(e,p,n)||""===p&&1===t.length){if(Qi(i))return!1;u=!0}}else{const m=8&i?p:t[++h];if(8&i&&null!==e.attrs){if(!vD(e.attrs,m,n)){if(Qi(i))return!1;u=!0}continue}const D=MD(8&i?"class":p,r,Xg(e),n);if(-1===D){if(Qi(i))return!1;u=!0;continue}if(""!==m){let R;R=D>s?"":r[D+1].toLowerCase();const $=8&i?R:null;if($&&-1!==Jg($,m,0)||2&i&&m!==R){if(Qi(i))return!1;u=!0}}}}else{if(!u&&!Qi(i)&&!Qi(p))return!1;if(u&&Qi(p))continue;u=!1,i=p|1&i}}return Qi(i)||u}function Qi(e){return 0==(1&e)}function MD(e,t,n,i){if(null===t)return-1;let r=0;if(i||!n){let s=!1;for(;r<t.length;){const u=t[r];if(u===e)return r;if(3===u||6===u)s=!0;else{if(1===u||2===u){let h=t[++r];for(;"string"==typeof h;)h=t[++r];continue}if(4===u)break;if(0===u){r+=4;continue}}r+=s?1:2}return-1}return function LD(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function em(e,t,n=!1){for(let i=0;i<t.length;i++)if(wD(e,t[i],n))return!0;return!1}function tm(e,t){return e?":not("+t.trim()+")":t}function xD(e){let t=e[0],n=1,i=2,r="",s=!1;for(;n<e.length;){let u=e[n];if("string"==typeof u)if(2&i){const h=e[++n];r+="["+u+(h.length>0?'="'+h+'"':"")+"]"}else 8&i?r+="."+u:4&i&&(r+=" "+u);else""!==r&&!Qi(u)&&(t+=tm(s,r),r=""),i=u,s=s||!Qi(i);n++}return""!==r&&(t+=tm(s,r)),t}const ft={};function Va(e){nm(Pt(),pe(),Qn()+e,!1)}function nm(e,t,n,i){if(!i)if(3==(3&t[st])){const s=e.preOrderCheckHooks;null!==s&&Ul(t,s,n)}else{const s=e.preOrderHooks;null!==s&&Vl(t,s,0,n)}Wo(n)}function sm(e,t=null,n=null,i){const r=am(e,t,n,i);return r.resolveInjectorInitializers(),r}function am(e,t=null,n=null,i,r=new Set){const s=[n||Ot,ZM(e)];return i=i||("object"==typeof e?void 0:Re(e)),new Gg(s,t||au(),i||null,r)}let Kr=(()=>{class e{static create(n,i){if(Array.isArray(n))return sm({name:""},i,n,"");{const r=n.name??"";return sm({name:r},n.parent,n.providers,r)}}}return e.THROW_IF_NOT_FOUND=si,e.NULL=new zg,e.\u0275prov=X({token:e,providedIn:"any",factory:()=>He(Bg)}),e.__NG_ELEMENT_ID__=-1,e})();function Qe(e,t=Ve.Default){const n=pe();return null===n?He(e,t):Op(In(),n,Ne(e),t)}function gm(e,t){const n=e.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const s=n[i+1];if(-1!==s){const u=e.data[s];Hc(n[i]),u.contentQueries(2,t[s],s)}}}function hu(e,t,n,i,r,s,u,h,p,m,v){const D=t.blueprint.slice();return D[Ri]=r,D[st]=76|i,(null!==v||e&&1024&e[st])&&(D[st]|=1024),hp(D),D[qt]=D[po]=e,D[Qt]=n,D[zr]=u||e&&e[zr],D[_t]=h||e&&e[_t],D[ws]=p||e&&e[ws]||null,D[bs]=m||e&&e[bs]||null,D[ln]=s,D[Go]=function q0(){return Z0++}(),D[ba]=v,D[Ht]=2==t.type?e[Ht]:D,D}function $s(e,t,n,i,r){let s=e.data[t];if(null===s)s=function $h(e,t,n,i,r){const s=pp(),u=jc(),p=e.data[t]=function XD(e,t,n,i,r,s){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,u?s:s&&s.parent,n,t,i,r);return null===e.firstChild&&(e.firstChild=p),null!==s&&(u?null==s.child&&null!==p.parent&&(s.child=p):null===s.next&&(s.next=p,p.prev=s)),p}(e,t,n,i,r),function Yw(){return dt.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=i,s.attrs=r;const u=function La(){const e=dt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===u?-1:u.injectorIndex}return wr(s,!0),s}function Ha(e,t,n,i){if(0===n)return-1;const r=t.length;for(let s=0;s<n;s++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function Gh(e,t,n){$c(t);try{const i=e.viewQuery;null!==i&&td(1,i,n);const r=e.template;null!==r&&mm(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&gm(e,t),e.staticViewQueries&&td(2,e.viewQuery,n);const s=e.components;null!==s&&function YD(e,t){for(let n=0;n<t.length;n++)yC(e,t[n])}(t,s)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[st]&=-5,Gc()}}function du(e,t,n,i){const r=t[st];if(128!=(128&r)){$c(t);try{hp(t),function mp(e){return dt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&mm(e,t,n,2,i);const u=3==(3&r);if(u){const m=e.preOrderCheckHooks;null!==m&&Ul(t,m,null)}else{const m=e.preOrderHooks;null!==m&&Vl(t,m,0,null),Zc(t,0)}if(function mC(e){for(let t=fh(e);null!==t;t=ph(t)){if(!t[Ur])continue;const n=t[mo];for(let i=0;i<n.length;i++){const r=n[i];512&r[st]||Nc(r[qt],1),r[st]|=512}}}(t),function gC(e){for(let t=fh(e);null!==t;t=ph(t))for(let n=Kt;n<t.length;n++){const i=t[n],r=i[Te];jl(i)&&du(r,i,r.template,i[Qt])}}(t),null!==e.contentQueries&&gm(e,t),u){const m=e.contentCheckHooks;null!==m&&Ul(t,m)}else{const m=e.contentHooks;null!==m&&Vl(t,m,1),Zc(t,1)}!function WD(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let i=0;i<n.length;i++){const r=n[i];if(r<0)Wo(~r);else{const s=r,u=n[++i],h=n[++i];Jw(u,s),h(2,t[s])}}}finally{Wo(-1)}}(e,t);const h=e.components;null!==h&&function KD(e,t){for(let n=0;n<t.length;n++)_C(e,t[n])}(t,h);const p=e.viewQuery;if(null!==p&&td(2,p,i),u){const m=e.viewCheckHooks;null!==m&&Ul(t,m)}else{const m=e.viewHooks;null!==m&&Vl(t,m,2),Zc(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[st]&=-41,512&t[st]&&(t[st]&=-513,Nc(t[qt],-1))}finally{Gc()}}}function mm(e,t,n,i,r){const s=Qn(),u=2&i;try{Wo(-1),u&&t.length>$t&&nm(e,t,$t,!1),Wn(u?2:0,r),n(i,r)}finally{Wo(s),Wn(u?3:1,r)}}function Zh(e,t,n){if(Ma(t)){const r=t.directiveEnd;for(let s=t.directiveStart;s<r;s++){const u=e.data[s];u.contentQueries&&u.contentQueries(1,n[s],s)}}}function qh(e,t,n){fp()&&(function oC(e,t,n,i){const r=n.directiveStart,s=n.directiveEnd;vr(n)&&function dC(e,t,n){const i=Kn(t,e),r=_m(n),s=e[zr],u=fu(e,hu(e,r,null,n.onPush?32:16,i,t,s,s.createRenderer(i,n),null,null,null));e[t.index]=u}(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Zl(n,t),jn(i,t);const u=n.initialInputs;for(let h=r;h<s;h++){const p=e.data[h],m=Ko(t,e,h,n);jn(m,t),null!==u&&fC(0,h-r,m,p,0,u),ci(p)&&(Yn(n.index,t)[Qt]=Ko(t,e,h,n))}}(e,t,n,Kn(n,t)),64==(64&n.flags)&&Dm(e,t,n))}function Wh(e,t,n=Kn){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const u=i[s+1],h=-1===u?n(t,e):e[u];e[r++]=h}}}function _m(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Kh(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Kh(e,t,n,i,r,s,u,h,p,m){const v=$t+i,D=v+r,R=function JD(e,t){const n=[];for(let i=0;i<t;i++)n.push(i<e?null:ft);return n}(v,D),$="function"==typeof m?m():m;return R[Te]={type:e,blueprint:R,template:n,queries:null,viewQuery:h,declTNode:t,data:R.slice().fill(null,v),bindingStartIndex:v,expandoStartIndex:D,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof u?u():u,firstChild:null,schemas:p,consts:$,incompleteFirstPass:!1}}function vm(e,t,n,i){for(let r in e)if(e.hasOwnProperty(r)){n=null===n?{}:n;const s=e[r];null===i?bm(n,t,r,s):i.hasOwnProperty(r)&&bm(n,t,i[r],s)}return n}function bm(e,t,n,i){e.hasOwnProperty(n)?e[n].push(t,i):e[n]=[t,i]}function wm(e,t){const n=Yn(t,e);16&n[st]||(n[st]|=32)}function Yh(e,t,n,i){if(fp()){const r=null===i?null:{"":-1},s=function aC(e,t){const n=e.directiveRegistry;let i=null,r=null;if(n)for(let s=0;s<n.length;s++){const u=n[s];if(em(t,u.selectors,!1))if(i||(i=[]),ci(u))if(null!==u.findHostDirectiveDefs){const h=[];r=r||new Map,u.findHostDirectiveDefs(u,h,r),i.unshift(...h,u),Jh(e,t,h.length)}else i.unshift(u),Jh(e,t,0);else r=r||new Map,u.findHostDirectiveDefs?.(u,i,r),i.push(u)}return null===i?null:[i,r]}(e,n);let u,h;null===s?u=h=null:[u,h]=s,null!==u&&Mm(e,t,n,u,r,h),r&&function lC(e,t,n){if(t){const i=e.localNames=[];for(let r=0;r<t.length;r+=2){const s=n[t[r+1]];if(null==s)throw new we(-301,!1);i.push(t[r],s)}}}(n,i,r)}n.mergedAttrs=xa(n.mergedAttrs,n.attrs)}function Mm(e,t,n,i,r,s){for(let m=0;m<i.length;m++)Qc(Zl(n,t),e,i[m].type);!function cC(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,i.length);for(let m=0;m<i.length;m++){const v=i[m];v.providersResolver&&v.providersResolver(v)}let u=!1,h=!1,p=Ha(e,t,i.length,null);for(let m=0;m<i.length;m++){const v=i[m];n.mergedAttrs=xa(n.mergedAttrs,v.hostAttrs),hC(e,n,t,p,v),uC(p,v,r),null!==v.contentQueries&&(n.flags|=4),(null!==v.hostBindings||null!==v.hostAttrs||0!==v.hostVars)&&(n.flags|=64);const D=v.type.prototype;!u&&(D.ngOnChanges||D.ngOnInit||D.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),u=!0),!h&&(D.ngOnChanges||D.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),h=!0),p++}!function eC(e,t,n){const r=t.directiveEnd,s=e.data,u=t.attrs,h=[];let p=null,m=null;for(let v=t.directiveStart;v<r;v++){const D=s[v],R=n?n.get(D):null,te=R?R.outputs:null;p=vm(D.inputs,v,p,R?R.inputs:null),m=vm(D.outputs,v,m,te);const le=null===p||null===u||Xg(t)?null:pC(p,v,u);h.push(le)}null!==p&&(p.hasOwnProperty("class")&&(t.flags|=8),p.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=h,t.inputs=p,t.outputs=m}(e,n,s)}function Dm(e,t,n){const i=n.directiveStart,r=n.directiveEnd,s=n.index,u=function Qw(){return dt.lFrame.currentDirectiveIndex}();try{Wo(s);for(let h=i;h<r;h++){const p=e.data[h],m=t[h];Uc(h),(null!==p.hostBindings||0!==p.hostVars||null!==p.hostAttrs)&&sC(p,m)}}finally{Wo(-1),Uc(u)}}function sC(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Jh(e,t,n){t.componentOffset=n,(e.components||(e.components=[])).push(t.index)}function uC(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;ci(t)&&(n[""]=e)}}function hC(e,t,n,i,r){e.data[i]=r;const s=r.factory||(r.factory=xe(r.type)),u=new Ea(s,ci(r),Qe);e.blueprint[i]=u,n[i]=u,function iC(e,t,n,i,r){const s=r.hostBindings;if(s){let u=e.hostBindingOpCodes;null===u&&(u=e.hostBindingOpCodes=[]);const h=~t.index;(function rC(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(u)!=h&&u.push(h),u.push(n,i,s)}}(e,t,i,Ha(e,n,r.hostVars,ft),r)}function fC(e,t,n,i,r,s){const u=s[t];if(null!==u){const h=i.setInput;for(let p=0;p<u.length;){const m=u[p++],v=u[p++],D=u[p++];null!==h?i.setInput(n,D,m,v):n[v]=D}}}function pC(e,t,n){let i=null,r=0;for(;r<n.length;){const s=n[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===i&&(i=[]);const u=e[s];for(let h=0;h<u.length;h+=2)if(u[h]===t){i.push(s,u[h+1],n[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function Cm(e,t,n,i){return[e,!0,!1,t,null,0,i,n,null,null]}function _C(e,t){const n=Yn(t,e);if(jl(n)){const i=n[Te];48&n[st]?du(i,n,i.template,n[Qt]):n[ui]>0&&Xh(n)}}function Xh(e){for(let i=fh(e);null!==i;i=ph(i))for(let r=Kt;r<i.length;r++){const s=i[r];if(jl(s))if(512&s[st]){const u=s[Te];du(u,s,u.template,s[Qt])}else s[ui]>0&&Xh(s)}const n=e[Te].components;if(null!==n)for(let i=0;i<n.length;i++){const r=Yn(n[i],e);jl(r)&&r[ui]>0&&Xh(r)}}function yC(e,t){const n=Yn(t,e),i=n[Te];(function vC(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(i,n),Gh(i,n,n[Qt])}function fu(e,t){return e[$o]?e[va][Fn]=t:e[$o]=t,e[va]=t,t}function ed(e){for(;e;){e[st]|=32;const t=Na(e);if(Al(e)&&!t)return e;e=t}return null}function pu(e,t,n,i=!0){const r=t[zr];r.begin&&r.begin();try{du(e,t,e.template,n)}catch(u){throw i&&Sm(t,u),u}finally{r.end&&r.end()}}function td(e,t,n){Hc(0),t(e,n)}function Lm(e){return e[_r]||(e[_r]=[])}function Em(e){return e.cleanup||(e.cleanup=[])}function Sm(e,t){const n=e[bs],i=n?n.get(Us,null):null;i&&i.handleError(t)}function nd(e,t,n,i,r){for(let s=0;s<n.length;){const u=n[s++],h=n[s++],p=t[u],m=e.data[u];null!==m.setInput?m.setInput(p,r,i,h):p[h]=r}}function gu(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,s=0;if(null!==t)for(let u=0;u<t.length;u++){const h=t[u];"number"==typeof h?s=h:1==s?r=Vt(r,h):2==s&&(i=Vt(i,h+": "+t[++u]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}function mu(e,t,n,i,r=!1){for(;null!==n;){const s=t[n.index];if(null!==s&&i.push(Dt(s)),Tn(s))for(let h=Kt;h<s.length;h++){const p=s[h],m=p[Te].firstChild;null!==m&&mu(p[Te],p,m,i)}const u=n.type;if(8&u)mu(e,t,n.child,i);else if(32&u){const h=dh(n,t);let p;for(;p=h();)i.push(p)}else if(16&u){const h=bg(t,n);if(Array.isArray(h))i.push(...h);else{const p=Na(t[Ht]);mu(p[Te],p,h,i,!0)}}n=r?n.projectionNext:n.next}return i}class $a{get rootNodes(){const t=this._lView,n=t[Te];return mu(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Qt]}set context(t){this._lView[Qt]=t}get destroyed(){return 128==(128&this._lView[st])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[qt];if(Tn(t)){const n=t[qo],i=n?n.indexOf(this):-1;i>-1&&(_h(t,i),Kl(n,i))}this._attachedToViewContainer=!1}hg(this._lView[Te],this._lView)}onDestroy(t){!function ym(e,t,n,i){const r=Lm(t);null===n?r.push(i):(r.push(n),e.firstCreatePass&&Em(e).push(i,r.length-1))}(this._lView[Te],this._lView,null,t)}markForCheck(){ed(this._cdRefInjectingView||this._lView)}detach(){this._lView[st]&=-65}reattach(){this._lView[st]|=64}detectChanges(){pu(this._lView[Te],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function lM(e,t){Fa(e,t,t[_t],2,null,null)}(this._lView[Te],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=t}}class bC extends $a{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;pu(t[Te],t,t[Qt],!1)}checkNoChanges(){}get context(){return null}}class km extends Ua{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=kt(t);return new Ga(n,this.ngModule)}}function Pm(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class MC{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){i=Pn(i);const r=this.injector.get(t,Fh,i);return r!==Fh||n===Fh?r:this.parentInjector.get(t,n,i)}}class Ga extends qg{get inputs(){return Pm(this.componentDef.inputs)}get outputs(){return Pm(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function SD(e){return e.map(xD).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,i,r){let s=(r=r||this.ngModule)instanceof qr?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const u=s?new MC(t,s):t,h=u.get(Kg,null);if(null===h)throw new we(407,!1);const p=u.get(aD,null),m=h.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",D=i?function QD(e,t,n){return e.selectRootElement(t,n===li.ShadowDom)}(m,i,this.componentDef.encapsulation):mh(m,v,function wC(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(v)),R=this.componentDef.onPush?288:272,$=Kh(0,null,null,1,0,null,null,null,null,null),te=hu(null,$,null,R,null,null,h,m,p,u,null);let le,de;$c(te);try{const be=this.componentDef;let Oe,fe=null;be.findHostDirectiveDefs?(Oe=[],fe=new Map,be.findHostDirectiveDefs(be,Oe,fe),Oe.push(be)):Oe=[be];const tt=function CC(e,t){const n=e[Te],i=$t;return e[i]=t,$s(n,i,2,"#host",null)}(te,D),Gt=function LC(e,t,n,i,r,s,u,h){const p=r[Te];!function EC(e,t,n,i){for(const r of e)t.mergedAttrs=xa(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(gu(t,t.mergedAttrs,!0),null!==n&&Dg(i,n,t))}(i,e,t,u);const m=s.createRenderer(t,n),v=hu(r,_m(n),null,n.onPush?32:16,r[e.index],e,s,m,h||null,null,null);return p.firstCreatePass&&Jh(p,e,i.length-1),fu(r,v),r[e.index]=v}(tt,D,be,Oe,te,h,m);de=xs($,$t),D&&function SC(e,t,n,i){if(i)Wc(e,n,["ng-version",lD.full]);else{const{attrs:r,classes:s}=function kD(e){const t=[],n=[];let i=1,r=2;for(;i<e.length;){let s=e[i];if("string"==typeof s)2===r?""!==s&&t.push(s,e[++i]):8===r&&n.push(s);else{if(!Qi(r))break;r=s}i++}return{attrs:t,classes:n}}(t.selectors[0]);r&&Wc(e,n,r),s&&s.length>0&&Mg(e,n,s.join(" "))}}(m,be,D,i),void 0!==n&&function kC(e,t,n){const i=e.projection=[];for(let r=0;r<t.length;r++){const s=n[r];i.push(null!=s?Array.from(s):null)}}(de,this.ngContentSelectors,n),le=function xC(e,t,n,i,r,s){const u=In(),h=r[Te],p=Kn(u,r);Mm(h,r,u,n,null,i);for(let v=0;v<n.length;v++)jn(Ko(r,h,u.directiveStart+v,u),r);Dm(h,r,u),p&&jn(p,r);const m=Ko(r,h,u.directiveStart+u.componentOffset,u);if(e[Qt]=r[Qt]=m,null!==s)for(const v of s)v(m,t);return Zh(h,u,e),m}(Gt,be,Oe,fe,te,[PC]),Gh($,te,null)}finally{Gc()}return new DC(this.componentType,le,zs(de,te),te,de)}}class DC extends tD{constructor(t,n,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new bC(r),this.componentType=t}setInput(t,n){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){const s=this._rootLView;nd(s[Te],s,r,t,n),wm(s,this._tNode.index)}}get injector(){return new Ps(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function PC(){const e=In();zl(pe()[Te],e)}function zn(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function sd(e,t,n){const i=pe();return zn(i,function Ss(){return dt.lFrame.bindingIndex++}(),t)&&function Mi(e,t,n,i,r,s,u,h){const p=Kn(t,n);let v,m=t.inputs;!h&&null!=m&&(v=m[i])?(nd(e,n,v,i,r),vr(t)&&wm(n,t.index)):3&t.type&&(i=function tC(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(i),r=null!=u?u(r,t.value||"",i):r,s.setProperty(p,i,r))}(Pt(),function en(){const e=dt.lFrame;return xs(e.tView,e.selectedIndex)}(),i,e,t,i[_t],n,!1),sd}function ad(e,t,n,i,r){const u=r?"class":"style";nd(e,n,t.inputs[u],u,i)}function Xi(e,t,n,i){const r=pe(),s=Pt(),u=$t+e,h=r[_t],p=s.firstCreatePass?function qC(e,t,n,i,r,s){const u=t.consts,p=$s(t,e,2,i,_o(u,r));return Yh(t,n,p,_o(u,s)),null!==p.attrs&&gu(p,p.attrs,!1),null!==p.mergedAttrs&&gu(p,p.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,p),p}(u,s,r,t,n,i):s.data[u],m=r[u]=mh(h,t,function a0(){return dt.lFrame.currentNamespace}()),v=br(p);return wr(p,!0),Dg(h,m,p),32!=(32&p.flags)&&eu(s,r,m,p),0===function $w(){return dt.lFrame.elementDepthCount}()&&jn(m,r),function Gw(){dt.lFrame.elementDepthCount++}(),v&&(qh(s,r,p),Zh(s,p,r)),null!==i&&Wh(r,p),Xi}function er(){let e=In();jc()?function zc(){dt.lFrame.isParent=!1}():(e=e.parent,wr(e,!1));const t=e;!function Zw(){dt.lFrame.elementDepthCount--}();const n=Pt();return n.firstCreatePass&&(zl(n,e),Ma(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function h0(e){return 0!=(8&e.flags)}(t)&&ad(n,t,pe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function d0(e){return 0!=(16&e.flags)}(t)&&ad(n,t,pe(),t.stylesWithoutHost,!1),er}function tr(e,t,n,i){return Xi(e,t,n,i),er(),tr}function vu(e){return!!e&&"function"==typeof e.then}const Km=function Wm(e){return!!e&&"function"==typeof e.subscribe};function Lr(e,t,n,i){const r=pe(),s=Pt(),u=In();return function Jm(e,t,n,i,r,s,u){const h=br(i),m=e.firstCreatePass&&Em(e),v=t[Qt],D=Lm(t);let R=!0;if(3&i.type||u){const le=Kn(i,t),de=u?u(le):le,be=D.length,Oe=u?tt=>u(Dt(tt[i.index])):i.index;let fe=null;if(!u&&h&&(fe=function KC(e,t,n,i){const r=e.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const u=r[s];if(u===n&&r[s+1]===i){const h=t[_r],p=r[s+2];return h.length>p?h[p]:null}"string"==typeof u&&(s+=2)}return null}(e,t,r,i.index)),null!==fe)(fe.__ngLastListenerFn__||fe).__ngNextListenerFn__=s,fe.__ngLastListenerFn__=s,R=!1;else{s=Xm(i,t,v,s,!1);const tt=n.listen(de,r,s);D.push(s,tt),m&&m.push(r,Oe,be,be+1)}}else s=Xm(i,t,v,s,!1);const $=i.outputs;let te;if(R&&null!==$&&(te=$[r])){const le=te.length;if(le)for(let de=0;de<le;de+=2){const Gt=t[te[de]][te[de+1]].subscribe(s),dn=D.length;D.push(s,Gt),m&&m.push(r,i.index,dn,-(dn+1))}}}(s,r,r[_t],u,e,t,i),Lr}function Qm(e,t,n,i){try{return Wn(6,t,n),!1!==n(i)}catch(r){return Sm(e,r),!1}finally{Wn(7,t,n)}}function Xm(e,t,n,i,r){return function s(u){if(u===Function)return i;ed(e.componentOffset>-1?Yn(e.index,t):t);let p=Qm(t,n,i,u),m=s.__ngNextListenerFn__;for(;m;)p=Qm(t,n,m,u)&&p,m=m.__ngNextListenerFn__;return r&&!1===p&&(u.preventDefault(),u.returnValue=!1),p}}function cd(e=1){return function e0(e){return(dt.lFrame.contextLView=function t0(e,t){for(;e>0;)t=t[po],e--;return t}(e,dt.lFrame.contextLView))[Qt]}(e)}function bu(e,t){return e<<17|t<<2}function bo(e){return e>>17&32767}function dd(e){return 2|e}function es(e){return(131068&e)>>2}function fd(e,t){return-131069&e|t<<2}function pd(e){return 1|e}function u_(e,t,n,i,r){const s=e[n+1],u=null===t;let h=i?bo(s):es(s),p=!1;for(;0!==h&&(!1===p||u);){const v=e[h+1];rL(e[h],t)&&(p=!0,e[h+1]=i?pd(v):dd(v)),h=i?bo(v):es(v)}p&&(e[n+1]=i?dd(s):pd(s))}function rL(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&As(e,t)>=0}function qa(e,t,n){return function nr(e,t,n,i){const r=pe(),s=Pt(),u=function Gr(e){const t=dt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);s.firstUpdatePass&&function y_(e,t,n,i){const r=e.data;if(null===r[n+1]){const s=r[Qn()],u=function __(e,t){return t>=e.expandoStartIndex}(e,n);(function M_(e,t){return 0!=(e.flags&(t?8:16))})(s,i)&&null===t&&!u&&(t=!1),t=function fL(e,t,n,i){const r=function Vc(e){const t=dt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(n=Wa(n=gd(null,e,t,n,i),t.attrs,i),s=null);else{const u=t.directiveStylingLast;if(-1===u||e[u]!==r)if(n=gd(r,e,t,n,i),null===s){let p=function pL(e,t,n){const i=n?t.classBindings:t.styleBindings;if(0!==es(i))return e[bo(i)]}(e,t,i);void 0!==p&&Array.isArray(p)&&(p=gd(null,e,t,p[1],i),p=Wa(p,t.attrs,i),function gL(e,t,n,i){e[bo(n?t.classBindings:t.styleBindings)]=i}(e,t,i,p))}else s=function mL(e,t,n){let i;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)i=Wa(i,e[s].hostAttrs,n);return Wa(i,t.attrs,n)}(e,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),n}(r,s,t,i),function nL(e,t,n,i,r,s){let u=s?t.classBindings:t.styleBindings,h=bo(u),p=es(u);e[i]=n;let v,m=!1;if(Array.isArray(n)?(v=n[1],(null===v||As(n,v)>0)&&(m=!0)):v=n,r)if(0!==p){const R=bo(e[h+1]);e[i+1]=bu(R,h),0!==R&&(e[R+1]=fd(e[R+1],i)),e[h+1]=function eL(e,t){return 131071&e|t<<17}(e[h+1],i)}else e[i+1]=bu(h,0),0!==h&&(e[h+1]=fd(e[h+1],i)),h=i;else e[i+1]=bu(p,0),0===h?h=i:e[p+1]=fd(e[p+1],i),p=i;m&&(e[i+1]=dd(e[i+1])),u_(e,v,i,!0),u_(e,v,i,!1),function iL(e,t,n,i,r){const s=r?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&As(s,t)>=0&&(n[i+1]=pd(n[i+1]))}(t,v,e,i,s),u=bu(h,p),s?t.classBindings=u:t.styleBindings=u}(r,s,t,n,u,i)}}(s,e,u,i),t!==ft&&zn(r,u,t)&&function b_(e,t,n,i,r,s,u,h){if(!(3&t.type))return;const p=e.data,m=p[h+1],v=function tL(e){return 1==(1&e)}(m)?w_(p,t,n,r,es(m),u):void 0;wu(v)||(wu(s)||function XC(e){return 2==(2&e)}(m)&&(s=w_(p,null,n,r,h,u)),function yM(e,t,n,i,r){if(t)r?e.addClass(n,i):e.removeClass(n,i);else{let s=-1===i.indexOf("-")?void 0:hi.DashCase;null==r?e.removeStyle(n,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=hi.Important),e.setStyle(n,i,r,s))}}(i,u,function Es(e,t){return Dt(t[e])}(Qn(),n),r,s))}(s,s.data[Qn()],r,r[_t],e,r[u+1]=function vL(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Re(function yo(e){return e instanceof Sg?e.changingThisBreaksApplicationSecurity:e}(e)))),e}(t,n),i,u)}(e,t,n,!1),qa}function gd(e,t,n,i,r){let s=null;const u=n.directiveEnd;let h=n.directiveStylingLast;for(-1===h?h=n.directiveStart:h++;h<u&&(s=t[h],i=Wa(i,s.hostAttrs,r),s!==e);)h++;return null!==e&&(n.directiveStylingLast=h),i}function Wa(e,t,n){const i=n?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const u=t[s];"number"==typeof u?r=u:r===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),wi(e,u,!!n||t[++s]))}return void 0===e?null:e}function w_(e,t,n,i,r,s){const u=null===t;let h;for(;r>0;){const p=e[r],m=Array.isArray(p),v=m?p[1]:p,D=null===v;let R=n[r+1];R===ft&&(R=D?Ot:void 0);let $=D?nh(R,i):v===i?R:void 0;if(m&&!wu($)&&($=nh(p,i)),wu($)&&(h=$,u))return h;const te=e[r+1];r=u?bo(te):es(te)}if(null!==t){let p=s?t.residualClasses:t.residualStyles;null!=p&&(h=nh(p,i))}return h}function wu(e){return void 0!==e}function md(e,t=""){const n=pe(),i=Pt(),r=e+$t,s=i.firstCreatePass?$s(i,r,1,t,null):i.data[r],u=n[r]=function gh(e,t){return e.createText(t)}(n[_t],t);eu(i,n,u,s),wr(s,!1)}const na="en-US";let G_=na;class ia{}class _y{}class yy extends ia{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new km(this);const i=mn(t);this._bootstrapComponents=Wr(i.bootstrap),this._r3Injector=am(t,n,[{provide:ia,useValue:this},{provide:Ua,useValue:this.componentFactoryResolver}],Re(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Cd extends _y{constructor(t){super(),this.moduleType=t}create(t){return new yy(this.moduleType,t)}}class zE extends ia{constructor(t,n,i){super(),this.componentFactoryResolver=new km(this),this.instance=null;const r=new Gg([...t,{provide:ia,useValue:this},{provide:Ua,useValue:this.componentFactoryResolver}],n||au(),i,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Eu(e,t,n=null){return new zE(e,t,n).injector}let UE=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const i=Ug(0,n.type),r=i.length>0?Eu([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,r)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=X({token:e,providedIn:"environment",factory:()=>new e(He(qr))}),e})();function vy(e){e.getStandaloneInjector=t=>t.get(UE).getOrCreateStandaloneInjector(e)}function Ed(e){return t=>{setTimeout(e,void 0,t)}}const ei=class fx extends St{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,i){let r=t,s=n||(()=>null),u=i;if(t&&"object"==typeof t){const p=t;r=p.next?.bind(p),s=p.error?.bind(p),u=p.complete?.bind(p)}this.__isAsync&&(s=Ed(s),r&&(r=Ed(r)),u&&(u=Ed(u)));const h=super.subscribe({next:r,error:s,complete:u});return t instanceof T&&t.add(h),h}};let Jr=(()=>{class e{}return e.__NG_ELEMENT_ID__=_x,e})();const gx=Jr,mx=class extends gx{constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}createEmbeddedView(t,n){const i=this._declarationTContainer.tView,r=hu(this._declarationLView,i,t,16,null,i.declTNode,null,null,null,null,n||null);r[yr]=this._declarationLView[this._declarationTContainer.index];const u=this._declarationLView[Zn];return null!==u&&(r[Zn]=u.createEmbeddedView(i)),Gh(i,r,t),new $a(r)}};function _x(){return function xu(e,t){return 4&e.type?new mx(t,e,zs(e,t)):null}(In(),pe())}let rr=(()=>{class e{}return e.__NG_ELEMENT_ID__=yx,e})();function yx(){return function Ry(e,t){let n;const i=t[e.index];if(Tn(i))n=i;else{let r;if(8&e.type)r=Dt(i);else{const s=t[_t];r=s.createComment("");const u=Kn(e,t);Jo(s,Xl(s,u),r,function gM(e,t){return e.nextSibling(t)}(s,u),!1)}t[e.index]=n=Cm(i,t,r,e),fu(t,n)}return new Ty(n,e,t)}(In(),pe())}const vx=rr,Ty=class extends vx{constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return zs(this._hostTNode,this._hostLView)}get injector(){return new Ps(this._hostTNode,this._hostLView)}get parentInjector(){const t=Jc(this._hostTNode,this._hostLView);if(Sp(t)){const n=$l(t,this._hostLView),i=Hl(t);return new Ps(n[Te].data[i+8],n)}return new Ps(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Iy(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Kt}createEmbeddedView(t,n,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const u=t.createEmbeddedView(n||{},s);return this.insert(u,r),u}createComponent(t,n,i,r,s){const u=t&&!function ka(e){return"function"==typeof e}(t);let h;if(u)h=n;else{const D=n||{};h=D.index,i=D.injector,r=D.projectableNodes,s=D.environmentInjector||D.ngModuleRef}const p=u?t:new Ga(kt(t)),m=i||this.parentInjector;if(!s&&null==p.ngModule){const R=(u?m:this.parentInjector).get(qr,null);R&&(s=R)}const v=p.create(m,r,void 0,s);return this.insert(v.hostView,h),v}insert(t,n){const i=t._lView,r=i[Te];if(function Hw(e){return Tn(e[qt])}(i)){const v=this.indexOf(t);if(-1!==v)this.detach(v);else{const D=i[qt],R=new Ty(D,D[ln],D[qt]);R.detach(R.indexOf(t))}}const s=this._adjustIndex(n),u=this._lContainer;!function cM(e,t,n,i){const r=Kt+i,s=n.length;i>0&&(n[r-1][Fn]=t),i<s-Kt?(t[Fn]=n[r],Up(n,Kt+i,t)):(n.push(t),t[Fn]=null),t[qt]=n;const u=t[yr];null!==u&&n!==u&&function hM(e,t){const n=e[mo];t[Ht]!==t[qt][qt][Ht]&&(e[Ur]=!0),null===n?e[mo]=[t]:n.push(t)}(u,t);const h=t[Zn];null!==h&&h.insertView(e),t[st]|=64}(r,i,u,s);const h=bh(s,u),p=i[_t],m=Xl(p,u[Zo]);return null!==m&&function aM(e,t,n,i,r,s){i[Ri]=r,i[ln]=t,Fa(e,i,n,1,r,s)}(r,u[ln],p,i,m,h),t.attachToViewContainerRef(),Up(Sd(u),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Iy(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),i=_h(this._lContainer,n);i&&(Kl(Sd(this._lContainer),n),hg(i[Te],i))}detach(t){const n=this._adjustIndex(t,-1),i=_h(this._lContainer,n);return i&&null!=Kl(Sd(this._lContainer),n)?new $a(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function Iy(e){return e[qo]}function Sd(e){return e[qo]||(e[qo]=[])}function ku(...e){}const Pu=new Xe("Application Initializer");let Tu=(()=>{class e{constructor(n){this.appInits=n,this.resolve=ku,this.reject=ku,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const n=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(vu(s))n.push(s);else if(Km(s)){const u=new Promise((h,p)=>{s.subscribe({complete:h,error:p})});n.push(u)}}Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),0===n.length&&i(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(He(Pu,8))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const il=new Xe("AppId",{providedIn:"root",factory:function ov(){return`${jd()}${jd()}${jd()}`}});function jd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const sv=new Xe("Platform Initializer"),av=new Xe("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let qx=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Qr=new Xe("LocaleId",{providedIn:"root",factory:()=>yt(Qr,Ve.Optional|Ve.SkipSelf)||function Wx(){return typeof $localize<"u"&&$localize.locale||na}()});class Yx{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let lv=(()=>{class e{compileModuleSync(n){return new Cd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const i=this.compileModuleSync(n),s=Wr(mn(n).declarations).reduce((u,h)=>{const p=kt(h);return p&&u.push(new Ga(p)),u},[]);return new Yx(i,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Xx=(()=>Promise.resolve(0))();function zd(e){typeof Zone>"u"?Xx.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class un{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ei(!1),this.onMicrotaskEmpty=new ei(!1),this.onStable=new ei(!1),this.onError=new ei(!1),typeof Zone>"u")throw new we(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function eS(){let e=Ut.requestAnimationFrame,t=Ut.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function iS(e){const t=()=>{!function nS(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ut,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Vd(e),e.isCheckStableRunning=!0,Ud(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Vd(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,s,u,h)=>{try{return hv(e),n.invokeTask(r,s,u,h)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),dv(e)}},onInvoke:(n,i,r,s,u,h,p)=>{try{return hv(e),n.invoke(r,s,u,h,p)}finally{e.shouldCoalesceRunChangeDetection&&t(),dv(e)}},onHasTask:(n,i,r,s)=>{n.hasTask(r,s),i===r&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,Vd(e),Ud(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,i,r,s)=>(n.handleError(r,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!un.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if(un.isInAngularZone())throw new we(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,r){const s=this._inner,u=s.scheduleEventTask("NgZoneEvent: "+r,t,tS,ku,ku);try{return s.runTask(u,n,i)}finally{s.cancelTask(u)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}}const tS={};function Ud(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Vd(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function hv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function dv(e){e._nesting--,Ud(e)}class rS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ei,this.onMicrotaskEmpty=new ei,this.onStable=new ei,this.onError=new ei}run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,r){return t.apply(n,i)}}const fv=new Xe(""),Iu=new Xe("");let Gd,Hd=(()=>{class e{constructor(n,i,r){this._ngZone=n,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Gd||(function oS(e){Gd=e}(r),r.addToWindow(i)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{un.assertNotInAngularZone(),zd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())zd(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(n)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(u=>u.timeoutId!==s),n(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:r})}whenStable(n,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,i,r){return[]}}return e.\u0275fac=function(n){return new(n||e)(He(un),He($d),He(Iu))},e.\u0275prov=X({token:e,factory:e.\u0275fac}),e})(),$d=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return Gd?.findTestabilityInTree(this,n,i)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Xr=!1;let wo=null;const pv=new Xe("AllowMultipleToken"),Zd=new Xe("PlatformDestroyListeners"),gv=new Xe("appBootstrapListener");class mv{constructor(t,n){this.name=t,this.token=n}}function yv(e,t,n=[]){const i=`Platform: ${t}`,r=new Xe(i);return(s=[])=>{let u=qd();if(!u||u.injector.get(pv,!1)){const h=[...n,...s,{provide:r,useValue:!0}];e?e(h):function lS(e){if(wo&&!wo.get(pv,!1))throw new we(400,!1);wo=e;const t=e.get(bv);(function _v(e){const t=e.get(sv,null);t&&t.forEach(n=>n())})(e)}(function vv(e=[],t){return Kr.create({name:t,providers:[{provide:Rh,useValue:"platform"},{provide:Zd,useValue:new Set([()=>wo=null])},...e]})}(h,i))}return function cS(e){const t=qd();if(!t)throw new we(401,!1);return t}()}}function qd(){return wo?.get(bv)??null}let bv=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){const r=function Mv(e,t){let n;return n="noop"===e?new rS:("zone.js"===e?void 0:e)||new un(t),n}(i?.ngZone,function wv(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(i)),s=[{provide:un,useValue:r}];return r.run(()=>{const u=Kr.create({providers:s,parent:this.injector,name:n.moduleType.name}),h=n.create(u),p=h.injector.get(Us,null);if(!p)throw new we(402,!1);return r.runOutsideAngular(()=>{const m=r.onError.subscribe({next:v=>{p.handleError(v)}});h.onDestroy(()=>{Ou(this._modules,h),m.unsubscribe()})}),function Dv(e,t,n){try{const i=n();return vu(i)?i.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(p,r,()=>{const m=h.injector.get(Tu);return m.runInitializers(),m.donePromise.then(()=>(function Z_(e){O(e,"Expected localeId to be defined"),"string"==typeof e&&(G_=e.toLowerCase().replace(/_/g,"-"))}(h.injector.get(Qr,na)||na),this._moduleDoBootstrap(h),h))})})}bootstrapModule(n,i=[]){const r=Cv({},i);return function sS(e,t,n){const i=new Cd(n);return Promise.resolve(i)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(n){const i=n.injector.get(Ru);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!n.instance.ngDoBootstrap)throw new we(-403,!1);n.instance.ngDoBootstrap(i)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const n=this._injector.get(Zd,null);n&&(n.forEach(i=>i()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(He(Kr))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function Cv(e,t){return Array.isArray(t)?t.reduce(Cv,e):{...e,...t}}let Ru=(()=>{class e{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,i,r){this._zone=n,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new ot(h=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{h.next(this._stable),h.complete()})}),u=new ot(h=>{let p;this._zone.runOutsideAngular(()=>{p=this._zone.onStable.subscribe(()=>{un.assertNotInAngularZone(),zd(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,h.next(!0))})})});const m=this._zone.onUnstable.subscribe(()=>{un.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{h.next(!1)}))});return()=>{p.unsubscribe(),m.unsubscribe()}});this.isStable=function Bt(...e){const t=Si(e),n=function so(e,t){return"number"==typeof Rr(e)?e.pop():t}(e,1/0),i=e;return i.length?1===i.length?Vn(i[0]):xi(n)(Ge(i,t)):Hn}(s,u.pipe(function Ar(e={}){const{connector:t=(()=>new St),resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=e;return s=>{let u,h,p,m=0,v=!1,D=!1;const R=()=>{h?.unsubscribe(),h=void 0},$=()=>{R(),u=p=void 0,v=D=!1},te=()=>{const le=u;$(),le?.unsubscribe()};return Tt((le,de)=>{m++,!D&&!v&&R();const be=p=p??t();de.add(()=>{m--,0===m&&!D&&!v&&(h=yi(te,r))}),be.subscribe(de),!u&&m>0&&(u=new Le({next:Oe=>be.next(Oe),error:Oe=>{D=!0,R(),h=yi($,n,Oe),be.error(Oe)},complete:()=>{v=!0,R(),h=yi($,i),be.complete()}}),Vn(le).subscribe(u))})(s)}}()))}bootstrap(n,i){const r=n instanceof qg;if(!this._injector.get(Tu).done){!r&&function fo(e){const t=kt(e)||En(e)||Jt(e);return null!==t&&t.standalone}(n);throw new we(405,Xr)}let u;u=r?n:this._injector.get(Ua).resolveComponentFactory(n),this.componentTypes.push(u.componentType);const h=function aS(e){return e.isBoundToModule}(u)?void 0:this._injector.get(ia),m=u.create(Kr.NULL,[],i||u.selector,h),v=m.location.nativeElement,D=m.injector.get(fv,null);return D?.registerApplication(v),m.onDestroy(()=>{this.detachView(m.hostView),Ou(this.components,m),D?.unregisterApplication(v)}),this._loadComponent(m),m}tick(){if(this._runningTick)throw new we(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){const i=n;Ou(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const i=this._injector.get(gv,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ou(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new we(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(He(un),He(qr),He(Us))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Ou(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let Wd=(()=>{class e{}return e.__NG_ELEMENT_ID__=dS,e})();function dS(e){return function fS(e,t,n){if(vr(e)&&!n){const i=Yn(e.index,t);return new $a(i,i)}return 47&e.type?new $a(t[Ht],t):null}(In(),pe(),16==(16&e))}const ES=yv(null,"core",[]);let xS=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(He(Ru))},e.\u0275mod=Ti({type:e}),e.\u0275inj=_e({}),e})(),ef=null;function is(){return ef}class PS{}const fi=new Xe("DocumentToken");let tf=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=X({token:e,factory:function(){return function TS(){return He(Av)}()},providedIn:"platform"}),e})();const IS=new Xe("Location Initialized");let Av=(()=>{class e extends tf{constructor(n){super(),this._doc=n,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return is().getBaseHref(this._doc)}onPopState(n){const i=is().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){const i=is().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,r){Nv()?this._history.pushState(n,i,r):this._location.hash=r}replaceState(n,i,r){Nv()?this._history.replaceState(n,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return e.\u0275fac=function(n){return new(n||e)(He(fi))},e.\u0275prov=X({token:e,factory:function(){return function RS(){return new Av(He(fi))}()},providedIn:"platform"}),e})();function Nv(){return!!window.history.pushState}function nf(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function Fv(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function eo(e){return e&&"?"!==e[0]?"?"+e:e}let rs=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=X({token:e,factory:function(){return yt(jv)},providedIn:"root"}),e})();const Bv=new Xe("appBaseHref");let jv=(()=>{class e extends rs{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??yt(fi).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return nf(this._baseHref,n)}path(n=!1){const i=this._platformLocation.pathname+eo(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${i}${r}`:i}pushState(n,i,r,s){const u=this.prepareExternalUrl(r+eo(s));this._platformLocation.pushState(n,i,u)}replaceState(n,i,r,s){const u=this.prepareExternalUrl(r+eo(s));this._platformLocation.replaceState(n,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(He(tf),He(Bv,8))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),OS=(()=>{class e extends rs{constructor(n,i){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(n){const i=nf(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,r,s){let u=this.prepareExternalUrl(r+eo(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(n,i,u)}replaceState(n,i,r,s){let u=this.prepareExternalUrl(r+eo(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(He(tf),He(Bv,8))},e.\u0275prov=X({token:e,factory:e.\u0275fac}),e})(),rf=(()=>{class e{constructor(n){this._subject=new ei,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const i=this._locationStrategy.getBaseHref();this._basePath=function FS(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(Fv(zv(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+eo(i))}normalize(n){return e.stripTrailingSlash(function NS(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,zv(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",r=null){this._locationStrategy.pushState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+eo(i)),r)}replaceState(n,i="",r=null){this._locationStrategy.replaceState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+eo(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(r=>r(n,i))}subscribe(n,i,r){return this._subject.subscribe({next:n,error:i,complete:r})}}return e.normalizeQueryParams=eo,e.joinWithSlash=nf,e.stripTrailingSlash=Fv,e.\u0275fac=function(n){return new(n||e)(He(rs))},e.\u0275prov=X({token:e,factory:function(){return function AS(){return new rf(He(rs))}()},providedIn:"root"}),e})();function zv(e){return e.replace(/\/index.html$/,"")}let Xv=(()=>{class e{constructor(n,i){this._viewContainer=n,this._context=new Ek,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){eb("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){eb("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,i){return!0}}return e.\u0275fac=function(n){return new(n||e)(Qe(rr),Qe(Jr))},e.\u0275dir=gn({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class Ek{constructor(){this.$implicit=null,this.ngIf=null}}function eb(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Re(t)}'.`)}let Jk=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ti({type:e}),e.\u0275inj=_e({}),e})();let tP=(()=>{class e{}return e.\u0275prov=X({token:e,providedIn:"root",factory:()=>new nP(He(fi),window)}),e})();class nP{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function iP(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const u=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=t)}}scrollToElement(t){const n=t.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=rb(this.window.history)||rb(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function rb(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class TP extends PS{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Mf extends TP{static makeCurrent(){!function kS(e){ef||(ef=e)}(new Mf)}onAndCancel(t,n,i){return t.addEventListener(n,i,!1),()=>{t.removeEventListener(n,i,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function IP(){return ll=ll||document.querySelector("base"),ll?ll.getAttribute("href"):null}();return null==n?null:function RP(e){Ku=Ku||document.createElement("a"),Ku.setAttribute("href",e);const t=Ku.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){ll=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function bk(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const i=n.indexOf("="),[r,s]=-1==i?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let Ku,ll=null;const ub=new Xe("TRANSITION_ID"),AP=[{provide:Pu,useFactory:function OP(e,t,n){return()=>{n.get(Tu).donePromise.then(()=>{const i=is(),r=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[ub,fi,Kr],multi:!0}];let FP=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac}),e})();const Yu=new Xe("EventManagerPlugins");let Ju=(()=>{class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,r){return this._findPluginFor(i).addEventListener(n,i,r)}addGlobalEventListener(n,i,r){return this._findPluginFor(i).addGlobalEventListener(n,i,r)}getZone(){return this._zone}_findPluginFor(n){const i=this._eventNameToPlugin.get(n);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const u=r[s];if(u.supports(n))return this._eventNameToPlugin.set(n,u),u}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(He(Yu),He(un))},e.\u0275prov=X({token:e,factory:e.\u0275fac}),e})();class cb{constructor(t){this._doc=t}addGlobalEventListener(t,n,i){const r=is().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${n}`);return this.addEventListener(r,n,i)}}let hb=(()=>{class e{constructor(){this.usageCount=new Map}addStyles(n){for(const i of n)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(n){for(const i of n)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(n){}onStyleAdded(n){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(n,i){const r=this.usageCount;let s=r.get(n)??0;return s+=i,s>0?r.set(n,s):r.delete(n),s}ngOnDestroy(){for(const n of this.getAllStyles())this.onStyleRemoved(n);this.usageCount.clear()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac}),e})(),ul=(()=>{class e extends hb{constructor(n){super(),this.doc=n,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(n){for(const i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){const i=this.styleRef;i.get(n)?.forEach(s=>s.remove()),i.delete(n)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}addStyleToHost(n,i){const r=this.doc.createElement("style");r.textContent=i,n.appendChild(r);const s=this.styleRef.get(i);s?s.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return e.\u0275fac=function(n){return new(n||e)(He(fi))},e.\u0275prov=X({token:e,factory:e.\u0275fac}),e})();const Df={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Cf=/%COMP%/g,pb=new Xe("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function gb(e,t){return t.flat(100).map(n=>n.replace(Cf,e))}function mb(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let Lf=(()=>{class e{constructor(n,i,r,s){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new Ef(n)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(n,i);return r instanceof vb?r.applyToHost(n):r instanceof xf&&r.applyStyles(),r}getOrCreateRenderer(n,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const u=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestory;switch(i.encapsulation){case li.Emulated:s=new vb(u,h,i,this.appId,p);break;case li.ShadowDom:return new $P(u,h,n,i);default:s=new xf(u,h,i,p)}s.onDestroy=()=>r.delete(i.id),r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(He(Ju),He(ul),He(il),He(pb))},e.\u0275prov=X({token:e,factory:e.\u0275fac}),e})();class Ef{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(Df[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){(yb(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(yb(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,r){if(r){n=r+":"+n;const s=Df[r];s?t.setAttributeNS(s,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){const r=Df[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,r){r&(hi.DashCase|hi.Important)?t.style.setProperty(n,i,r&hi.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&hi.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t[n]=i}setValue(t,n){t.nodeValue=n}listen(t,n,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,mb(i)):this.eventManager.addEventListener(t,n,mb(i))}}function yb(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class $P extends Ef{constructor(t,n,i,r){super(t),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=gb(r.id,r.styles);for(const u of s){const h=document.createElement("style");h.textContent=u,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class xf extends Ef{constructor(t,n,i,r,s=i.id){super(t),this.sharedStylesHost=n,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=gb(s,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class vb extends xf{constructor(t,n,i,r,s){const u=r+"-"+i.id;super(t,n,i,s,u),this.contentAttr=function UP(e){return"_ngcontent-%COMP%".replace(Cf,e)}(u),this.hostAttr=function VP(e){return"_nghost-%COMP%".replace(Cf,e)}(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}}let GP=(()=>{class e extends cb{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r){return n.addEventListener(i,r,!1),()=>this.removeEventListener(n,i,r)}removeEventListener(n,i,r){return n.removeEventListener(i,r)}}return e.\u0275fac=function(n){return new(n||e)(He(fi))},e.\u0275prov=X({token:e,factory:e.\u0275fac}),e})();const bb=["alt","control","meta","shift"],ZP={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qP={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let WP=(()=>{class e extends cb{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,i,r){const s=e.parseEventName(i),u=e.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>is().onAndCancel(n,s.domEventName,u))}static parseEventName(n){const i=n.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=e._normalizeKey(i.pop());let u="",h=i.indexOf("code");if(h>-1&&(i.splice(h,1),u="code."),bb.forEach(m=>{const v=i.indexOf(m);v>-1&&(i.splice(v,1),u+=m+".")}),u+=s,0!=i.length||0===s.length)return null;const p={};return p.domEventName=r,p.fullKey=u,p}static matchEventFullKeyCode(n,i){let r=ZP[n.key]||n.key,s="";return i.indexOf("code.")>-1&&(r=n.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),bb.forEach(u=>{u!==r&&(0,qP[u])(n)&&(s+=u+".")}),s+=r,s===i)}static eventCallback(n,i,r){return s=>{e.matchEventFullKeyCode(s,n)&&r.runGuarded(()=>i(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(He(fi))},e.\u0275prov=X({token:e,factory:e.\u0275fac}),e})();const QP=yv(ES,"browser",[{provide:av,useValue:"browser"},{provide:sv,useValue:function KP(){Mf.makeCurrent()},multi:!0},{provide:fi,useFactory:function JP(){return function DM(e){Ch=e}(document),document},deps:[]}]),Db=new Xe(""),Cb=[{provide:Iu,useClass:class NP{addToWindow(t){Ut.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},Ut.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ut.getAllAngularRootElements=()=>t.getAllRootElements(),Ut.frameworkStabilizers||(Ut.frameworkStabilizers=[]),Ut.frameworkStabilizers.push(i=>{const r=Ut.getAllAngularTestabilities();let s=r.length,u=!1;const h=function(p){u=u||p,s--,0==s&&i(u)};r.forEach(function(p){p.whenStable(h)})})}findTestabilityInTree(t,n,i){return null==n?null:t.getTestability(n)??(i?is().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:fv,useClass:Hd,deps:[un,$d,Iu]},{provide:Hd,useClass:Hd,deps:[un,$d,Iu]}],Lb=[{provide:Rh,useValue:"root"},{provide:Us,useFactory:function YP(){return new Us},deps:[]},{provide:Yu,useClass:GP,multi:!0,deps:[fi,un,av]},{provide:Yu,useClass:WP,multi:!0,deps:[fi]},{provide:Lf,useClass:Lf,deps:[Ju,ul,il,pb]},{provide:Kg,useExisting:Lf},{provide:hb,useExisting:ul},{provide:ul,useClass:ul,deps:[fi]},{provide:Ju,useClass:Ju,deps:[Yu,un]},{provide:class rP{},useClass:FP,deps:[]},[]];let XP=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:il,useValue:n.appId},{provide:ub,useExisting:il},AP]}}}return e.\u0275fac=function(n){return new(n||e)(He(Db,12))},e.\u0275mod=Ti({type:e}),e.\u0275inj=_e({providers:[...Lb,...Cb],imports:[Jk,xS]}),e})(),Eb=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return e.\u0275fac=function(n){return new(n||e)(He(fi))},e.\u0275prov=X({token:e,factory:function(n){let i=null;return i=n?new n:function t1(){return new Eb(He(fi))}(),i},providedIn:"root"}),e})();function Je(...e){return Ge(e,Si(e))}typeof window<"u"&&window;class lr extends St{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:i}=this;if(t)throw n;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const Qu=S(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:a1}=Array,{getPrototypeOf:l1,prototype:u1,keys:c1}=Object;const{isArray:f1}=Array;function kb(...e){const t=Si(e),n=function Oo(e){return x(Rr(e))?e.pop():void 0}(e),{args:i,keys:r}=function h1(e){if(1===e.length){const t=e[0];if(a1(t))return{args:t,keys:null};if(function d1(e){return e&&"object"==typeof e&&l1(e)===u1}(t)){const n=c1(t);return{args:n.map(i=>t[i]),keys:n}}}return{args:e,keys:null}}(e);if(0===i.length)return Ge([],t);const s=new ot(function _1(e,t,n=$e){return i=>{Pb(t,()=>{const{length:r}=e,s=new Array(r);let u=r,h=r;for(let p=0;p<r;p++)Pb(t,()=>{const m=Ge(e[p],t);let v=!1;m.subscribe(wt(i,D=>{s[p]=D,v||(v=!0,h--),h||i.next(n(s.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,t,r?u=>function m1(e,t){return e.reduce((n,i,r)=>(n[i]=t[r],n),{})}(r,u):$e));return n?s.pipe(function g1(e){return nt(t=>function p1(e,t){return f1(t)?e(...t):e(t)}(e,t))}(n)):s}function Pb(e,t,n){e?Sn(n,e,t):t()}function Pf(...e){return function y1(){return xi(1)}()(Ge(e,Si(e)))}function Tb(e){return new ot(t=>{Vn(e()).subscribe(t)})}function cl(e,t){const n=x(e)?e:()=>e,i=r=>r.error(n());return new ot(t?r=>t.schedule(i,0,r):i)}function Tf(){return Tt((e,t)=>{let n=null;e._refCount++;const i=wt(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const r=e._connection,s=n;n=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});e.subscribe(i),i.closed||(n=e.connect())})}class Ib extends ot{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,bt(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new T;const n=this.getSubject();t.add(this.source.subscribe(wt(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=T.EMPTY)}return t}refCount(){return Tf()(this)}}function Sr(e,t){return Tt((n,i)=>{let r=null,s=0,u=!1;const h=()=>u&&!r&&i.complete();n.subscribe(wt(i,p=>{r?.unsubscribe();let m=0;const v=s++;Vn(e(p,v)).subscribe(r=wt(i,D=>i.next(t?t(p,D,v,m++):D),()=>{r=null,h()}))},()=>{u=!0,h()}))})}function hl(e){return e<=0?()=>Hn:Tt((t,n)=>{let i=0;t.subscribe(wt(n,r=>{++i<=e&&(n.next(r),e<=i&&n.complete())}))})}function Do(e,t){return Tt((n,i)=>{let r=0;n.subscribe(wt(i,s=>e.call(t,s,r++)&&i.next(s)))})}function Xu(e){return Tt((t,n)=>{let i=!1;t.subscribe(wt(n,r=>{i=!0,n.next(r)},()=>{i||n.next(e),n.complete()}))})}function Rb(e=b1){return Tt((t,n)=>{let i=!1;t.subscribe(wt(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(e())))})}function b1(){return new Qu}function Co(e,t){const n=arguments.length>=2;return i=>i.pipe(e?Do((r,s)=>e(r,s,i)):$e,hl(1),n?Xu(t):Rb(()=>new Qu))}function os(e,t){return x(t)?Zt(e,t,1):Zt(e,1)}function Un(e,t,n){const i=x(e)||t||n?{next:e,error:t,complete:n}:e;return i?Tt((r,s)=>{var u;null===(u=i.subscribe)||void 0===u||u.call(i);let h=!0;r.subscribe(wt(s,p=>{var m;null===(m=i.next)||void 0===m||m.call(i,p),s.next(p)},()=>{var p;h=!1,null===(p=i.complete)||void 0===p||p.call(i),s.complete()},p=>{var m;h=!1,null===(m=i.error)||void 0===m||m.call(i,p),s.error(p)},()=>{var p,m;h&&(null===(p=i.unsubscribe)||void 0===p||p.call(i)),null===(m=i.finalize)||void 0===m||m.call(i)}))}):$e}function Lo(e){return Tt((t,n)=>{let s,i=null,r=!1;i=t.subscribe(wt(n,void 0,void 0,u=>{s=Vn(e(u,Lo(e)(t))),i?(i.unsubscribe(),i=null,s.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(n))})}function Ob(e,t){return Tt(function w1(e,t,n,i,r){return(s,u)=>{let h=n,p=t,m=0;s.subscribe(wt(u,v=>{const D=m++;p=h?e(p,v,D):(h=!0,v),i&&u.next(p)},r&&(()=>{h&&u.next(p),u.complete()})))}}(e,t,arguments.length>=2,!0))}function If(e){return e<=0?()=>Hn:Tt((t,n)=>{let i=[];t.subscribe(wt(n,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(const r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function Ab(e,t){const n=arguments.length>=2;return i=>i.pipe(e?Do((r,s)=>e(r,s,i)):$e,If(1),n?Xu(t):Rb(()=>new Qu))}function Rf(e){return Tt((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const mt="primary",dl=Symbol("RouteTitle");class C1{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function sa(e){return new C1(e)}function L1(e,t,n){const i=n.path.split("/");if(i.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||i.length<e.length))return null;const r={};for(let s=0;s<i.length;s++){const u=i[s],h=e[s];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function kr(e,t){const n=e?Object.keys(e):void 0,i=t?Object.keys(t):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!Nb(e[r],t[r]))return!1;return!0}function Nb(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),i=[...t].sort();return n.every((r,s)=>i[s]===r)}return e===t}function Fb(e){return Array.prototype.concat.apply([],e)}function Bb(e){return e.length>0?e[e.length-1]:null}function Rn(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Eo(e){return Km(e)?e:vu(e)?Ge(Promise.resolve(e)):Je(e)}const ec=!1,x1={exact:function Ub(e,t,n){if(!ss(e.segments,t.segments)||!tc(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!e.children[i]||!Ub(e.children[i],t.children[i],n))return!1;return!0},subset:Vb},jb={exact:function S1(e,t){return kr(e,t)},subset:function k1(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Nb(e[n],t[n]))},ignored:()=>!0};function zb(e,t,n){return x1[n.paths](e.root,t.root,n.matrixParams)&&jb[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function Vb(e,t,n){return Hb(e,t,t.segments,n)}function Hb(e,t,n,i){if(e.segments.length>n.length){const r=e.segments.slice(0,n.length);return!(!ss(r,n)||t.hasChildren()||!tc(r,n,i))}if(e.segments.length===n.length){if(!ss(e.segments,n)||!tc(e.segments,n,i))return!1;for(const r in t.children)if(!e.children[r]||!Vb(e.children[r],t.children[r],i))return!1;return!0}{const r=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!(ss(e.segments,r)&&tc(e.segments,r,i)&&e.children[mt])&&Hb(e.children[mt],t,s,i)}}function tc(e,t,n){return t.every((i,r)=>jb[n](e[r].parameters,i.parameters))}class xo{constructor(t=new Ct([],{}),n={},i=null){this.root=t,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sa(this.queryParams)),this._queryParamMap}toString(){return I1.serialize(this)}}class Ct{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Rn(n,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return nc(this)}}class fl{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=sa(this.parameters)),this._parameterMap}toString(){return Zb(this)}}function ss(e,t){return e.length===t.length&&e.every((n,i)=>n.path===t[i].path)}let pl=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=X({token:e,factory:function(){return new Of},providedIn:"root"}),e})();class Of{parse(t){const n=new U1(t);return new xo(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${gl(t.root,!0)}`,i=function A1(e){const t=Object.keys(e).map(n=>{const i=e[n];return Array.isArray(i)?i.map(r=>`${ic(n)}=${ic(r)}`).join("&"):`${ic(n)}=${ic(i)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${i}${"string"==typeof t.fragment?`#${function R1(e){return encodeURI(e)}(t.fragment)}`:""}`}}const I1=new Of;function nc(e){return e.segments.map(t=>Zb(t)).join("/")}function gl(e,t){if(!e.hasChildren())return nc(e);if(t){const n=e.children[mt]?gl(e.children[mt],!1):"",i=[];return Rn(e.children,(r,s)=>{s!==mt&&i.push(`${s}:${gl(r,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=function T1(e,t){let n=[];return Rn(e.children,(i,r)=>{r===mt&&(n=n.concat(t(i,r)))}),Rn(e.children,(i,r)=>{r!==mt&&(n=n.concat(t(i,r)))}),n}(e,(i,r)=>r===mt?[gl(e.children[mt],!1)]:[`${r}:${gl(i,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[mt]?`${nc(e)}/${n[0]}`:`${nc(e)}/(${n.join("//")})`}}function $b(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ic(e){return $b(e).replace(/%3B/gi,";")}function Af(e){return $b(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rc(e){return decodeURIComponent(e)}function Gb(e){return rc(e.replace(/\+/g,"%20"))}function Zb(e){return`${Af(e.path)}${function O1(e){return Object.keys(e).map(t=>`;${Af(t)}=${Af(e[t])}`).join("")}(e.parameters)}`}const N1=/^[^\/()?;=#]+/;function oc(e){const t=e.match(N1);return t?t[0]:""}const F1=/^[^=?&#]+/,j1=/^[^&#]+/;class U1{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ct([],{}):new Ct([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(i[mt]=new Ct(t,n)),i}parseSegment(){const t=oc(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new we(4009,ec);return this.capture(t),new fl(rc(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=oc(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const r=oc(this.remaining);r&&(i=r,this.capture(i))}t[rc(n)]=rc(i)}parseQueryParam(t){const n=function B1(e){const t=e.match(F1);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const u=function z1(e){const t=e.match(j1);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=Gb(n),s=Gb(i);if(t.hasOwnProperty(r)){let u=t[r];Array.isArray(u)||(u=[u],t[r]=u),u.push(s)}else t[r]=s}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=oc(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new we(4010,ec);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=mt);const u=this.parseChildren();n[s]=1===Object.keys(u).length?u[mt]:new Ct([],u),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new we(4011,ec)}}function Nf(e){return e.segments.length>0?new Ct([],{[mt]:e}):e}function sc(e){const t={};for(const i of Object.keys(e.children)){const s=sc(e.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function V1(e){if(1===e.numberOfChildren&&e.children[mt]){const t=e.children[mt];return new Ct(e.segments.concat(t.segments),t.children)}return e}(new Ct(e.segments,t))}function as(e){return e instanceof xo}const Ff=!1;function H1(e,t,n,i,r){if(0===n.length)return aa(t.root,t.root,t.root,i,r);const s=function Jb(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Yb(!0,0,e);let t=0,n=!1;const i=e.reduce((r,s,u)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return Rn(s.outlets,(p,m)=>{h[m]="string"==typeof p?p.split("/"):p}),[...r,{outlets:h}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===u?(s.split("/").forEach((h,p)=>{0==p&&"."===h||(0==p&&""===h?n=!0:".."===h?t++:""!=h&&r.push(h))}),r):[...r,s]},[]);return new Yb(n,t,i)}(n);return s.toRoot()?aa(t.root,t.root,new Ct([],{}),i,r):function u(p){const m=function G1(e,t,n,i){if(e.isAbsolute)return new la(t.root,!0,0);if(-1===i)return new la(n,n===t.root,0);return function Qb(e,t,n){let i=e,r=t,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new we(4005,Ff&&"Invalid number of '../'");r=i.segments.length}return new la(i,!1,r-s)}(n,i+(ml(e.commands[0])?0:1),e.numberOfDoubleDots)}(s,t,e.snapshot?._urlSegment,p),v=m.processChildren?ua(m.segmentGroup,m.index,s.commands):Bf(m.segmentGroup,m.index,s.commands);return aa(t.root,m.segmentGroup,v,i,r)}(e.snapshot?._lastPathIndex)}function ml(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function _l(e){return"object"==typeof e&&null!=e&&e.outlets}function aa(e,t,n,i,r){let u,s={};i&&Rn(i,(p,m)=>{s[m]=Array.isArray(p)?p.map(v=>`${v}`):`${p}`}),u=e===t?n:Kb(e,t,n);const h=Nf(sc(u));return new xo(h,s,r)}function Kb(e,t,n){const i={};return Rn(e.children,(r,s)=>{i[s]=r===t?n:Kb(r,t,n)}),new Ct(e.segments,i)}class Yb{constructor(t,n,i){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&ml(i[0]))throw new we(4003,Ff&&"Root segment cannot have matrix parameters");const r=i.find(_l);if(r&&r!==Bb(i))throw new we(4004,Ff&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class la{constructor(t,n,i){this.segmentGroup=t,this.processChildren=n,this.index=i}}function Bf(e,t,n){if(e||(e=new Ct([],{})),0===e.segments.length&&e.hasChildren())return ua(e,t,n);const i=function q1(e,t,n){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return s;const u=e.segments[r],h=n[i];if(_l(h))break;const p=`${h}`,m=i<n.length-1?n[i+1]:null;if(r>0&&void 0===p)break;if(p&&m&&"object"==typeof m&&void 0===m.outlets){if(!ew(p,m,u))return s;i+=2}else{if(!ew(p,{},u))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){const s=new Ct(e.segments.slice(0,i.pathIndex),{});return s.children[mt]=new Ct(e.segments.slice(i.pathIndex),e.children),ua(s,0,r)}return i.match&&0===r.length?new Ct(e.segments,{}):i.match&&!e.hasChildren()?jf(e,t,n):i.match?ua(e,0,r):jf(e,t,n)}function ua(e,t,n){if(0===n.length)return new Ct(e.segments,{});{const i=function Z1(e){return _l(e[0])?e[0].outlets:{[mt]:e}}(n),r={};return!i[mt]&&e.children[mt]&&1===e.numberOfChildren&&0===e.children[mt].segments.length?ua(e.children[mt],t,n):(Rn(i,(s,u)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[u]=Bf(e.children[u],t,s))}),Rn(e.children,(s,u)=>{void 0===i[u]&&(r[u]=s)}),new Ct(e.segments,r))}}function jf(e,t,n){const i=e.segments.slice(0,t);let r=0;for(;r<n.length;){const s=n[r];if(_l(s)){const p=W1(s.outlets);return new Ct(i,p)}if(0===r&&ml(n[0])){i.push(new fl(e.segments[t].path,Xb(n[0]))),r++;continue}const u=_l(s)?s.outlets[mt]:`${s}`,h=r<n.length-1?n[r+1]:null;u&&h&&ml(h)?(i.push(new fl(u,Xb(h))),r+=2):(i.push(new fl(u,{})),r++)}return new Ct(i,{})}function W1(e){const t={};return Rn(e,(n,i)=>{"string"==typeof n&&(n=[n]),null!==n&&(t[i]=jf(new Ct([],{}),0,n))}),t}function Xb(e){const t={};return Rn(e,(n,i)=>t[i]=`${n}`),t}function ew(e,t,n){return e==n.path&&kr(t,n.parameters)}const yl="imperative";class Pr{constructor(t,n){this.id=t,this.url=n}}class zf extends Pr{constructor(t,n,i="imperative",r=null){super(t,n),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ls extends Pr{constructor(t,n,i){super(t,n),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ac extends Pr{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class lc extends Pr{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=16}}class Uf extends Pr{constructor(t,n,i,r){super(t,n),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class K1 extends Pr{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Y1 extends Pr{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class J1 extends Pr{constructor(t,n,i,r,s){super(t,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Q1 extends Pr{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class X1 extends Pr{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eT{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class tT{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class nT{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iT{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rT{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oT{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tw{constructor(t,n,i){this.routerEvent=t,this.position=n,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let lT=(()=>{class e{createUrlTree(n,i,r,s,u,h){return H1(n||i.root,r,s,u,h)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac}),e})(),cT=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=X({token:e,factory:function(t){return lT.\u0275fac(t)},providedIn:"root"}),e})();class nw{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=Vf(t,this._root);return n?n.children.map(i=>i.value):[]}firstChild(t){const n=Vf(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=Hf(t,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Hf(t,this._root).map(n=>n.value)}}function Vf(e,t){if(e===t.value)return t;for(const n of t.children){const i=Vf(e,n);if(i)return i}return null}function Hf(e,t){if(e===t.value)return[t];for(const n of t.children){const i=Hf(e,n);if(i.length)return i.unshift(t),i}return[]}class no{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function ca(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class iw extends nw{constructor(t,n){super(t),this.snapshot=n,$f(this,t)}toString(){return this.snapshot.toString()}}function rw(e,t){const n=function hT(e,t){const u=new uc([],{},{},"",{},mt,t,null,e.root,-1,{});return new sw("",new no(u,[]))}(e,t),i=new lr([new fl("",{})]),r=new lr({}),s=new lr({}),u=new lr({}),h=new lr(""),p=new ha(i,r,u,h,s,mt,t,n.root);return p.snapshot=n.root,new iw(new no(p,[]),n)}class ha{constructor(t,n,i,r,s,u,h,p){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=u,this.component=h,this.title=this.data?.pipe(nt(m=>m[dl]))??Je(void 0),this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(nt(t=>sa(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(nt(t=>sa(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ow(e,t="emptyOnly"){const n=e.pathFromRoot;let i=0;if("always"!==t)for(i=n.length-1;i>=1;){const r=n[i],s=n[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function dT(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(i))}class uc{get title(){return this.data?.[dl]}constructor(t,n,i,r,s,u,h,p,m,v,D){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=u,this.component=h,this.routeConfig=p,this._urlSegment=m,this._lastPathIndex=v,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=sa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class sw extends nw{constructor(t,n){super(n),this.url=t,$f(this,n)}toString(){return aw(this._root)}}function $f(e,t){t.value._routerState=e,t.children.forEach(n=>$f(e,n))}function aw(e){const t=e.children.length>0?` { ${e.children.map(aw).join(", ")} } `:"";return`${e.value}${t}`}function Gf(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,kr(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),kr(t.params,n.params)||e.params.next(n.params),function E1(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!kr(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),kr(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Zf(e,t){const n=kr(e.params,t.params)&&function P1(e,t){return ss(e,t)&&e.every((n,i)=>kr(n.parameters,t[i].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||Zf(e.parent,t.parent))}function vl(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=t.value;const r=function pT(e,t,n){return t.children.map(i=>{for(const r of n.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return vl(e,i,r);return vl(e,i)})}(e,t,n);return new no(i,r)}{if(e.shouldAttach(t.value)){const s=e.retrieve(t.value);if(null!==s){const u=s.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(h=>vl(e,h)),u}}const i=function gT(e){return new ha(new lr(e.url),new lr(e.params),new lr(e.queryParams),new lr(e.fragment),new lr(e.data),e.outlet,e.component,e)}(t.value),r=t.children.map(s=>vl(e,s));return new no(i,r)}}const qf="ngNavigationCancelingError";function lw(e,t){const{redirectTo:n,navigationBehaviorOptions:i}=as(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=uw(!1,0,t);return r.url=n,r.navigationBehaviorOptions=i,r}function uw(e,t,n){const i=new Error("NavigationCancelingError: "+(e||""));return i[qf]=!0,i.cancellationCode=t,n&&(i.url=n),i}function cw(e){return hw(e)&&as(e.url)}function hw(e){return e&&e[qf]}class mT{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new bl,this.attachRef=null}}let bl=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,i){const r=this.getOrCreateContext(n);r.outlet=i,this.contexts.set(n,r)}onChildOutletDestroyed(n){const i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new mT,this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const cc=!1;let dw=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=mt,this.activateEvents=new ei,this.deactivateEvents=new ei,this.attachEvents=new ei,this.detachEvents=new ei,this.parentContexts=yt(bl),this.location=yt(rr),this.changeDetector=yt(Wd),this.environmentInjector=yt(qr)}ngOnChanges(n){if(n.name){const{firstChange:i,previousValue:r}=n.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new we(4012,cc);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new we(4012,cc);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new we(4012,cc);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new we(4013,cc);this._activatedRoute=n;const r=this.location,u=n.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,p=new _T(n,h,r.injector);if(i&&function yT(e){return!!e.resolveComponentFactory}(i)){const m=i.resolveComponentFactory(u);this.activated=r.createComponent(m,r.length,p)}else this.activated=r.createComponent(u,{index:r.length,injector:p,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=gn({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ht]}),e})();class _T{constructor(t,n,i){this.route=t,this.childContexts=n,this.parent=i}get(t,n){return t===ha?this.route:t===bl?this.childContexts:this.parent.get(t,n)}}let Wf=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ki({type:e,selectors:[["ng-component"]],standalone:!0,features:[vy],decls:1,vars:0,template:function(n,i){1&n&&tr(0,"router-outlet")},dependencies:[dw],encapsulation:2}),e})();function fw(e,t){return e.providers&&!e._injector&&(e._injector=Eu(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Yf(e){const t=e.children&&e.children.map(Yf),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==mt&&(n.component=Wf),n}function Bi(e){return e.outlet||mt}function pw(e,t){const n=e.filter(i=>Bi(i)===t);return n.push(...e.filter(i=>Bi(i)!==t)),n}function wl(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class DT{constructor(t,n,i,r){this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r}activate(t){const n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,t),Gf(this.futureState.root),this.activateChildRoutes(n,i,t)}deactivateChildRoutes(t,n,i){const r=ca(n);t.children.forEach(s=>{const u=s.value.outlet;this.deactivateRoutes(s,r[u],i),delete r[u]}),Rn(r,(s,u)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,n,i){const r=t.value,s=n?n.value:null;if(r===s)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(t,n,u.children)}else this.deactivateChildRoutes(t,n,i);else s&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,s=ca(t);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:h})}}deactivateRouteAndOutlet(t,n){const i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,s=ca(t);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,n,i){const r=ca(n);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new oT(s.value.snapshot))}),t.children.length&&this.forwardEvent(new iT(t.value.snapshot))}activateRoutes(t,n,i){const r=t.value,s=n?n.value:null;if(Gf(r),r===s)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,n,u.children)}else this.activateChildRoutes(t,n,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),Gf(h.route.value),this.activateChildRoutes(t,null,u.children)}else{const h=wl(r.snapshot),p=h?.get(Ua)??null;u.attachRef=null,u.route=r,u.resolver=p,u.injector=h,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}class gw{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class hc{constructor(t,n){this.component=t,this.route=n}}function CT(e,t,n){const i=e._root;return Ml(i,t?t._root:null,n,[i.value])}function da(e,t){const n=Symbol(),i=t.get(e,n);return i===n?"function"!=typeof e||function We(e){return null!==Ee(e)}(e)?t.get(e):e:i}function Ml(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=ca(t);return e.children.forEach(u=>{(function ET(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,u=t?t.value:null,h=n?n.getContext(e.value.outlet):null;if(u&&s.routeConfig===u.routeConfig){const p=function xT(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!ss(e.url,t.url);case"pathParamsOrQueryParamsChange":return!ss(e.url,t.url)||!kr(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zf(e,t)||!kr(e.queryParams,t.queryParams);default:return!Zf(e,t)}}(u,s,s.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new gw(i)):(s.data=u.data,s._resolvedData=u._resolvedData),Ml(e,t,s.component?h?h.children:null:n,i,r),p&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new hc(h.outlet.component,u))}else u&&Dl(t,h,r),r.canActivateChecks.push(new gw(i)),Ml(e,null,s.component?h?h.children:null:n,i,r)})(u,s[u.value.outlet],n,i.concat([u.value]),r),delete s[u.value.outlet]}),Rn(s,(u,h)=>Dl(u,n.getContext(h),r)),r}function Dl(e,t,n){const i=ca(e),r=e.value;Rn(i,(s,u)=>{Dl(s,r.component?t?t.children.getContext(u):null:t,n)}),n.canDeactivateChecks.push(new hc(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Cl(e){return"function"==typeof e}function Jf(e){return e instanceof Qu||"EmptyError"===e?.name}const dc=Symbol("INITIAL_VALUE");function fa(){return Sr(e=>kb(e.map(t=>t.pipe(hl(1),function v1(...e){const t=Si(e);return Tt((n,i)=>{(t?Pf(e,n,t):Pf(e,n)).subscribe(i)})}(dc)))).pipe(nt(t=>{for(const n of t)if(!0!==n){if(n===dc)return dc;if(!1===n||n instanceof xo)return n}return!0}),Do(t=>t!==dc),hl(1)))}function mw(e){return function At(...e){return Se(e)}(Un(t=>{if(as(t))throw lw(0,t)}),nt(t=>!0===t))}const Qf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _w(e,t,n,i,r){const s=Xf(e,t,n);return s.matched?function $T(e,t,n,i){const r=t.canMatch;return r&&0!==r.length?Je(r.map(u=>{const h=da(u,e);return Eo(function RT(e){return e&&Cl(e.canMatch)}(h)?h.canMatch(t,n):e.runInContext(()=>h(t,n)))})).pipe(fa(),mw()):Je(!0)}(i=fw(t,i),t,n).pipe(nt(u=>!0===u?s:{...Qf})):Je(s)}function Xf(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...Qf}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const r=(t.matcher||L1)(n,e,t);if(!r)return{...Qf};const s={};Rn(r.posParams,(h,p)=>{s[p]=h.path});const u=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function fc(e,t,n,i){if(n.length>0&&function qT(e,t,n){return n.some(i=>pc(e,t,i)&&Bi(i)!==mt)}(e,n,i)){const s=new Ct(t,function ZT(e,t,n,i){const r={};r[mt]=i,i._sourceSegment=e,i._segmentIndexShift=t.length;for(const s of n)if(""===s.path&&Bi(s)!==mt){const u=new Ct([],{});u._sourceSegment=e,u._segmentIndexShift=t.length,r[Bi(s)]=u}return r}(e,t,i,new Ct(n,e.children)));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function WT(e,t,n){return n.some(i=>pc(e,t,i))}(e,n,i)){const s=new Ct(e.segments,function GT(e,t,n,i,r){const s={};for(const u of i)if(pc(e,n,u)&&!r[Bi(u)]){const h=new Ct([],{});h._sourceSegment=e,h._segmentIndexShift=t.length,s[Bi(u)]=h}return{...r,...s}}(e,t,n,i,e.children));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}const r=new Ct(e.segments,e.children);return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:n}}function pc(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function yw(e,t,n,i){return!!(Bi(e)===i||i!==mt&&pc(t,n,e))&&("**"===e.path||Xf(t,e,n).matched)}function vw(e,t,n){return 0===t.length&&!e.children[n]}const gc=!1;class mc{constructor(t){this.segmentGroup=t||null}}class bw{constructor(t){this.urlTree=t}}function Ll(e){return cl(new mc(e))}function ww(e){return cl(new bw(e))}class QT{constructor(t,n,i,r,s){this.injector=t,this.configLoader=n,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const t=fc(this.urlTree.root,[],[],this.config).segmentGroup,n=new Ct(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,n,mt).pipe(nt(s=>this.createUrlTree(sc(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Lo(s=>{if(s instanceof bw)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof mc?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,mt).pipe(nt(r=>this.createUrlTree(sc(r),t.queryParams,t.fragment))).pipe(Lo(r=>{throw r instanceof mc?this.noMatchError(r):r}))}noMatchError(t){return new we(4002,gc)}createUrlTree(t,n,i){const r=Nf(t);return new xo(r,n,i)}expandSegmentGroup(t,n,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,n,i).pipe(nt(s=>new Ct([],s))):this.expandSegment(t,i,n,i.segments,r,!0)}expandChildren(t,n,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return Ge(r).pipe(os(s=>{const u=i.children[s],h=pw(n,s);return this.expandSegmentGroup(t,h,u,s).pipe(nt(p=>({segment:p,outlet:s})))}),Ob((s,u)=>(s[u.outlet]=u.segment,s),{}),Ab())}expandSegment(t,n,i,r,s,u){return Ge(i).pipe(os(h=>this.expandSegmentAgainstRoute(t,n,i,h,r,s,u).pipe(Lo(m=>{if(m instanceof mc)return Je(null);throw m}))),Co(h=>!!h),Lo((h,p)=>{if(Jf(h))return vw(n,r,s)?Je(new Ct([],{})):Ll(n);throw h}))}expandSegmentAgainstRoute(t,n,i,r,s,u,h){return yw(r,n,s,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,n,r,s,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,n,i,r,s,u):Ll(n):Ll(n)}expandSegmentAgainstRouteUsingRedirect(t,n,i,r,s,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,i,r,s,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?ww(s):this.lineralizeSegments(i,s).pipe(Zt(u=>{const h=new Ct(u,{});return this.expandSegment(t,h,n,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,i,r,s,u){const{matched:h,consumedSegments:p,remainingSegments:m,positionalParamSegments:v}=Xf(n,r,s);if(!h)return Ll(n);const D=this.applyRedirectCommands(p,r.redirectTo,v);return r.redirectTo.startsWith("/")?ww(D):this.lineralizeSegments(r,D).pipe(Zt(R=>this.expandSegment(t,n,i,R.concat(m),u,!1)))}matchSegmentAgainstRoute(t,n,i,r,s){return"**"===i.path?(t=fw(i,t),i.loadChildren?(i._loadedRoutes?Je({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe(nt(h=>(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,new Ct(r,{})))):Je(new Ct(r,{}))):_w(n,i,r,t).pipe(Sr(({matched:u,consumedSegments:h,remainingSegments:p})=>u?this.getChildConfig(t=i._injector??t,i,r).pipe(Zt(v=>{const D=v.injector??t,R=v.routes,{segmentGroup:$,slicedSegments:te}=fc(n,h,p,R),le=new Ct($.segments,$.children);if(0===te.length&&le.hasChildren())return this.expandChildren(D,R,le).pipe(nt(fe=>new Ct(h,fe)));if(0===R.length&&0===te.length)return Je(new Ct(h,{}));const de=Bi(i)===s;return this.expandSegment(D,le,R,te,de?mt:s,!0).pipe(nt(Oe=>new Ct(h.concat(Oe.segments),Oe.children)))})):Ll(n)))}getChildConfig(t,n,i){return n.children?Je({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?Je({routes:n._loadedRoutes,injector:n._loadedInjector}):function HT(e,t,n,i){const r=t.canLoad;return void 0===r||0===r.length?Je(!0):Je(r.map(u=>{const h=da(u,e);return Eo(function kT(e){return e&&Cl(e.canLoad)}(h)?h.canLoad(t,n):e.runInContext(()=>h(t,n)))})).pipe(fa(),mw())}(t,n,i).pipe(Zt(r=>r?this.configLoader.loadChildren(t,n).pipe(Un(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function YT(e){return cl(uw(gc,3))}())):Je({routes:[],injector:t})}lineralizeSegments(t,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Je(i);if(r.numberOfChildren>1||!r.children[mt])return t.redirectTo,cl(new we(4e3,gc));r=r.children[mt]}}applyRedirectCommands(t,n,i){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,i)}applyRedirectCreateUrlTree(t,n,i,r){const s=this.createSegmentGroup(t,n.root,i,r);return new xo(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const i={};return Rn(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[s]=n[h]}else i[s]=r}),i}createSegmentGroup(t,n,i,r){const s=this.createSegments(t,n.segments,i,r);let u={};return Rn(n.children,(h,p)=>{u[p]=this.createSegmentGroup(t,h,i,r)}),new Ct(s,u)}createSegments(t,n,i,r){return n.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,n,i){const r=i[n.path.substring(1)];if(!r)throw new we(4001,gc);return r}findOrReturn(t,n){let i=0;for(const r of n){if(r.path===t.path)return n.splice(i),r;i++}return t}}class eI{}class iI{constructor(t,n,i,r,s,u,h){this.injector=t,this.rootComponentType=n,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=u,this.urlSerializer=h}recognize(){const t=fc(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,mt).pipe(nt(n=>{if(null===n)return null;const i=new uc([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},mt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new no(i,n),s=new sw(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const n=t.value,i=ow(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,n,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,n,i):this.processSegment(t,n,i,i.segments,r)}processChildren(t,n,i){return Ge(Object.keys(i.children)).pipe(os(r=>{const s=i.children[r],u=pw(n,r);return this.processSegmentGroup(t,u,s,r)}),Ob((r,s)=>r&&s?(r.push(...s),r):null),function M1(e,t=!1){return Tt((n,i)=>{let r=0;n.subscribe(wt(i,s=>{const u=e(s,r++);(u||t)&&i.next(s),!u&&i.complete()}))})}(r=>null!==r),Xu(null),Ab(),nt(r=>{if(null===r)return null;const s=Dw(r);return function rI(e){e.sort((t,n)=>t.value.outlet===mt?-1:n.value.outlet===mt?1:t.value.outlet.localeCompare(n.value.outlet))}(s),s}))}processSegment(t,n,i,r,s){return Ge(n).pipe(os(u=>this.processSegmentAgainstRoute(u._injector??t,u,i,r,s)),Co(u=>!!u),Lo(u=>{if(Jf(u))return vw(i,r,s)?Je([]):Je(null);throw u}))}processSegmentAgainstRoute(t,n,i,r,s){if(n.redirectTo||!yw(n,i,r,s))return Je(null);let u;if("**"===n.path){const h=r.length>0?Bb(r).parameters:{},p=Lw(i)+r.length;u=Je({snapshot:new uc(r,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ew(n),Bi(n),n.component??n._loadedComponent??null,n,Cw(i),p,xw(n)),consumedSegments:[],remainingSegments:[]})}else u=_w(i,n,r,t).pipe(nt(({matched:h,consumedSegments:p,remainingSegments:m,parameters:v})=>{if(!h)return null;const D=Lw(i)+p.length;return{snapshot:new uc(p,v,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ew(n),Bi(n),n.component??n._loadedComponent??null,n,Cw(i),D,xw(n)),consumedSegments:p,remainingSegments:m}}));return u.pipe(Sr(h=>{if(null===h)return Je(null);const{snapshot:p,consumedSegments:m,remainingSegments:v}=h;t=n._injector??t;const D=n._loadedInjector??t,R=function oI(e){return e.children?e.children:e.loadChildren?e._loadedRoutes:[]}(n),{segmentGroup:$,slicedSegments:te}=fc(i,m,v,R.filter(de=>void 0===de.redirectTo));if(0===te.length&&$.hasChildren())return this.processChildren(D,R,$).pipe(nt(de=>null===de?null:[new no(p,de)]));if(0===R.length&&0===te.length)return Je([new no(p,[])]);const le=Bi(n)===s;return this.processSegment(D,R,$,te,le?mt:s).pipe(nt(de=>null===de?null:[new no(p,de)]))}))}}function sI(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Dw(e){const t=[],n=new Set;for(const i of e){if(!sI(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),n.add(r)):t.push(i)}for(const i of n){const r=Dw(i.children);t.push(new no(i.value,r))}return t.filter(i=>!n.has(i))}function Cw(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Lw(e){let t=e,n=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift??0;return n-1}function Ew(e){return e.data||{}}function xw(e){return e.resolve||{}}function Sw(e){return"string"==typeof e.title||null===e.title}function ep(e){return Sr(t=>{const n=e(t);return n?Ge(n).pipe(nt(()=>t)):Je(t)})}const pa=new Xe("ROUTES");let tp=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=yt(lv)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Je(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const i=Eo(n.loadComponent()).pipe(nt(Pw),Un(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Rf(()=>{this.componentLoaders.delete(n)})),r=new Ib(i,()=>new St).pipe(Tf());return this.componentLoaders.set(n,r),r}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Je({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(nt(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);let p,m,v=!1;Array.isArray(h)?m=h:(p=h.create(n).injector,m=Fb(p.get(pa,[],Ve.Self|Ve.Optional)));return{routes:m.map(Yf),injector:p}}),Rf(()=>{this.childrenLoaders.delete(i)})),u=new Ib(s,()=>new St).pipe(Tf());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(n){return Eo(n()).pipe(nt(Pw),Zt(i=>i instanceof _y||Array.isArray(i)?Je(i):Ge(this.compiler.compileModuleAsync(i))))}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Pw(e){return function pI(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let yc=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new St,this.configLoader=yt(tp),this.environmentInjector=yt(qr),this.urlSerializer=yt(pl),this.rootContexts=yt(bl),this.navigationId=0,this.afterPreactivation=()=>Je(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new tT(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new eT(r))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:i})}setupNavigations(n){return this.transitions=new lr({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:yl,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Do(i=>0!==i.id),nt(i=>({...i,extractedUrl:n.urlHandlingStrategy.extract(i.rawUrl)})),Sr(i=>{let r=!1,s=!1;return Je(i).pipe(Un(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Sr(u=>{const h=n.browserUrlTree.toString(),p=!n.navigated||u.extractedUrl.toString()!==h||h!==n.currentUrlTree.toString();if(!p&&"reload"!==(u.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const v="";return this.events.next(new lc(u.id,n.serializeUrl(i.rawUrl),v,0)),n.rawUrlTree=u.rawUrl,u.resolve(null),Hn}if(n.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Tw(u.source)&&(n.browserUrlTree=u.extractedUrl),Je(u).pipe(Sr(v=>{const D=this.transitions?.getValue();return this.events.next(new zf(v.id,this.urlSerializer.serialize(v.extractedUrl),v.source,v.restoredState)),D!==this.transitions?.getValue()?Hn:Promise.resolve(v)}),function XT(e,t,n,i){return Sr(r=>function JT(e,t,n,i,r){return new QT(e,t,n,i,r).apply()}(e,t,n,r.extractedUrl,i).pipe(nt(s=>({...r,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),Un(v=>{this.currentNavigation={...this.currentNavigation,finalUrl:v.urlAfterRedirects},i.urlAfterRedirects=v.urlAfterRedirects}),function lI(e,t,n,i,r){return Zt(s=>function nI(e,t,n,i,r,s,u="emptyOnly"){return new iI(e,t,n,i,r,u,s).recognize().pipe(Sr(h=>null===h?function tI(e){return new ot(t=>t.error(e))}(new eI):Je(h)))}(e,t,n,s.urlAfterRedirects,i.serialize(s.urlAfterRedirects),i,r).pipe(nt(u=>({...s,targetSnapshot:u}))))}(this.environmentInjector,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Un(v=>{if(i.targetSnapshot=v.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!v.extras.skipLocationChange){const R=n.urlHandlingStrategy.merge(v.urlAfterRedirects,v.rawUrl);n.setBrowserUrl(R,v)}n.browserUrlTree=v.urlAfterRedirects}const D=new K1(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(D)}));if(p&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:v,extractedUrl:D,source:R,restoredState:$,extras:te}=u,le=new zf(v,this.urlSerializer.serialize(D),R,$);this.events.next(le);const de=rw(D,this.rootComponentType).snapshot;return Je(i={...u,targetSnapshot:de,urlAfterRedirects:D,extras:{...te,skipLocationChange:!1,replaceUrl:!1}})}{const v="";return this.events.next(new lc(u.id,n.serializeUrl(i.extractedUrl),v,1)),n.rawUrlTree=u.rawUrl,u.resolve(null),Hn}}),Un(u=>{const h=new Y1(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),nt(u=>i={...u,guards:CT(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),function AT(e,t){return Zt(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:u}}=n;return 0===u.length&&0===s.length?Je({...n,guardsResult:!0}):function NT(e,t,n,i){return Ge(e).pipe(Zt(r=>function VT(e,t,n,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?Je(s.map(h=>{const p=wl(t)??r,m=da(h,p);return Eo(function IT(e){return e&&Cl(e.canDeactivate)}(m)?m.canDeactivate(e,t,n,i):p.runInContext(()=>m(e,t,n,i))).pipe(Co())})).pipe(fa()):Je(!0)}(r.component,r.route,n,t,i)),Co(r=>!0!==r,!0))}(u,i,r,e).pipe(Zt(h=>h&&function ST(e){return"boolean"==typeof e}(h)?function FT(e,t,n,i){return Ge(t).pipe(os(r=>Pf(function jT(e,t){return null!==e&&t&&t(new nT(e)),Je(!0)}(r.route.parent,i),function BT(e,t){return null!==e&&t&&t(new rT(e)),Je(!0)}(r.route,i),function UT(e,t,n){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(u=>function LT(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(u)).filter(u=>null!==u).map(u=>Tb(()=>Je(u.guards.map(p=>{const m=wl(u.node)??n,v=da(p,m);return Eo(function TT(e){return e&&Cl(e.canActivateChild)}(v)?v.canActivateChild(i,e):m.runInContext(()=>v(i,e))).pipe(Co())})).pipe(fa())));return Je(s).pipe(fa())}(e,r.path,n),function zT(e,t,n){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Je(!0);const r=i.map(s=>Tb(()=>{const u=wl(t)??n,h=da(s,u);return Eo(function PT(e){return e&&Cl(e.canActivate)}(h)?h.canActivate(t,e):u.runInContext(()=>h(t,e))).pipe(Co())}));return Je(r).pipe(fa())}(e,r.route,n))),Co(r=>!0!==r,!0))}(i,s,e,t):Je(h)),nt(h=>({...n,guardsResult:h})))})}(this.environmentInjector,u=>this.events.next(u)),Un(u=>{if(i.guardsResult=u.guardsResult,as(u.guardsResult))throw lw(0,u.guardsResult);const h=new J1(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(h)}),Do(u=>!!u.guardsResult||(n.restoreHistory(u),this.cancelNavigationTransition(u,"",3),!1)),ep(u=>{if(u.guards.canActivateChecks.length)return Je(u).pipe(Un(h=>{const p=new Q1(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),Sr(h=>{let p=!1;return Je(h).pipe(function uI(e,t){return Zt(n=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return Je(n);let s=0;return Ge(r).pipe(os(u=>function cI(e,t,n,i){const r=e.routeConfig,s=e._resolve;return void 0!==r?.title&&!Sw(r)&&(s[dl]=r.title),function hI(e,t,n,i){const r=function dI(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===r.length)return Je({});const s={};return Ge(r).pipe(Zt(u=>function fI(e,t,n,i){const r=wl(t)??i,s=da(e,r);return Eo(s.resolve?s.resolve(t,n):r.runInContext(()=>s(t,n)))}(e[u],t,n,i).pipe(Co(),Un(h=>{s[u]=h}))),If(1),function D1(e){return nt(()=>e)}(s),Lo(u=>Jf(u)?Hn:cl(u)))}(s,e,t,i).pipe(nt(u=>(e._resolvedData=u,e.data=ow(e,n).resolve,r&&Sw(r)&&(e.data[dl]=r.title),null)))}(u.route,i,e,t)),Un(()=>s++),If(1),Zt(u=>s===r.length?Je(n):Hn))})}(n.paramsInheritanceStrategy,this.environmentInjector),Un({next:()=>p=!0,complete:()=>{p||(n.restoreHistory(h),this.cancelNavigationTransition(h,"",2))}}))}),Un(h=>{const p=new X1(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),ep(u=>{const h=p=>{const m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(Un(v=>{p.component=v}),nt(()=>{})));for(const v of p.children)m.push(...h(v));return m};return kb(h(u.targetSnapshot.root)).pipe(Xu(),hl(1))}),ep(()=>this.afterPreactivation()),nt(u=>{const h=function fT(e,t,n){const i=vl(e,t._root,n?n._root:void 0);return new iw(i,t)}(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return i={...u,targetRouterState:h}}),Un(u=>{n.currentUrlTree=u.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),n.routerState=u.targetRouterState,"deferred"===n.urlUpdateStrategy&&(u.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,u),n.browserUrlTree=u.urlAfterRedirects)}),((e,t,n)=>nt(i=>(new DT(t,i.targetRouterState,i.currentRouterState,n).activate(e),i)))(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u)),Un({next:u=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new ls(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{r=!0}}),Rf(()=>{r||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Lo(u=>{if(s=!0,hw(u)){cw(u)||(n.navigated=!0,n.restoreHistory(i,!0));const h=new ac(i.id,this.urlSerializer.serialize(i.extractedUrl),u.message,u.cancellationCode);if(this.events.next(h),cw(u)){const p=n.urlHandlingStrategy.merge(u.url,n.rawUrlTree),m={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||Tw(i.source)};n.scheduleNavigation(p,yl,null,m,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{n.restoreHistory(i,!0);const h=new Uf(i.id,this.urlSerializer.serialize(i.extractedUrl),u,i.targetSnapshot??void 0);this.events.next(h);try{i.resolve(n.errorHandler(u))}catch(p){i.reject(p)}}return Hn}))}))}cancelNavigationTransition(n,i,r){const s=new ac(n.id,this.urlSerializer.serialize(n.extractedUrl),i,r);this.events.next(s),n.resolve(!1)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Tw(e){return e!==yl}let Iw=(()=>{class e{buildTitle(n){let i,r=n.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===mt);return i}getResolvedTitleForRoute(n){return n.data[dl]}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=X({token:e,factory:function(){return yt(gI)},providedIn:"root"}),e})(),gI=(()=>{class e extends Iw{constructor(n){super(),this.title=n}updateTitle(n){const i=this.buildTitle(n);void 0!==i&&this.title.setTitle(i)}}return e.\u0275fac=function(n){return new(n||e)(He(Eb))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),mI=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=X({token:e,factory:function(){return yt(yI)},providedIn:"root"}),e})();class _I{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let yI=(()=>{class e extends _I{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=function Bp(e){return Zi(()=>{const t=e.prototype.constructor,n=t[Wi]||Xc(t),i=Object.prototype;let r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){const s=r[Wi]||Xc(r);if(s&&s!==n)return s;r=Object.getPrototypeOf(r)}return s=>new s})}(e)))(i||e)}}(),e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const vc=new Xe("",{providedIn:"root",factory:()=>({})});let bI=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=X({token:e,factory:function(){return yt(wI)},providedIn:"root"}),e})(),wI=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function MI(e){throw e}function DI(e,t,n){return t.parse("/")}const CI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},LI={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Di=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=yt(qx),this.isNgZoneEnabled=!1,this.options=yt(vc,{optional:!0})||{},this.errorHandler=this.options.errorHandler||MI,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||DI,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=yt(bI),this.routeReuseStrategy=yt(mI),this.urlCreationStrategy=yt(cT),this.titleStrategy=yt(Iw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Fb(yt(pa,{optional:!0})??[]),this.navigationTransitions=yt(yc),this.urlSerializer=yt(pl),this.location=yt(rf),this.isNgZoneEnabled=yt(un)instanceof un&&un.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new xo,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=rw(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),yl,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const i="popstate"===n.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,i,n.state)},0)}))}navigateToSyncWithBrowser(n,i,r){const s={replaceUrl:!0},u=r?.navigationId?r:null;if(r){const p={...r};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(s.state=p)}const h=this.parseUrl(n);this.scheduleNavigation(h,i,u,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(Yf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,i={}){const{relativeTo:r,queryParams:s,fragment:u,queryParamsHandling:h,preserveFragment:p}=i,m=p?this.currentUrlTree.fragment:u;let v=null;switch(h){case"merge":v={...this.currentUrlTree.queryParams,...s};break;case"preserve":v=this.currentUrlTree.queryParams;break;default:v=s||null}return null!==v&&(v=this.removeEmptyProps(v)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,n,v,m??null)}navigateByUrl(n,i={skipLocationChange:!1}){const r=as(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,yl,null,i)}navigate(n,i={skipLocationChange:!1}){return function EI(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new we(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let i;try{i=this.urlSerializer.parse(n)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,n)}return i}isActive(n,i){let r;if(r=!0===i?{...CI}:!1===i?{...LI}:i,as(n))return zb(this.currentUrlTree,n,r);const s=this.parseUrl(n);return zb(this.currentUrlTree,s,r)}removeEmptyProps(n){return Object.keys(n).reduce((i,r)=>{const s=n[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(n,i,r,s,u){if(this.disposed)return Promise.resolve(!1);let h,p,m,v;return u?(h=u.resolve,p=u.reject,m=u.promise):m=new Promise((D,R)=>{h=D,p=R}),v="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:v,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:h,reject:p,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(D=>Promise.reject(D))}setBrowserUrl(n,i){const r=this.urlSerializer.serialize(n),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(n,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class Rw{}let kI=(()=>{class e{constructor(n,i,r,s,u){this.router=n,this.injector=r,this.preloadingStrategy=s,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(Do(n=>n instanceof ls),os(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=Eu(s.providers,n,`Route: ${s.path}`));const u=s._injector??n,h=s._loadedInjector??u;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(u,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(h,s.children??s._loadedRoutes))}return Ge(r).pipe(xi())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(n,i):Je(null);const s=r.pipe(Zt(u=>null===u?Je(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??n,u.routes))));return i.loadComponent&&!i._loadedComponent?Ge([s,this.loader.loadComponent(i)]).pipe(xi()):s})}}return e.\u0275fac=function(n){return new(n||e)(He(Di),He(lv),He(qr),He(Rw),He(tp))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const rp=new Xe("");let Ow=(()=>{class e{constructor(n,i,r,s,u={}){this.urlSerializer=n,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof zf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ls&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof tw&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new tw(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return e.\u0275fac=function(n){!function pm(){throw new Error("invalid")}()},e.\u0275prov=X({token:e,factory:e.\u0275fac}),e})();var Ci=(()=>((Ci=Ci||{})[Ci.COMPLETE=0]="COMPLETE",Ci[Ci.FAILED=1]="FAILED",Ci[Ci.REDIRECTING=2]="REDIRECTING",Ci))();const ga=!1;function So(e,t){return{\u0275kind:e,\u0275providers:t}}const op=new Xe("",{providedIn:"root",factory:()=>!1});function Nw(){const e=yt(Kr);return t=>{const n=e.get(Ru);if(t!==n.components[0])return;const i=e.get(Di),r=e.get(Fw);1===e.get(sp)&&i.initialNavigation(),e.get(Bw,null,Ve.Optional)?.setUpPreloading(),e.get(rp,null,Ve.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const Fw=new Xe(ga?"bootstrap done indicator":"",{factory:()=>new St}),sp=new Xe(ga?"initial navigation":"",{providedIn:"root",factory:()=>1});function OI(){let e=[];return e=ga?[{provide:ou,multi:!0,useFactory:()=>{const t=yt(Di);return()=>t.events.subscribe(n=>{console.group?.(`Router Event: ${n.constructor.name}`),console.log(function sT(e){if(!("type"in e))return`Unknown Router Event: ${e.constructor.name}`;switch(e.type){case 14:return`ActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state}, shouldActivate: ${e.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 2:return`NavigationCancel(id: ${e.id}, url: '${e.url}')`;case 16:return`NavigationSkipped(id: ${e.id}, url: '${e.url}')`;case 1:return`NavigationEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${e.id}, url: '${e.url}', error: ${e.error})`;case 0:return`NavigationStart(id: ${e.id}, url: '${e.url}')`;case 6:return`ResolveEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 5:return`ResolveStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 10:return`RouteConfigLoadEnd(path: ${e.route.path})`;case 9:return`RouteConfigLoadStart(path: ${e.route.path})`;case 4:return`RoutesRecognized(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 15:return`Scroll(anchor: '${e.anchor}', position: '${e.position?`${e.position[0]}, ${e.position[1]}`:null}')`}}(n)),console.log(n),console.groupEnd?.()})}}]:[],So(1,e)}const Bw=new Xe(ga?"router preloader":"");function AI(e){return So(0,[{provide:Bw,useExisting:kI},{provide:Rw,useExisting:e}])}const El=!1,jw=new Xe(El?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),NI=[rf,{provide:pl,useClass:Of},Di,bl,{provide:ha,useFactory:function Aw(e){return e.routerState.root},deps:[Di]},tp,El?{provide:op,useValue:!0}:[]];function FI(){return new mv("Router",Di)}let zw=(()=>{class e{constructor(n){}static forRoot(n,i){return{ngModule:e,providers:[NI,El&&i?.enableTracing?OI().\u0275providers:[],{provide:pa,multi:!0,useValue:n},{provide:jw,useFactory:UI,deps:[[Di,new Ta,new Ia]]},{provide:vc,useValue:i||{}},i?.useHash?{provide:rs,useClass:OS}:{provide:rs,useClass:jv},{provide:rp,useFactory:()=>{const e=yt(tP),t=yt(un),n=yt(vc),i=yt(yc),r=yt(pl);return n.scrollOffset&&e.setOffset(n.scrollOffset),new Ow(r,i,e,t,n)}},i?.preloadingStrategy?AI(i.preloadingStrategy).\u0275providers:[],{provide:mv,multi:!0,useFactory:FI},i?.initialNavigation?VI(i):[],[{provide:Uw,useFactory:Nw},{provide:gv,multi:!0,useExisting:Uw}]]}}static forChild(n){return{ngModule:e,providers:[{provide:pa,multi:!0,useValue:n}]}}}return e.\u0275fac=function(n){return new(n||e)(He(jw,8))},e.\u0275mod=Ti({type:e}),e.\u0275inj=_e({imports:[Wf]}),e})();function UI(e){if(El&&e)throw new we(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function VI(e){return["disabled"===e.initialNavigation?So(3,[{provide:Pu,multi:!0,useFactory:()=>{const t=yt(Di);return()=>{t.setUpLocationChangeListener()}}},{provide:sp,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?So(2,[{provide:sp,useValue:0},{provide:Pu,multi:!0,deps:[Kr],useFactory:t=>{const n=t.get(IS,Promise.resolve());return()=>n.then(()=>new Promise(i=>{const r=t.get(Di),s=t.get(Fw);(function PI(e,t){e.events.pipe(Do(n=>n instanceof ls||n instanceof ac||n instanceof Uf||n instanceof lc),nt(n=>n instanceof ls||n instanceof lc?Ci.COMPLETE:n instanceof ac&&(0===n.code||1===n.code)?Ci.REDIRECTING:Ci.FAILED),Do(n=>n!==Ci.REDIRECTING),hl(1)).subscribe(()=>{t()})})(r,()=>{i(!0)}),t.get(yc).afterPreactivation=()=>(i(!0),s.closed?Je(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const Uw=new Xe(El?"Router Initializer":""),$I=[];let GI=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ti({type:e}),e.\u0275inj=_e({imports:[zw.forRoot($I),zw]}),e})();var io=ye(407);ye(889);let ZI=(()=>{class e{constructor(){}getPetPosition(){return{lat:41.8941+(Math.random()-.5)/100,lng:12.495+(Math.random()-.5)/100,timestamp:Date.now()-1e4}}getGeofence(){return[[41.89615593693024,12.48712220789482],[41.90194818191196,12.497284633845346],[41.89046959691638,12.49905267353532],[41.88567734430687,12.489890247584794],[41.89136368987694,12.477959781944294]]}saveGeofence(n){}removeGeofence(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function qI(e,t){if(1&e){const n=function qm(){return pe()}();Xi(0,"div",14)(1,"div",15),Lr("click",function(){return Fc(n),Bc(cd().editFence())}),md(2," Edit GeoFence "),er(),Xi(3,"div",16),Lr("click",function(){return Fc(n),Bc(cd().removeFence())}),md(4,"Delete GeoFence"),er()()}}let WI=(()=>{class e{initMap(){this.map=io.map("map",{center:[41.891106645704795,12.503608718298109],zoom:18,attributionControl:!1,zoomControl:!1}),io.control.zoom({position:"topright"}).addTo(this.map),io.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,minZoom:5}).addTo(this.map),this.geoFence=io.polygon(this.petService.getGeofence(),{fillOpacity:.3}),this.geoFence.addTo(this.map)}constructor(n){this.petService=n,this.gpsIcon=io.icon({iconUrl:"assets/gps.png",iconSize:[40,40],iconAnchor:[20,20]}),this.petIcon=io.icon({iconUrl:"assets/pet.png",iconSize:[40,40],iconAnchor:[20,20]}),this.editingFence=!1,this.fenceMenuOpen=!1,this.lightOn=!1,this.soundOn=!1}ngAfterViewInit(){this.initMap(),this.map&&(this.initPet(),this.gotoPet(),this.initGps(),this.trackPet(),this.trackGps())}initGps(){this.map&&(this.map.locate({watch:!0,enableHighAccuracy:!0}),this.map.on("locationfound",n=>{!this.gps&&this.map&&(this.gps=io.marker(n.latlng,{icon:this.gpsIcon}),this.gps.addTo(this.map))}))}initPet(){this.map&&(this.pet=io.marker(this.petService.getPetPosition(),{icon:this.petIcon}),this.pet.bindPopup("Last position update: "+new Date(this.petService.getPetPosition().timestamp).toLocaleString("it")),this.pet.addTo(this.map))}gotoGps(){this.map&&this.gps?this.map.flyTo(this.gps.getLatLng(),18):alert("PaaT cannot access your location. Please turn on GPS and check your browser settings.")}gotoPet(){this.map&&this.pet&&this.map.flyTo(this.pet.getLatLng(),18)}toggleLight(){this.lightOn=!this.lightOn}toggleSound(){this.soundOn=!this.soundOn}toggleFenceOptions(){if(this.map)if(this.geoFence)if(this.editingFence){this.map.pm.disableGlobalEditMode(),this.editingFence=!1;const n=this.geoFence.getLatLngs();console.log(n)}else this.fenceMenuOpen=!this.fenceMenuOpen;else this.editingFence?(this.editingFence=!1,this.map.pm.disableGlobalEditMode()):(this.fenceMenuOpen=!1,this.editingFence=!0,this.map.pm.enableDraw("Polygon",{}),this.map.on("pm:create",n=>{this.map&&n.layer instanceof io.Polygon&&(this.geoFence=n.layer,this.geoFence.addTo(this.map),this.editingFence=!1)}))}editFence(){this.fenceMenuOpen=!1,this.editingFence=!0,this.map&&this.geoFence&&this.geoFence.pm.enable()}removeFence(){this.fenceMenuOpen=!1,this.map&&this.geoFence&&(this.map.removeLayer(this.geoFence),this.geoFence=void 0,this.petService.removeGeofence())}trackPet(){setInterval(()=>{this.pet&&(this.pet.setLatLng(this.petService.getPetPosition()),this.pet.bindPopup("Last position update: "+new Date(this.petService.getPetPosition().timestamp).toLocaleString("it")))},1e4)}trackGps(){let n=setInterval(()=>{this.map&&(this.map.locate({watch:!0,enableHighAccuracy:!0}),this.map.on("locationfound",i=>{this.gps&&this.gps.setLatLng(i.latlng)}),this.map.once("locationerror",i=>{clearInterval(n),alert("PaaT cannot access your location. Please turn on GPS and check your browser settings.")}))},1e4)}}return e.\u0275fac=function(n){return new(n||e)(Qe(ZI))},e.\u0275cmp=Ki({type:e,selectors:[["app-map"]],decls:14,vars:7,consts:[["id","paat-logo","src","assets/paat.png"],[1,"map-container"],["id","map"],["id","light",1,"map-button",3,"click"],["src","assets/light.png","height","32px"],["id","sound",1,"map-button",3,"click"],["src","assets/sound.png","height","32px"],["id","fence",1,"map-button",3,"click"],["src","assets/fence.png","height","32px"],["id","fencemenu",4,"ngIf"],["id","pet",1,"map-button",3,"click"],["src","assets/pet.png","height","32px"],["id","gps",1,"map-button",3,"click"],["src","assets/gps.png","height","32px"],["id","fencemenu"],[2,"border-bottom","1px solid black",3,"click"],[3,"click"]],template:function(n,i){1&n&&(tr(0,"img",0),Xi(1,"div",1),tr(2,"div",2),er(),Xi(3,"div",3),Lr("click",function(){return i.toggleLight()}),tr(4,"img",4),er(),Xi(5,"div",5),Lr("click",function(){return i.toggleSound()}),tr(6,"img",6),er(),Xi(7,"div",7),Lr("click",function(){return i.toggleFenceOptions()}),tr(8,"img",8),er(),function Gm(e,t,n,i,r,s,u,h){const p=pe(),m=Pt(),v=e+$t,D=m.firstCreatePass?function $C(e,t,n,i,r,s,u,h,p){const m=t.consts,v=$s(t,e,4,u||null,_o(m,h));Yh(t,n,v,_o(m,p)),zl(t,v);const D=v.tView=Kh(2,v,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,m);return null!==t.queries&&(t.queries.template(t,v),D.queries=t.queries.embeddedTView(v)),v}(v,m,p,t,n,i,r,s,u):m.data[v];wr(D,!1);const R=p[_t].createComment("");eu(m,p,R,D),jn(R,p),fu(p,p[v]=Cm(R,p,R,D)),br(D)&&qh(m,p,D),null!=u&&Wh(p,D,h)}(9,qI,5,0,"div",9),Xi(10,"div",10),Lr("click",function(){return i.gotoPet()}),tr(11,"img",11),er(),Xi(12,"div",12),Lr("click",function(){return i.gotoGps()}),tr(13,"img",13),er()),2&n&&(Va(3),qa("background-color",i.lightOn?"#c0c0ff":"#ffffff"),Va(2),qa("background-color",i.soundOn?"#c0c0ff":"#ffffff"),Va(2),qa("background-color",i.editingFence?"#c0c0ff":"#ffffff"),Va(2),sd("ngIf",i.fenceMenuOpen))},dependencies:[Xv],styles:["#paat-logo[_ngcontent-%COMP%]{z-index:401;position:absolute;height:100px;max-width:50vw;object-fit:contain}.map-container[_ngcontent-%COMP%]{position:absolute;inset:0}#map[_ngcontent-%COMP%]{height:100%}.map-button[_ngcontent-%COMP%]{z-index:400;position:absolute;display:flex;justify-content:center;align-items:center;right:15px;border-radius:50%;width:64px;height:64px;background-color:#fff;cursor:pointer}#gps[_ngcontent-%COMP%]{bottom:15px}#pet[_ngcontent-%COMP%]{bottom:86px}#fence[_ngcontent-%COMP%]{bottom:159px}#fencemenu[_ngcontent-%COMP%]{z-index:400;position:absolute;bottom:159px;right:86px;background-color:#fff;cursor:pointer;border-radius:25px;border:1px solid black}#fencemenu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#000;font:bold 24px Sans-Serif;text-align:center;padding:10px}#sound[_ngcontent-%COMP%]{bottom:232px}#light[_ngcontent-%COMP%]{bottom:305px}  .leaflet-control{margin:0!important;border:none!important}  .leaflet-control-zoom-in,   .leaflet-control-zoom-out{z-index:400;position:absolute;right:15px;border-radius:50%!important;width:64px!important;height:64px!important;background-color:#fff;cursor:pointer;display:flex!important;align-items:center;justify-content:center;font-size:40px!important;font-family:initial;font-weight:700}  .leaflet-control-zoom-in{top:15px}  .leaflet-control-zoom-out{top:86px}"]}),e})(),KI=(()=>{class e{constructor(){this.title="Pet as a Thing"}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ki({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(n,i){1&n&&tr(0,"app-map")},dependencies:[WI]}),e})(),YI=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ti({type:e,bootstrap:[KI]}),e.\u0275inj=_e({imports:[XP,GI]}),e})();QP().bootstrapModule(YI).catch(e=>console.error(e))},407:function(us,ko){!function(ye){"use strict";function S(o){var l,d,g,y;for(d=1,g=arguments.length;d<g;d++)for(l in y=arguments[d])o[l]=y[l];return o}var M=Object.create||function(){function o(){}return function(l){return o.prototype=l,new o}}();function P(o,l){var d=Array.prototype.slice;if(o.bind)return o.bind.apply(o,d.call(arguments,1));var g=d.call(arguments,2);return function(){return o.apply(l,g.length?g.concat(d.call(arguments)):arguments)}}var T=0;function j(o){return"_leaflet_id"in o||(o._leaflet_id=++T),o._leaflet_id}function B(o,l,d){var g,y,C,U;return U=function(){g=!1,y&&(C.apply(d,y),y=!1)},C=function(){g?y=arguments:(o.apply(d,arguments),setTimeout(U,l),g=!0)},C}function W(o,l,d){var g=l[1],y=l[0],C=g-y;return o===g&&d?o:((o-y)%C+C)%C+y}function ie(){return!1}function ue(o,l){if(!1===l)return o;var d=Math.pow(10,void 0===l?6:l);return Math.round(o*d)/d}function ve(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function re(o){return ve(o).split(/\s+/)}function q(o,l){for(var d in Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?M(o.options):{}),l)o.options[d]=l[d];return o.options}function se(o,l,d){var g=[];for(var y in o)g.push(encodeURIComponent(d?y.toUpperCase():y)+"="+encodeURIComponent(o[y]));return(l&&-1!==l.indexOf("?")?"&":"?")+g.join("&")}var K=/\{ *([\w_ -]+) *\}/g;function J(o,l){return o.replace(K,function(d,g){var y=l[g];if(void 0===y)throw new Error("No value provided for variable "+d);return"function"==typeof y&&(y=y(l)),y})}var Y=Array.isArray||function(o){return"[object Array]"===Object.prototype.toString.call(o)};function N(o,l){for(var d=0;d<o.length;d++)if(o[d]===l)return d;return-1}var G="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Q(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var ge=0;function Ce(o){var l=+new Date,d=Math.max(0,16-(l-ge));return ge=l+d,window.setTimeout(o,d)}var De=window.requestAnimationFrame||Q("RequestAnimationFrame")||Ce,Le=window.cancelAnimationFrame||Q("CancelAnimationFrame")||Q("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function ke(o,l,d){if(!d||De!==Ce)return De.call(window,P(o,l));o.call(l)}function Pe(o){o&&Le.call(window,o)}var Ae={__proto__:null,extend:S,create:M,bind:P,get lastId(){return T},stamp:j,throttle:B,wrapNum:W,falseFn:ie,formatNum:ue,trim:ve,splitWords:re,setOptions:q,getParamString:se,template:J,isArray:Y,indexOf:N,emptyImageUrl:G,requestFn:De,cancelFn:Le,requestAnimFrame:ke,cancelAnimFrame:Pe};function at(){}at.extend=function(o){var l=function(){q(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=l.__super__=this.prototype,g=M(d);for(var y in g.constructor=l,l.prototype=g,this)Object.prototype.hasOwnProperty.call(this,y)&&"prototype"!==y&&"__super__"!==y&&(l[y]=this[y]);return o.statics&&S(l,o.statics),o.includes&&(function Fe(o){if(!(typeof L>"u")&&L&&L.Mixin){o=Y(o)?o:[o];for(var l=0;l<o.length;l++)o[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(o.includes),S.apply(null,[g].concat(o.includes))),S(g,o),delete g.statics,delete g.includes,g.options&&(g.options=d.options?M(d.options):{},S(g.options,o.options)),g._initHooks=[],g.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var C=0,U=g._initHooks.length;C<U;C++)g._initHooks[C].call(this)}},l},at.include=function(o){var l=this.prototype.options;return S(this.prototype,o),o.options&&(this.prototype.options=l,this.mergeOptions(o.options)),this},at.mergeOptions=function(o){return S(this.prototype.options,o),this},at.addInitHook=function(o){var l=Array.prototype.slice.call(arguments,1),d="function"==typeof o?o:function(){this[o].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};var $e={on:function(o,l,d){if("object"==typeof o)for(var g in o)this._on(g,o[g],l);else for(var y=0,C=(o=re(o)).length;y<C;y++)this._on(o[y],l,d);return this},off:function(o,l,d){if(arguments.length)if("object"==typeof o)for(var g in o)this._off(g,o[g],l);else{o=re(o);for(var y=1===arguments.length,C=0,U=o.length;C<U;C++)y?this._off(o[C]):this._off(o[C],l,d)}else delete this._events;return this},_on:function(o,l,d,g){if("function"==typeof l){if(!1===this._listens(o,l,d)){d===this&&(d=void 0);var y={fn:l,ctx:d};g&&(y.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(y)}}else console.warn("wrong listener type: "+typeof l)},_off:function(o,l,d){var g,y,C;if(this._events&&(g=this._events[o])){if(1===arguments.length){if(this._firingCount)for(y=0,C=g.length;y<C;y++)g[y].fn=ie;return void delete this._events[o]}if("function"!=typeof l)return void console.warn("wrong listener type: "+typeof l);var U=this._listens(o,l,d);!1!==U&&(this._firingCount&&(g[U].fn=ie,this._events[o]=g=g.slice()),g.splice(U,1))}},fire:function(o,l,d){if(!this.listens(o,d))return this;var g=S({},l,{type:o,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var y=this._events[o];if(y){this._firingCount=this._firingCount+1||1;for(var C=0,U=y.length;C<U;C++){var ne=y[C],oe=ne.fn;ne.once&&this.off(o,oe,ne.ctx),oe.call(ne.ctx||this,g)}this._firingCount--}}return d&&this._propagateEvent(g),this},listens:function(o,l,d,g){"string"!=typeof o&&console.warn('"string" type argument expected');var y=l;"function"!=typeof l&&(g=!!l,y=void 0,d=void 0);var C=this._events&&this._events[o];if(C&&C.length&&!1!==this._listens(o,y,d))return!0;if(g)for(var U in this._eventParents)if(this._eventParents[U].listens(o,l,d,g))return!0;return!1},_listens:function(o,l,d){if(!this._events)return!1;var g=this._events[o]||[];if(!l)return!!g.length;d===this&&(d=void 0);for(var y=0,C=g.length;y<C;y++)if(g[y].fn===l&&g[y].ctx===d)return y;return!1},once:function(o,l,d){if("object"==typeof o)for(var g in o)this._on(g,o[g],l,!0);else for(var y=0,C=(o=re(o)).length;y<C;y++)this._on(o[y],l,d,!0);return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[j(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[j(o)],this},_propagateEvent:function(o){for(var l in this._eventParents)this._eventParents[l].fire(o.type,S({layer:o.target,propagatedFrom:o.target},o),!0)}};$e.addEventListener=$e.on,$e.removeEventListener=$e.clearAllEventListeners=$e.off,$e.addOneTimeEventListener=$e.once,$e.fireEvent=$e.fire,$e.hasEventListeners=$e.listens;var At=at.extend($e);function Se(o,l,d){this.x=d?Math.round(o):o,this.y=d?Math.round(l):l}var ot=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};function je(o,l,d){return o instanceof Se?o:Y(o)?new Se(o[0],o[1]):null==o?o:"object"==typeof o&&"x"in o&&"y"in o?new Se(o.x,o.y):new Se(o,l,d)}function Be(o,l){if(o)for(var d=l?[o,l]:o,g=0,y=d.length;g<y;g++)this.extend(d[g])}function pt(o,l){return!o||o instanceof Be?o:new Be(o,l)}function Xt(o,l){if(o)for(var d=l?[o,l]:o,g=0,y=d.length;g<y;g++)this.extend(d[g])}function St(o,l){return o instanceof Xt?o:new Xt(o,l)}function Lt(o,l,d){if(isNaN(o)||isNaN(l))throw new Error("Invalid LatLng object: ("+o+", "+l+")");this.lat=+o,this.lng=+l,void 0!==d&&(this.alt=+d)}function bt(o,l,d){return o instanceof Lt?o:Y(o)&&"object"!=typeof o[0]?3===o.length?new Lt(o[0],o[1],o[2]):2===o.length?new Lt(o[0],o[1]):null:null==o?o:"object"==typeof o&&"lat"in o?new Lt(o.lat,"lng"in o?o.lng:o.lon,o.alt):void 0===l?null:new Lt(o,l,d)}Se.prototype={clone:function(){return new Se(this.x,this.y)},add:function(o){return this.clone()._add(je(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(je(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new Se(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new Se(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ot(this.x),this.y=ot(this.y),this},distanceTo:function(o){var l=(o=je(o)).x-this.x,d=o.y-this.y;return Math.sqrt(l*l+d*d)},equals:function(o){return(o=je(o)).x===this.x&&o.y===this.y},contains:function(o){return o=je(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+ue(this.x)+", "+ue(this.y)+")"}},Be.prototype={extend:function(o){var l,d;if(!o)return this;if(o instanceof Se||"number"==typeof o[0]||"x"in o)l=d=je(o);else if(d=(o=pt(o)).max,!(l=o.min)||!d)return this;return this.min||this.max?(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)):(this.min=l.clone(),this.max=d.clone()),this},getCenter:function(o){return je((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return je(this.min.x,this.max.y)},getTopRight:function(){return je(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var l,d;return(o="number"==typeof o[0]||o instanceof Se?je(o):pt(o))instanceof Be?(l=o.min,d=o.max):l=d=o,l.x>=this.min.x&&d.x<=this.max.x&&l.y>=this.min.y&&d.y<=this.max.y},intersects:function(o){o=pt(o);var l=this.min,d=this.max,g=o.min,y=o.max;return y.x>=l.x&&g.x<=d.x&&y.y>=l.y&&g.y<=d.y},overlaps:function(o){o=pt(o);var l=this.min,d=this.max,g=o.min,y=o.max;return y.x>l.x&&g.x<d.x&&y.y>l.y&&g.y<d.y},isValid:function(){return!(!this.min||!this.max)},pad:function(o){var l=this.min,d=this.max,g=Math.abs(l.x-d.x)*o,y=Math.abs(l.y-d.y)*o;return pt(je(l.x-g,l.y-y),je(d.x+g,d.y+y))},equals:function(o){return!!o&&(o=pt(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight()))}},Xt.prototype={extend:function(o){var g,y,l=this._southWest,d=this._northEast;if(o instanceof Lt)g=o,y=o;else{if(!(o instanceof Xt))return o?this.extend(bt(o)||St(o)):this;if(y=o._northEast,!(g=o._southWest)||!y)return this}return l||d?(l.lat=Math.min(g.lat,l.lat),l.lng=Math.min(g.lng,l.lng),d.lat=Math.max(y.lat,d.lat),d.lng=Math.max(y.lng,d.lng)):(this._southWest=new Lt(g.lat,g.lng),this._northEast=new Lt(y.lat,y.lng)),this},pad:function(o){var l=this._southWest,d=this._northEast,g=Math.abs(l.lat-d.lat)*o,y=Math.abs(l.lng-d.lng)*o;return new Xt(new Lt(l.lat-g,l.lng-y),new Lt(d.lat+g,d.lng+y))},getCenter:function(){return new Lt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Lt(this.getNorth(),this.getWest())},getSouthEast:function(){return new Lt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){o="number"==typeof o[0]||o instanceof Lt||"lat"in o?bt(o):St(o);var g,y,l=this._southWest,d=this._northEast;return o instanceof Xt?(g=o.getSouthWest(),y=o.getNorthEast()):g=y=o,g.lat>=l.lat&&y.lat<=d.lat&&g.lng>=l.lng&&y.lng<=d.lng},intersects:function(o){o=St(o);var l=this._southWest,d=this._northEast,g=o.getSouthWest(),y=o.getNorthEast();return y.lat>=l.lat&&g.lat<=d.lat&&y.lng>=l.lng&&g.lng<=d.lng},overlaps:function(o){o=St(o);var l=this._southWest,d=this._northEast,g=o.getSouthWest(),y=o.getNorthEast();return y.lat>l.lat&&g.lat<d.lat&&y.lng>l.lng&&g.lng<d.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,l){return!!o&&(o=St(o),this._southWest.equals(o.getSouthWest(),l)&&this._northEast.equals(o.getNorthEast(),l))},isValid:function(){return!(!this._southWest||!this._northEast)}},Lt.prototype={equals:function(o,l){return!!o&&(o=bt(o),Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng))<=(void 0===l?1e-9:l))},toString:function(o){return"LatLng("+ue(this.lat,o)+", "+ue(this.lng,o)+")"},distanceTo:function(o){return wt.distance(this,bt(o))},wrap:function(){return wt.wrapLatLng(this)},toBounds:function(o){var l=180*o/40075017,d=l/Math.cos(Math.PI/180*this.lat);return St([this.lat-l,this.lng-d],[this.lat+l,this.lng+d])},clone:function(){return new Lt(this.lat,this.lng,this.alt)}};var o,Tt={latLngToPoint:function(o,l){var d=this.projection.project(o),g=this.scale(l);return this.transformation._transform(d,g)},pointToLatLng:function(o,l){var d=this.scale(l),g=this.transformation.untransform(o,d);return this.projection.unproject(g)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var l=this.projection.bounds,d=this.scale(o);return new Be(this.transformation.transform(l.min,d),this.transformation.transform(l.max,d))},infinite:!1,wrapLatLng:function(o){var l=this.wrapLng?W(o.lng,this.wrapLng,!0):o.lng;return new Lt(this.wrapLat?W(o.lat,this.wrapLat,!0):o.lat,l,o.alt)},wrapLatLngBounds:function(o){var l=o.getCenter(),d=this.wrapLatLng(l),g=l.lat-d.lat,y=l.lng-d.lng;if(0===g&&0===y)return o;var C=o.getSouthWest(),U=o.getNorthEast();return new Xt(new Lt(C.lat-g,C.lng-y),new Lt(U.lat-g,U.lng-y))}},wt=S({},Tt,{wrapLng:[-180,180],R:6371e3,distance:function(o,l){var d=Math.PI/180,g=o.lat*d,y=l.lat*d,C=Math.sin((l.lat-o.lat)*d/2),U=Math.sin((l.lng-o.lng)*d/2),ne=C*C+Math.cos(g)*Math.cos(y)*U*U,oe=2*Math.atan2(Math.sqrt(ne),Math.sqrt(1-ne));return this.R*oe}}),nt={R:6378137,MAX_LATITUDE:85.0511287798,project:function(o){var l=Math.PI/180,d=this.MAX_LATITUDE,g=Math.max(Math.min(d,o.lat),-d),y=Math.sin(g*l);return new Se(this.R*o.lng*l,this.R*Math.log((1+y)/(1-y))/2)},unproject:function(o){var l=180/Math.PI;return new Lt((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*l,o.x*l/this.R)},bounds:(o=6378137*Math.PI,new Be([-o,-o],[o,o]))};function ji(o,l,d,g){if(Y(o))return this._a=o[0],this._b=o[1],this._c=o[2],void(this._d=o[3]);this._a=o,this._b=l,this._c=d,this._d=g}function zi(o,l,d,g){return new ji(o,l,d,g)}ji.prototype={transform:function(o,l){return this._transform(o.clone(),l)},_transform:function(o,l){return o.x=(l=l||1)*(this._a*o.x+this._b),o.y=l*(this._c*o.y+this._d),o},untransform:function(o,l){return new Se((o.x/(l=l||1)-this._b)/this._a,(o.y/l-this._d)/this._c)}};var Ui=S({},wt,{code:"EPSG:3857",projection:nt,transformation:function(){var o=.5/(Math.PI*nt.R);return zi(o,.5,-o,.5)}()}),xn=S({},Ui,{code:"EPSG:900913"});function Po(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function Tr(o,l){var g,y,C,U,ne,oe,d="";for(g=0,C=o.length;g<C;g++){for(y=0,U=(ne=o[g]).length;y<U;y++)d+=(y?"L":"M")+(oe=ne[y]).x+" "+oe.y;d+=l?ze.svg?"z":"x":""}return d||"M0 0"}var ro=document.documentElement.style,cr="ActiveXObject"in window,V=cr&&!document.addEventListener,w="msLaunchUri"in navigator&&!("documentMode"in document),E=An("webkit"),I=An("android"),H=An("android 2")||An("android 3"),Z=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),he=I&&An("Google")&&Z<537&&!("AudioNode"in window),ce=!!window.opera,Me=!w&&An("chrome"),Ze=An("gecko")&&!E&&!ce&&!cr,ct=!Me&&An("safari"),Mt=An("phantom"),rt="OTransition"in ro,zt=0===navigator.platform.indexOf("Win"),gt=cr&&"transition"in ro,Ft="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!H,Yt="MozPerspective"in ro,sn=!window.L_DISABLE_3D&&(gt||Ft||Yt)&&!rt&&!Mt,nn=typeof orientation<"u"||An("mobile"),Cn=nn&&E,Ln=nn&&Ft,gi=!window.PointerEvent&&window.MSPointerEvent,ni=!(!window.PointerEvent&&!gi),bn="ontouchstart"in window||!!window.TouchEvent,On=!window.L_NO_TOUCH&&(bn||ni),ii=nn&&ce,Li=nn&&Ze,fn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,an=function(){var o=!1;try{var l=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",ie,l),window.removeEventListener("testPassiveEventSupport",ie,l)}catch{}return o}(),mi=!!document.createElement("canvas").getContext,Ir=!(!document.createElementNS||!Po("svg").createSVGRect),oo=!!Ir&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(o.firstChild&&o.firstChild.namespaceURI)}(),hr=!Ir&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var l=o.firstChild;return l.style.behavior="url(#default#VML)",l&&"object"==typeof l.adj}catch{return!1}}();function An(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var ze={ie:cr,ielt9:V,edge:w,webkit:E,android:I,android23:H,androidStock:he,opera:ce,chrome:Me,gecko:Ze,safari:ct,phantom:Mt,opera12:rt,win:zt,ie3d:gt,webkit3d:Ft,gecko3d:Yt,any3d:sn,mobile:nn,mobileWebkit:Cn,mobileWebkit3d:Ln,msPointer:gi,pointer:ni,touch:On,touchNative:bn,mobileOpera:ii,mobileGecko:Li,retina:fn,passiveEvents:an,canvas:mi,svg:Ir,vml:hr,inlineSvg:oo,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},Io=ze.msPointer?"MSPointerDown":"pointerdown",_i=ze.msPointer?"MSPointerMove":"pointermove",Ei=ze.msPointer?"MSPointerUp":"pointerup",cs=ze.msPointer?"MSPointerCancel":"pointercancel",Sn={touchstart:Io,touchmove:_i,touchend:Ei,touchcancel:cs},dr={touchstart:function so(o,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&z(l),Si(o,l)},touchmove:Si,touchend:Si,touchcancel:Si},Zt={},xi=!1;function Hn(o,l,d){return"touchstart"===l&&function Oo(){xi||(document.addEventListener(Io,hs,!0),document.addEventListener(_i,Ro,!0),document.addEventListener(Ei,Rr,!0),document.addEventListener(cs,Rr,!0),xi=!0)}(),dr[l]?(d=dr[l].bind(this,d),o.addEventListener(Sn[l],d,!1),d):(console.warn("wrong event specified:",l),ie)}function hs(o){Zt[o.pointerId]=o}function Ro(o){Zt[o.pointerId]&&(Zt[o.pointerId]=o)}function Rr(o){delete Zt[o.pointerId]}function Si(o,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){for(var d in l.touches=[],Zt)l.touches.push(Zt[d]);l.changedTouches=[l],o(l)}}var ds=200;var ki,Ke,qe,Gi,pn,ao=gr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Vi=gr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),No="webkitTransition"===Vi||"OTransition"===Vi?Vi+"End":"transitionend";function fs(o){return"string"==typeof o?document.getElementById(o):o}function fr(o,l){var d=o.style[l]||o.currentStyle&&o.currentStyle[l];if((!d||"auto"===d)&&document.defaultView){var g=document.defaultView.getComputedStyle(o,null);d=g?g[l]:null}return"auto"===d?null:d}function Ge(o,l,d){var g=document.createElement(o);return g.className=l||"",d&&d.appendChild(g),g}function Bt(o){var l=o.parentNode;l&&l.removeChild(o)}function Ar(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function yi(o){var l=o.parentNode;l&&l.lastChild!==o&&l.appendChild(o)}function Et(o){var l=o.parentNode;l&&l.firstChild!==o&&l.insertBefore(o,l.firstChild)}function pr(o,l){if(void 0!==o.classList)return o.classList.contains(l);var d=Hi(o);return d.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(d)}function Re(o,l){if(void 0!==o.classList)for(var d=re(l),g=0,y=d.length;g<y;g++)o.classList.add(d[g]);else if(!pr(o,l)){var C=Hi(o);Fo(o,(C?C+" ":"")+l)}}function Vt(o,l){void 0!==o.classList?o.classList.remove(l):Fo(o,ve((" "+Hi(o)+" ").replace(" "+l+" "," ")))}function Fo(o,l){void 0===o.className.baseVal?o.className=l:o.className.baseVal=l}function Hi(o){return o.correspondingElement&&(o=o.correspondingElement),void 0===o.className.baseVal?o.className:o.className.baseVal}function Ne(o,l){"opacity"in o.style?o.style.opacity=l:"filter"in o.style&&function Nr(o,l){var d=!1,g="DXImageTransform.Microsoft.Alpha";try{d=o.filters.item(g)}catch{if(1===l)return}l=Math.round(100*l),d?(d.Enabled=100!==l,d.Opacity=l):o.style.filter+=" progid:"+g+"(opacity="+l+")"}(o,l)}function gr(o){for(var l=document.documentElement.style,d=0;d<o.length;d++)if(o[d]in l)return o[d];return!1}function $i(o,l,d){var g=l||new Se(0,0);o.style[ao]=(ze.ie3d?"translate("+g.x+"px,"+g.y+"px)":"translate3d("+g.x+"px,"+g.y+"px,0)")+(d?" scale("+d+")":"")}function jt(o,l){o._leaflet_pos=l,ze.any3d?$i(o,l):(o.style.left=l.x+"px",o.style.top=l.y+"px")}function we(o){return o._leaflet_pos||new Se(0,0)}if("onselectstart"in document)ki=function(){lt(window,"selectstart",z)},Ke=function(){c(window,"selectstart",z)};else{var Pi=gr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ki=function(){if(Pi){var o=document.documentElement.style;qe=o[Pi],o[Pi]="none"}},Ke=function(){Pi&&(document.documentElement.style[Pi]=qe,qe=void 0)}}function lo(){lt(window,"dragstart",z)}function Bo(){c(window,"dragstart",z)}function ps(o){for(;-1===o.tabIndex;)o=o.parentNode;o.style&&(mr(),Gi=o,pn=o.style.outline,o.style.outline="none",lt(window,"keydown",mr))}function mr(){Gi&&(Gi.style.outline=pn,Gi=void 0,pn=void 0,c(window,"keydown",mr))}function jo(o){do{o=o.parentNode}while(!(o.offsetWidth&&o.offsetHeight||o===document.body));return o}function ri(o){var l=o.getBoundingClientRect();return{x:l.width/o.offsetWidth||1,y:l.height/o.offsetHeight||1,boundingClientRect:l}}var Sl={__proto__:null,TRANSFORM:ao,TRANSITION:Vi,TRANSITION_END:No,get:fs,getStyle:fr,create:Ge,remove:Bt,empty:Ar,toFront:yi,toBack:Et,hasClass:pr,addClass:Re,removeClass:Vt,setClass:Fo,getClass:Hi,setOpacity:Ne,testProp:gr,setTransform:$i,setPosition:jt,getPosition:we,get disableTextSelection(){return ki},get enableTextSelection(){return Ke},disableImageDrag:lo,enableImageDrag:Bo,preventOutline:ps,restoreOutline:mr,getSizedParentNode:jo,getScale:ri};function lt(o,l,d,g){if(l&&"object"==typeof l)for(var y in l)b(o,y,l[y],d);else for(var C=0,U=(l=re(l)).length;C<U;C++)b(o,l[C],d,g);return this}var a="_leaflet_events";function c(o,l,d,g){if(1===arguments.length)f(o),delete o[a];else if(l&&"object"==typeof l)for(var y in l)k(o,y,l[y],d);else if(l=re(l),2===arguments.length)f(o,function(ne){return-1!==N(l,ne)});else for(var C=0,U=l.length;C<U;C++)k(o,l[C],d,g);return this}function f(o,l){for(var d in o[a]){var g=d.split(/\d/)[0];(!l||l(g))&&k(o,g,null,null,d)}}var _={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function b(o,l,d,g){var y=l+j(d)+(g?"_"+j(g):"");if(o[a]&&o[a][y])return this;var C=function(ne){return d.call(g||o,ne||window.event)},U=C;!ze.touchNative&&ze.pointer&&0===l.indexOf("touch")?C=Hn(o,l,C):ze.touch&&"dblclick"===l?C=function Or(o,l){o.addEventListener("dblclick",l);var g,d=0;function y(C){if(1===C.detail){if("mouse"!==C.pointerType&&(!C.sourceCapabilities||C.sourceCapabilities.firesTouchEvents)){var U=X(C);if(!U.some(function(oe){return oe instanceof HTMLLabelElement&&oe.attributes.for})||U.some(function(oe){return oe instanceof HTMLInputElement||oe instanceof HTMLSelectElement})){var ne=Date.now();ne-d<=ds?2==++g&&l(function Ao(o){var d,g,l={};for(g in o)l[g]=(d=o[g])&&d.bind?d.bind(o):d;return o=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}(C)):g=1,d=ne}}}else g=C.detail}return o.addEventListener("click",y),{dblclick:l,simDblclick:y}}(o,C):"addEventListener"in o?"touchstart"===l||"touchmove"===l||"wheel"===l||"mousewheel"===l?o.addEventListener(_[l]||l,C,!!ze.passiveEvents&&{passive:!1}):"mouseenter"===l||"mouseleave"===l?o.addEventListener(_[l],C=function(ne){ne=ne||window.event,We(o,ne)&&U(ne)},!1):o.addEventListener(l,U,!1):o.attachEvent("on"+l,C),o[a]=o[a]||{},o[a][y]=C}function k(o,l,d,g,y){y=y||l+j(d)+(g?"_"+j(g):"");var C=o[a]&&o[a][y];if(!C)return this;!ze.touchNative&&ze.pointer&&0===l.indexOf("touch")?function xl(o,l,d){Sn[l]?o.removeEventListener(Sn[l],d,!1):console.warn("wrong event specified:",l)}(o,l,C):ze.touch&&"dblclick"===l?function ma(o,l){o.removeEventListener("dblclick",l.dblclick),o.removeEventListener("click",l.simDblclick)}(o,C):"removeEventListener"in o?o.removeEventListener(_[l]||l,C,!1):o.detachEvent("on"+l,C),o[a][y]=null}function O(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function A(o){return b(o,"wheel",O),this}function F(o){return lt(o,"mousedown touchstart dblclick contextmenu",O),o._leaflet_disable_click=!0,this}function z(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function ee(o){return z(o),O(o),this}function X(o){if(o.composedPath)return o.composedPath();for(var l=[],d=o.target;d;)l.push(d),d=d.parentNode;return l}function ae(o,l){if(!l)return new Se(o.clientX,o.clientY);var d=ri(l),g=d.boundingClientRect;return new Se((o.clientX-g.left)/d.x-l.clientLeft,(o.clientY-g.top)/d.y-l.clientTop)}var _e=ze.linux&&ze.chrome?window.devicePixelRatio:ze.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ee(o){return ze.edge?o.wheelDeltaY/2:o.deltaY&&0===o.deltaMode?-o.deltaY/_e:o.deltaY&&1===o.deltaMode?20*-o.deltaY:o.deltaY&&2===o.deltaMode?60*-o.deltaY:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?20*-o.detail:o.detail?o.detail/-32765*60:0}function We(o,l){var d=l.relatedTarget;if(!d)return!0;try{for(;d&&d!==o;)d=d.parentNode}catch{return!1}return d!==o}var ut={__proto__:null,on:lt,off:c,stopPropagation:O,disableScrollPropagation:A,disableClickPropagation:F,preventDefault:z,stop:ee,getPropagationPath:X,getMousePosition:ae,getWheelDelta:Ee,isExternalTarget:We,addListener:lt,removeListener:c},Nt=At.extend({run:function(o,l,d,g){this.stop(),this._el=o,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(g||.5,.2),this._startPos=we(o),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ke(this._animate,this),this._step()},_step:function(o){var l=+new Date-this._startTime,d=1e3*this._duration;l<d?this._runFrame(this._easeOut(l/d),o):(this._runFrame(1),this._complete())},_runFrame:function(o,l){var d=this._startPos.add(this._offset.multiplyBy(o));l&&d._round(),jt(this._el,d),this.fire("step")},_complete:function(){Pe(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),Ue=At.extend({options:{crs:Ui,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,l){l=q(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=P(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),void 0!==l.zoom&&(this._zoom=this._limitZoom(l.zoom)),l.center&&void 0!==l.zoom&&this.setView(bt(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Vi&&ze.any3d&&!ze.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),lt(this._proxy,No,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,l,d){return l=void 0===l?this._zoom:this._limitZoom(l),o=this._limitCenter(bt(o),l,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&!0!==d&&(void 0!==d.animate&&(d.zoom=S({animate:d.animate},d.zoom),d.pan=S({animate:d.animate,duration:d.duration},d.pan)),this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,l,d.zoom):this._tryAnimatedPan(o,d.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(o,l,d.pan&&d.pan.noMoveStart),this)},setZoom:function(o,l){return this._loaded?this.setView(this.getCenter(),o,{zoom:l}):(this._zoom=o,this)},zoomIn:function(o,l){return this.setZoom(this._zoom+(o=o||(ze.any3d?this.options.zoomDelta:1)),l)},zoomOut:function(o,l){return this.setZoom(this._zoom-(o=o||(ze.any3d?this.options.zoomDelta:1)),l)},setZoomAround:function(o,l,d){var g=this.getZoomScale(l),y=this.getSize().divideBy(2),U=(o instanceof Se?o:this.latLngToContainerPoint(o)).subtract(y).multiplyBy(1-1/g),ne=this.containerPointToLatLng(y.add(U));return this.setView(ne,l,{zoom:d})},_getBoundsCenterZoom:function(o,l){l=l||{},o=o.getBounds?o.getBounds():St(o);var d=je(l.paddingTopLeft||l.padding||[0,0]),g=je(l.paddingBottomRight||l.padding||[0,0]),y=this.getBoundsZoom(o,!1,d.add(g));if((y="number"==typeof l.maxZoom?Math.min(l.maxZoom,y):y)===1/0)return{center:o.getCenter(),zoom:y};var C=g.subtract(d).divideBy(2),U=this.project(o.getSouthWest(),y),ne=this.project(o.getNorthEast(),y);return{center:this.unproject(U.add(ne).divideBy(2).add(C),y),zoom:y}},fitBounds:function(o,l){if(!(o=St(o)).isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(o,l);return this.setView(d.center,d.zoom,l)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,l){return this.setView(o,this._zoom,{pan:l})},panBy:function(o,l){if(l=l||{},!(o=je(o).round()).x&&!o.y)return this.fire("moveend");if(!0!==l.animate&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Nt,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),!1!==l.animate){Re(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,d,l.duration||.25,l.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,l,d){if(!1===(d=d||{}).animate||!ze.any3d)return this.setView(o,l,d);this._stop();var g=this.project(this.getCenter()),y=this.project(o),C=this.getSize(),U=this._zoom;o=bt(o),l=void 0===l?U:l;var ne=Math.max(C.x,C.y),oe=ne*this.getZoomScale(U,l),me=y.distanceTo(g)||1,xe=1.42,it=xe*xe;function ht(Dt){var xs=(oe*oe-ne*ne+(Dt?-1:1)*it*it*me*me)/(2*(Dt?oe:ne)*it*me),Hr=Math.sqrt(xs*xs+1)-xs;return Hr<1e-9?-18:Math.log(Hr)}function qn(Dt){return(Math.exp(Dt)-Math.exp(-Dt))/2}function Vr(Dt){return(Math.exp(Dt)+Math.exp(-Dt))/2}var Ji=ht(0);function Rc(Dt){return ne*(Vr(Ji)*function Ds(Dt){return qn(Dt)/Vr(Dt)}(Ji+xe*Dt)-qn(Ji))/it}var Oc=Date.now(),Wn=(ht(1)-Ji)/xe,Bl=d.duration?1e3*d.duration:1e3*Wn*.8;return this._moveStart(!0,d.noMoveStart),function Ca(){var Dt=(Date.now()-Oc)/Bl,Ls=function Da(Dt){return 1-Math.pow(1-Dt,1.5)}(Dt)*Wn;Dt<=1?(this._flyToFrame=ke(Ca,this),this._move(this.unproject(g.add(y.subtract(g).multiplyBy(Rc(Ls)/me)),U),this.getScaleZoom(ne/function Cs(Dt){return ne*(Vr(Ji)/Vr(Ji+xe*Dt))}(Ls),U),{flyTo:!0})):this._move(o,l)._moveEnd(!0)}.call(this),this},flyToBounds:function(o,l){var d=this._getBoundsCenterZoom(o,l);return this.flyTo(d.center,d.zoom,l)},setMaxBounds:function(o){return o=St(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var l=this.options.minZoom;return this.options.minZoom=o,this._loaded&&l!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var l=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&l!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,l){this._enforcingBounds=!0;var d=this.getCenter(),g=this._limitCenter(d,this._zoom,St(o));return d.equals(g)||this.panTo(g,l),this._enforcingBounds=!1,this},panInside:function(o,l){var d=je((l=l||{}).paddingTopLeft||l.padding||[0,0]),g=je(l.paddingBottomRight||l.padding||[0,0]),y=this.project(this.getCenter()),C=this.project(o),U=this.getPixelBounds(),ne=pt([U.min.add(d),U.max.subtract(g)]),oe=ne.getSize();if(!ne.contains(C)){this._enforcingBounds=!0;var me=C.subtract(ne.getCenter()),xe=ne.extend(C).getSize().subtract(oe);y.x+=me.x<0?-xe.x:xe.x,y.y+=me.y<0?-xe.y:xe.y,this.panTo(this.unproject(y),l),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=S({animate:!1,pan:!0},!0===o?{animate:!0}:o);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),g=l.divideBy(2).round(),y=d.divideBy(2).round(),C=g.subtract(y);return C.x||C.y?(o.animate&&o.pan?this.panBy(C):(o.pan&&this._rawPanBy(C),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(P(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:d})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=S({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=P(this._handleGeolocationResponse,this),d=P(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,d,o):navigator.geolocation.getCurrentPosition(l,d,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var l=o.code,d=o.message||(1===l?"permission denied":2===l?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var g=new Lt(o.coords.latitude,o.coords.longitude),y=g.toBounds(2*o.coords.accuracy),C=this._locateOptions;if(C.setView){var U=this.getBoundsZoom(y);this.setView(g,C.maxZoom?Math.min(U,C.maxZoom):U)}var ne={latlng:g,bounds:y,timestamp:o.timestamp};for(var oe in o.coords)"number"==typeof o.coords[oe]&&(ne[oe]=o.coords[oe]);this.fire("locationfound",ne)}},addHandler:function(o,l){if(!l)return this;var d=this[o]=new l(this);return this._handlers.push(d),this.options[o]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}var o;for(o in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),Bt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Pe(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[o].remove();for(o in this._panes)Bt(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,l){var g=Ge("div","leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),l||this._mapPane);return o&&(this._panes[o]=g),g},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds();return new Xt(this.unproject(o.getBottomLeft()),this.unproject(o.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,l,d){o=St(o),d=je(d||[0,0]);var g=this.getZoom()||0,y=this.getMinZoom(),C=this.getMaxZoom(),U=o.getNorthWest(),ne=o.getSouthEast(),oe=this.getSize().subtract(d),me=pt(this.project(ne,g),this.project(U,g)).getSize(),xe=ze.any3d?this.options.zoomSnap:1,it=oe.x/me.x,ht=oe.y/me.y,qn=l?Math.max(it,ht):Math.min(it,ht);return g=this.getScaleZoom(qn,g),xe&&(g=Math.round(g/(xe/100))*(xe/100),g=l?Math.ceil(g/xe)*xe:Math.floor(g/xe)*xe),Math.max(y,Math.min(C,g))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Se(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,l){var d=this._getTopLeftPoint(o,l);return new Be(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(void 0===o?this.getZoom():o)},getPane:function(o){return"string"==typeof o?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,l){var d=this.options.crs;return l=void 0===l?this._zoom:l,d.scale(o)/d.scale(l)},getScaleZoom:function(o,l){var d=this.options.crs,g=d.zoom(o*d.scale(l=void 0===l?this._zoom:l));return isNaN(g)?1/0:g},project:function(o,l){return l=void 0===l?this._zoom:l,this.options.crs.latLngToPoint(bt(o),l)},unproject:function(o,l){return l=void 0===l?this._zoom:l,this.options.crs.pointToLatLng(je(o),l)},layerPointToLatLng:function(o){var l=je(o).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(o){return this.project(bt(o))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(bt(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(St(o))},distance:function(o,l){return this.options.crs.distance(bt(o),bt(l))},containerPointToLayerPoint:function(o){return je(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return je(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var l=this.containerPointToLayerPoint(je(o));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(bt(o)))},mouseEventToContainerPoint:function(o){return ae(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var l=this._container=fs(o);if(!l)throw new Error("Map container not found.");if(l._leaflet_id)throw new Error("Map container is already initialized.");lt(l,"scroll",this._onScroll,this),this._containerId=j(l)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&ze.any3d,Re(o,"leaflet-container"+(ze.touch?" leaflet-touch":"")+(ze.retina?" leaflet-retina":"")+(ze.ielt9?" leaflet-oldie":"")+(ze.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=fr(o,"position");"absolute"!==l&&"relative"!==l&&"fixed"!==l&&"sticky"!==l&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),jt(this._mapPane,new Se(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Re(o.markerPane,"leaflet-zoom-hide"),Re(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,l,d){jt(this._mapPane,new Se(0,0));var g=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var y=this._zoom!==l;this._moveStart(y,d)._move(o,l)._moveEnd(y),this.fire("viewreset"),g&&this.fire("load")},_moveStart:function(o,l){return o&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(o,l,d,g){void 0===l&&(l=this._zoom);var y=this._zoom!==l;return this._zoom=l,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),g?d&&d.pinch&&this.fire("zoom",d):((y||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Pe(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){jt(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[j(this._container)]=this;var l=o?c:lt;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),ze.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Pe(this._resizeRequest),this._resizeRequest=ke(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,l){for(var g,d=[],y="mouseout"===l||"mouseover"===l,C=o.target||o.srcElement,U=!1;C;){if((g=this._targets[j(C)])&&("click"===l||"preclick"===l)&&this._draggableMoved(g)){U=!0;break}if(g&&g.listens(l,!0)&&(y&&!We(C,o)||(d.push(g),y))||C===this._container)break;C=C.parentNode}return!d.length&&!U&&!y&&this.listens(l,!0)&&(d=[this]),d},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var l=o.target||o.srcElement;if(!(!this._loaded||l._leaflet_disable_events||"click"===o.type&&this._isClickDisabled(l))){var d=o.type;"mousedown"===d&&ps(l),this._fireDOMEvent(o,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,l,d){if("click"===o.type){var g=S({},o);g.type="preclick",this._fireDOMEvent(g,g.type,d)}var y=this._findEventTargets(o,l);if(d){for(var C=[],U=0;U<d.length;U++)d[U].listens(l,!0)&&C.push(d[U]);y=C.concat(y)}if(y.length){"contextmenu"===l&&z(o);var ne=y[0],oe={originalEvent:o};if("keypress"!==o.type&&"keydown"!==o.type&&"keyup"!==o.type){var me=ne.getLatLng&&(!ne._radius||ne._radius<=10);oe.containerPoint=me?this.latLngToContainerPoint(ne.getLatLng()):this.mouseEventToContainerPoint(o),oe.layerPoint=this.containerPointToLayerPoint(oe.containerPoint),oe.latlng=me?ne.getLatLng():this.layerPointToLatLng(oe.layerPoint)}for(U=0;U<y.length;U++)if(y[U].fire(l,oe,!0),oe.originalEvent._stopped||!1===y[U].options.bubblingMouseEvents&&-1!==N(this._mouseEvents,l))return}},_draggableMoved:function(o){return(o=o.dragging&&o.dragging.enabled()?o:this).dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,l=this._handlers.length;o<l;o++)this._handlers[o].disable()},whenReady:function(o,l){return this._loaded?o.call(l||this,{target:this}):this.on("load",o,l),this},_getMapPanePos:function(){return we(this._mapPane)||new Se(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,l){return(o&&void 0!==l?this._getNewPixelOrigin(o,l):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,l){var d=this.getSize()._divideBy(2);return this.project(o,l)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,l,d){var g=this._getNewPixelOrigin(d,l);return this.project(o,l)._subtract(g)},_latLngBoundsToNewLayerBounds:function(o,l,d){var g=this._getNewPixelOrigin(d,l);return pt([this.project(o.getSouthWest(),l)._subtract(g),this.project(o.getNorthWest(),l)._subtract(g),this.project(o.getSouthEast(),l)._subtract(g),this.project(o.getNorthEast(),l)._subtract(g)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,l,d){if(!d)return o;var g=this.project(o,l),y=this.getSize().divideBy(2),C=new Be(g.subtract(y),g.add(y)),U=this._getBoundsOffset(C,d,l);return Math.abs(U.x)<=1&&Math.abs(U.y)<=1?o:this.unproject(g.add(U),l)},_limitOffset:function(o,l){if(!l)return o;var d=this.getPixelBounds(),g=new Be(d.min.add(o),d.max.add(o));return o.add(this._getBoundsOffset(g,l))},_getBoundsOffset:function(o,l,d){var g=pt(this.project(l.getNorthEast(),d),this.project(l.getSouthWest(),d)),y=g.min.subtract(o.min),C=g.max.subtract(o.max);return new Se(this._rebound(y.x,-C.x),this._rebound(y.y,-C.y))},_rebound:function(o,l){return o+l>0?Math.round(o-l)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(l))},_limitZoom:function(o){var l=this.getMinZoom(),d=this.getMaxZoom(),g=ze.any3d?this.options.zoomSnap:1;return g&&(o=Math.round(o/g)*g),Math.max(l,Math.min(d,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Vt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,l){var d=this._getCenterOffset(o)._trunc();return!(!0!==(l&&l.animate)&&!this.getSize().contains(d)||(this.panBy(d,l),0))},_createAnimProxy:function(){var o=this._proxy=Ge("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(l){var d=ao,g=this._proxy.style[d];$i(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),g===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Bt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),l=this.getZoom();$i(this._proxy,this.project(o,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,l,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||!1===d.animate||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var g=this.getZoomScale(l),y=this._getCenterOffset(o)._divideBy(1-1/g);return!(!0!==d.animate&&!this.getSize().contains(y)||(ke(function(){this._moveStart(!0,!1)._animateZoom(o,l,!0)},this),0))},_animateZoom:function(o,l,d,g){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=l,Re(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:l,noUpdate:g}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(P(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Vt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var Rt=at.extend({options:{position:"topright"},initialize:function(o){q(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var l=this._map;return l&&l.removeControl(this),this.options.position=o,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var l=this._container=this.onAdd(o),d=this.getPosition(),g=o._controlCorners[d];return Re(l,"leaflet-control"),-1!==d.indexOf("bottom")?g.insertBefore(l,g.firstChild):g.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Bt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),rn=function(o){return new Rt(o)};Ue.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},l="leaflet-",d=this._controlContainer=Ge("div",l+"control-container",this._container);function g(y,C){o[y+C]=Ge("div",l+y+" "+l+C,d)}g("top","left"),g("top","right"),g("bottom","left"),g("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)Bt(this._controlCorners[o]);Bt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var oi=Rt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,l,d,g){return d<g?-1:g<d?1:0}},initialize:function(o,l,d){for(var g in q(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,o)this._addLayer(o[g],g);for(g in l)this._addLayer(l[g],g,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return Rt.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,l){return this._addLayer(o,l),this._map?this._update():this},addOverlay:function(o,l){return this._addLayer(o,l,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var l=this._getLayer(j(o));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){Re(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Re(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):Vt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Vt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",l=this._container=Ge("div",o),d=this.options.collapsed;l.setAttribute("aria-haspopup",!0),F(l),A(l);var g=this._section=Ge("section",o+"-list");d&&(this._map.on("click",this.collapse,this),lt(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var y=this._layersLink=Ge("a",o+"-toggle",l);y.href="#",y.title="Layers",y.setAttribute("role","button"),lt(y,{keydown:function(C){13===C.keyCode&&this._expandSafely()},click:function(C){z(C),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=Ge("div",o+"-base",g),this._separator=Ge("div",o+"-separator",g),this._overlaysList=Ge("div",o+"-overlays",g),l.appendChild(g)},_getLayer:function(o){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&j(this._layers[l].layer)===o)return this._layers[l]},_addLayer:function(o,l,d){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:l,overlay:d}),this.options.sortLayers&&this._layers.sort(P(function(g,y){return this.options.sortFunction(g.layer,y.layer,g.name,y.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ar(this._baseLayersList),Ar(this._overlaysList),this._layerControlInputs=[];var o,l,d,g,y=0;for(d=0;d<this._layers.length;d++)this._addItem(g=this._layers[d]),l=l||g.overlay,o=o||!g.overlay,y+=g.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(o=o&&y>1)?"":"none"),this._separator.style.display=l&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var l=this._getLayer(j(o.target)),d=l.overlay?"add"===o.type?"overlayadd":"overlayremove":"add"===o.type?"baselayerchange":null;d&&this._map.fire(d,l)},_createRadioElement:function(o,l){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(l?' checked="checked"':"")+"/>",g=document.createElement("div");return g.innerHTML=d,g.firstChild},_addItem:function(o){var g,l=document.createElement("label"),d=this._map.hasLayer(o.layer);o.overlay?((g=document.createElement("input")).type="checkbox",g.className="leaflet-control-layers-selector",g.defaultChecked=d):g=this._createRadioElement("leaflet-base-layers_"+j(this),d),this._layerControlInputs.push(g),g.layerId=j(o.layer),lt(g,"click",this._onInputClick,this);var y=document.createElement("span");y.innerHTML=" "+o.name;var C=document.createElement("span");return l.appendChild(C),C.appendChild(g),C.appendChild(y),(o.overlay?this._overlaysList:this._baseLayersList).appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){var l,d,o=this._layerControlInputs,g=[],y=[];this._handlingClick=!0;for(var C=o.length-1;C>=0;C--)d=this._getLayer((l=o[C]).layerId).layer,l.checked?g.push(d):l.checked||y.push(d);for(C=0;C<y.length;C++)this._map.hasLayer(y[C])&&this._map.removeLayer(y[C]);for(C=0;C<g.length;C++)this._map.hasLayer(g[C])||this._map.addLayer(g[C]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var l,d,o=this._layerControlInputs,g=this._map.getZoom(),y=o.length-1;y>=0;y--)d=this._getLayer((l=o[y]).layerId).layer,l.disabled=void 0!==d.options.minZoom&&g<d.options.minZoom||void 0!==d.options.maxZoom&&g>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;lt(o,"click",z),this.expand(),setTimeout(function(){c(o,"click",z)})}}),Ve=Rt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var l="leaflet-control-zoom",d=Ge("div",l+" leaflet-bar"),g=this.options;return this._zoomInButton=this._createButton(g.zoomInText,g.zoomInTitle,l+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(g.zoomOutText,g.zoomOutTitle,l+"-out",d,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,l,d,g,y){var C=Ge("a",d,g);return C.innerHTML=o,C.href="#",C.title=l,C.setAttribute("role","button"),C.setAttribute("aria-label",l),F(C),lt(C,"click",ee),lt(C,"click",y,this),lt(C,"click",this._refocusOnMap,this),C},_updateDisabled:function(){var o=this._map,l="leaflet-disabled";Vt(this._zoomInButton,l),Vt(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Re(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Re(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ue.mergeOptions({zoomControl:!0}),Ue.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ve,this.addControl(this.zoomControl))});var zo=Rt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var l="leaflet-control-scale",d=Ge("div",l),g=this.options;return this._addScales(g,l+"-line",d),o.on(g.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),d},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,l,d){o.metric&&(this._mScale=Ge("div",l,d)),o.imperial&&(this._iScale=Ge("div",l,d))},_update:function(){var o=this._map,l=o.getSize().y/2,d=o.distance(o.containerPointToLatLng([0,l]),o.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(d)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var l=this._getRoundNum(o);this._updateScale(this._mScale,l<1e3?l+" m":l/1e3+" km",l/o)},_updateImperial:function(o){var d,g,y,l=3.2808399*o;l>5280?(g=this._getRoundNum(d=l/5280),this._updateScale(this._iScale,g+" mi",g/d)):(y=this._getRoundNum(l),this._updateScale(this._iScale,y+" ft",y/l))},_updateScale:function(o,l,d){o.style.width=Math.round(this.options.maxWidth*d)+"px",o.innerHTML=l},_getRoundNum:function(o){var l=Math.pow(10,(Math.floor(o)+"").length-1),d=o/l;return l*(d>=10?10:d>=5?5:d>=3?3:d>=2?2:1)}}),uo=Rt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ze.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(o){q(this,o),this._attributions={}},onAdd:function(o){for(var l in o.attributionControl=this,this._container=Ge("div","leaflet-control-attribution"),F(this._container),o._layers)o._layers[l].getAttribution&&this.addAttribution(o._layers[l].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var l in this._attributions)this._attributions[l]&&o.push(l);var d=[];this.options.prefix&&d.push(this.options.prefix),o.length&&d.push(o.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Ue.mergeOptions({attributionControl:!0}),Ue.addInitHook(function(){this.options.attributionControl&&(new uo).addTo(this)});Rt.Layers=oi,Rt.Zoom=Ve,Rt.Scale=zo,Rt.Attribution=uo,rn.layers=function(o,l,d){return new oi(o,l,d)},rn.zoom=function(o){return new Ve(o)},rn.scale=function(o){return new zo(o)},rn.attribution=function(o){return new uo(o)};var bi=at.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});bi.addTo=function(o,l){return o.addHandler(l,this),this};var co,ap={Events:$e},bc=ze.touch?"touchstart mousedown":"mousedown",si=At.extend({options:{clickTolerance:3},initialize:function(o,l,d,g){q(this,g),this._element=o,this._dragStartTarget=l||o,this._preventOutline=d},enable:function(){this._enabled||(lt(this._dragStartTarget,bc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(si._dragging===this&&this.finishDrag(!0),c(this._dragStartTarget,bc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!pr(this._element,"leaflet-zoom-anim"))){if(o.touches&&1!==o.touches.length)return void(si._dragging===this&&this.finishDrag());if(!(si._dragging||o.shiftKey||1!==o.which&&1!==o.button&&!o.touches||(si._dragging=this,this._preventOutline&&ps(this._element),lo(),ki(),this._moving))){this.fire("down");var l=o.touches?o.touches[0]:o,d=jo(this._element);this._startPoint=new Se(l.clientX,l.clientY),this._startPos=we(this._element),this._parentScale=ri(d);var g="mousedown"===o.type;lt(document,g?"mousemove":"touchmove",this._onMove,this),lt(document,g?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1)return void(this._moved=!0);var l=o.touches&&1===o.touches.length?o.touches[0]:o,d=new Se(l.clientX,l.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,z(o),this._moved||(this.fire("dragstart"),this._moved=!0,Re(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Re(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),jt(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){Vt(document.body,"leaflet-dragging"),this._lastTarget&&(Vt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),c(document,"mousemove touchmove",this._onMove,this),c(document,"mouseup touchend touchcancel",this._onUp,this),Bo(),Ke(),this._moved&&this._moving&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,si._dragging=!1}});function _s(o,l){if(!l||!o.length)return o.slice();var d=l*l;return function Mc(o,l){var d=o.length,y=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(d);y[0]=y[d-1]=1,_a(o,y,l,0,d-1);var C,U=[];for(C=0;C<d;C++)y[C]&&U.push(o[C]);return U}(o=function kl(o,l){for(var d=[o[0]],g=1,y=0,C=o.length;g<C;g++)Pl(o[g],o[y])>l&&(d.push(o[g]),y=g);return y<C-1&&d.push(o[C-1]),d}(o,d),d)}function Uo(o,l,d){return Math.sqrt(yt(o,l,d,!0))}function _a(o,l,d,g,y){var U,ne,oe,C=0;for(ne=g+1;ne<=y-1;ne++)(oe=yt(o[ne],o[g],o[y],!0))>C&&(U=ne,C=oe);C>d&&(l[U]=1,_a(o,l,d,g,U),_a(o,l,d,U,y))}function Fr(o,l,d,g,y){var ne,oe,me,C=g?co:He(o,d),U=He(l,d);for(co=U;;){if(!(C|U))return[o,l];if(C&U)return!1;me=He(oe=ys(o,l,ne=C||U,d,y),d),ne===C?(o=oe,C=me):(l=oe,U=me)}}function ys(o,l,d,g,y){var me,xe,C=l.x-o.x,U=l.y-o.y,ne=g.min,oe=g.max;return 8&d?(me=o.x+C*(oe.y-o.y)/U,xe=oe.y):4&d?(me=o.x+C*(ne.y-o.y)/U,xe=ne.y):2&d?(me=oe.x,xe=o.y+U*(oe.x-o.x)/C):1&d&&(me=ne.x,xe=o.y+U*(ne.x-o.x)/C),new Se(me,xe,y)}function He(o,l){var d=0;return o.x<l.min.x?d|=1:o.x>l.max.x&&(d|=2),o.y<l.min.y?d|=4:o.y>l.max.y&&(d|=8),d}function Pl(o,l){var d=l.x-o.x,g=l.y-o.y;return d*d+g*g}function yt(o,l,d,g){var me,y=l.x,C=l.y,U=d.x-y,ne=d.y-C,oe=U*U+ne*ne;return oe>0&&((me=((o.x-y)*U+(o.y-C)*ne)/oe)>1?(y=d.x,C=d.y):me>0&&(y+=U*me,C+=ne*me)),U=o.x-y,ne=o.y-C,g?U*U+ne*ne:new Se(y,C)}function Pn(o){return!Y(o[0])||"object"!=typeof o[0][0]&&typeof o[0][0]<"u"}function vs(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Pn(o)}function ho(o,l){var d,g,y,C,U,ne,oe,me;if(!o||0===o.length)throw new Error("latlngs not passed");Pn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var xe=[];for(var it in o)xe.push(l.project(bt(o[it])));var ht=xe.length;for(d=0,g=0;d<ht-1;d++)g+=xe[d].distanceTo(xe[d+1])/2;if(0===g)me=xe[0];else for(d=0,C=0;d<ht-1;d++)if((C+=y=(U=xe[d]).distanceTo(ne=xe[d+1]))>g){me=[ne.x-(oe=(C-g)/y)*(ne.x-U.x),ne.y-oe*(ne.y-U.y)];break}return l.unproject(je(me))}var Dc={__proto__:null,simplify:_s,pointToSegmentDistance:Uo,closestPointOnSegment:function wc(o,l,d){return yt(o,l,d)},clipSegment:Fr,_getEdgeIntersection:ys,_getBitCode:He,_sqClosestPointOnSegment:yt,isFlat:Pn,_flat:vs,polylineCenter:ho};function Tl(o,l,d){var g,C,U,ne,oe,me,xe,it,ht,y=[1,4,2,8];for(C=0,xe=o.length;C<xe;C++)o[C]._code=He(o[C],l);for(ne=0;ne<4;ne++){for(it=y[ne],g=[],C=0,U=(xe=o.length)-1;C<xe;U=C++)me=o[U],(oe=o[C])._code&it?me._code&it||((ht=ys(me,oe,it,l,d))._code=He(ht,l),g.push(ht)):(me._code&it&&((ht=ys(me,oe,it,l,d))._code=He(ht,l),g.push(ht)),g.push(oe));o=g}return o}function Il(o,l){var d,g,y,C,U,ne,oe,me;if(!o||0===o.length)throw new Error("latlngs not passed");Pn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var it=[];for(var ht in o)it.push(l.project(bt(o[ht])));var qn=it.length;for(ne=oe=me=0,d=0,g=qn-1;d<qn;g=d++)oe+=((y=it[d]).x+(C=it[g]).x)*(U=y.y*C.x-C.y*y.x),me+=(y.y+C.y)*U,ne+=3*U;return l.unproject(je(0===ne?it[0]:[oe/ne,me/ne]))}var Zi={__proto__:null,clipPolygon:Tl,polygonCenter:Il},ai={project:function(o){return new Se(o.lng,o.lat)},unproject:function(o){return new Lt(o.y,o.x)},bounds:new Be([-180,-90],[180,90])},li={R:6378137,R_MINOR:6356752.314245179,bounds:new Be([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(o){var l=Math.PI/180,d=this.R,g=o.lat*l,y=this.R_MINOR/d,C=Math.sqrt(1-y*y),U=C*Math.sin(g),ne=Math.tan(Math.PI/4-g/2)/Math.pow((1-U)/(1+U),C/2);return g=-d*Math.log(Math.max(ne,1e-10)),new Se(o.lng*l*d,g)},unproject:function(o){for(var me,l=180/Math.PI,d=this.R,g=this.R_MINOR/d,y=Math.sqrt(1-g*g),C=Math.exp(-o.y/d),U=Math.PI/2-2*Math.atan(C),ne=0,oe=.1;ne<15&&Math.abs(oe)>1e-7;ne++)me=y*Math.sin(U),me=Math.pow((1-me)/(1+me),y/2),U+=oe=Math.PI/2-2*Math.atan(C*me)-U;return new Lt(U*l,o.x*l/d)}},qi={__proto__:null,LonLat:ai,Mercator:li,SphericalMercator:nt},Ot=S({},wt,{code:"EPSG:3395",projection:li,transformation:function(){var o=.5/(Math.PI*li.R);return zi(o,.5,-o,.5)}()}),Vo=S({},wt,{code:"EPSG:4326",projection:ai,transformation:zi(1/180,1,-1/180,.5)}),ya=S({},Tt,{projection:ai,transformation:zi(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,l){var d=l.lng-o.lng,g=l.lat-o.lat;return Math.sqrt(d*d+g*g)},infinite:!0});Tt.Earth=wt,Tt.EPSG3395=Ot,Tt.EPSG3857=Ui,Tt.EPSG900913=xn,Tt.EPSG4326=Vo,Tt.Simple=ya;var $n=At.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[j(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[j(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var l=o.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var d=this.getEvents();l.on(d,this),this.once("remove",function(){l.off(d,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Ue.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var l=j(o);return this._layers[l]||(this._layers[l]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o)),this},removeLayer:function(o){var l=j(o);return this._layers[l]?(this._loaded&&o.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return j(o)in this._layers},eachLayer:function(o,l){for(var d in this._layers)o.call(l,this._layers[d]);return this},_addLayers:function(o){for(var l=0,d=(o=o?Y(o)?o:[o]:[]).length;l<d;l++)this.addLayer(o[l])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[j(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var l=j(o);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,l=-1/0,d=this._getZoomSpan();for(var g in this._zoomBoundLayers){var y=this._zoomBoundLayers[g].options;o=void 0===y.minZoom?o:Math.min(o,y.minZoom),l=void 0===y.maxZoom?l:Math.max(l,y.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=o===1/0?void 0:o,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Br=$n.extend({initialize:function(o,l){var d,g;if(q(this,l),this._layers={},o)for(d=0,g=o.length;d<g;d++)this.addLayer(o[d])},addLayer:function(o){var l=this.getLayerId(o);return this._layers[l]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var l=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(o){return("number"==typeof o?o:this.getLayerId(o))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var d,g,l=Array.prototype.slice.call(arguments,1);for(d in this._layers)(g=this._layers[d])[o]&&g[o].apply(g,l);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,l){for(var d in this._layers)o.call(l,this._layers[d]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return j(o)}}),Gn=Br.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Br.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Br.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new Xt;for(var l in this._layers){var d=this._layers[l];o.extend(d.getBounds?d.getBounds():d.getLatLng())}return o}}),Ki=at.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){q(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,l){var d=this._getIconUrl(o);if(!d){if("icon"===o)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var g=this._createImg(d,l&&"IMG"===l.tagName?l:null);return this._setIconStyles(g,o),(this.options.crossOrigin||""===this.options.crossOrigin)&&(g.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),g},_setIconStyles:function(o,l){var d=this.options,g=d[l+"Size"];"number"==typeof g&&(g=[g,g]);var y=je(g),C=je("shadow"===l&&d.shadowAnchor||d.iconAnchor||y&&y.divideBy(2,!0));o.className="leaflet-marker-"+l+" "+(d.className||""),C&&(o.style.marginLeft=-C.x+"px",o.style.marginTop=-C.y+"px"),y&&(o.style.width=y.x+"px",o.style.height=y.y+"px")},_createImg:function(o,l){return(l=l||document.createElement("img")).src=o,l},_getIconUrl:function(o){return ze.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});var Ho=Ki.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return"string"!=typeof Ho.imagePath&&(Ho.imagePath=this._detectIconPath()),(this.options.imagePath||Ho.imagePath)+Ki.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var l=function(d,g,y){var C=g.exec(d);return C&&C[y]};return(o=l(o,/^url\((['"])?(.+)\1\)$/,2))&&l(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=Ge("div","leaflet-default-icon-path",document.body),l=fr(o,"background-image")||fr(o,"backgroundImage");if(document.body.removeChild(o),l=this._stripUrl(l))return l;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),Rl=bi.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new si(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Re(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Vt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var l=this._marker,d=l._map,g=this._marker.options.autoPanSpeed,y=this._marker.options.autoPanPadding,C=we(l._icon),U=d.getPixelBounds(),ne=d.getPixelOrigin(),oe=pt(U.min._subtract(ne).add(y),U.max._subtract(ne).subtract(y));if(!oe.contains(C)){var me=je((Math.max(oe.max.x,C.x)-oe.max.x)/(U.max.x-oe.max.x)-(Math.min(oe.min.x,C.x)-oe.min.x)/(U.min.x-oe.min.x),(Math.max(oe.max.y,C.y)-oe.max.y)/(U.max.y-oe.max.y)-(Math.min(oe.min.y,C.y)-oe.min.y)/(U.min.y-oe.min.y)).multiplyBy(g);d.panBy(me,{animate:!1}),this._draggable._newPos._add(me),this._draggable._startPos._add(me),jt(l._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=ke(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(Pe(this._panRequest),this._panRequest=ke(this._adjustPan.bind(this,o)))},_onDrag:function(o){var l=this._marker,d=l._shadow,g=we(l._icon),y=l._map.layerPointToLatLng(g);d&&jt(d,g),l._latlng=y,o.latlng=y,o.oldLatLng=this._oldLatLng,l.fire("move",o).fire("drag",o)},_onDragEnd:function(o){Pe(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Ti=$n.extend({options:{icon:new Ho,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,l){q(this,l),this._latlng=bt(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var l=this._latlng;return this._latlng=bt(o),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=o.icon.createIcon(this._icon),g=!1;d!==this._icon&&(this._icon&&this._removeIcon(),g=!0,o.title&&(d.title=o.title),"IMG"===d.tagName&&(d.alt=o.alt||"")),Re(d,l),o.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&lt(d,"focus",this._panOnFocus,this);var y=o.icon.createShadow(this._shadow),C=!1;y!==this._shadow&&(this._removeShadow(),C=!0),y&&(Re(y,l),y.alt=""),this._shadow=y,o.opacity<1&&this._updateOpacity(),g&&this.getPane().appendChild(this._icon),this._initInteraction(),y&&C&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&c(this._icon,"focus",this._panOnFocus,this),Bt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Bt(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&jt(this._icon,o),this._shadow&&jt(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(Re(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Rl)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Rl(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&Ne(this._icon,o),this._shadow&&Ne(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var l=this.options.icon.options,d=l.iconSize?je(l.iconSize):je(0,0),g=l.iconAnchor?je(l.iconAnchor):je(0,0);o.panInside(this._latlng,{paddingTopLeft:g,paddingBottomRight:d.subtract(g)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var Yi=$n.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return q(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),gn=Yi.extend({options:{fill:!0,radius:10},initialize:function(o,l){q(this,l),this._latlng=bt(o),this._radius=this.options.radius},setLatLng:function(o){var l=this._latlng;return this._latlng=bt(o),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var l=o&&o.radius||this._radius;return Yi.prototype.setStyle.call(this,o),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,l=this._radiusY||o,d=this._clickTolerance(),g=[o+d,l+d];this._pxBounds=new Be(this._point.subtract(g),this._point.add(g))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var kt=gn.extend({initialize:function(o,l,d){if("number"==typeof l&&(l=S({},d,{radius:l})),q(this,l),this._latlng=bt(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new Xt(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Yi.prototype.setStyle,_project:function(){var o=this._latlng.lng,l=this._latlng.lat,d=this._map,g=d.options.crs;if(g.distance===wt.distance){var y=Math.PI/180,C=this._mRadius/wt.R/y,U=d.project([l+C,o]),ne=d.project([l-C,o]),oe=U.add(ne).divideBy(2),me=d.unproject(oe).lat,xe=Math.acos((Math.cos(C*y)-Math.sin(l*y)*Math.sin(me*y))/(Math.cos(l*y)*Math.cos(me*y)))/y;(isNaN(xe)||0===xe)&&(xe=C/Math.cos(Math.PI/180*l)),this._point=oe.subtract(d.getPixelOrigin()),this._radius=isNaN(xe)?0:oe.x-d.project([me,o-xe]).x,this._radiusY=oe.y-U.y}else{var it=g.unproject(g.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(it).x}this._updateBounds()}});var Jt=Yi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,l){q(this,l),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var y,C,l=1/0,d=null,g=yt,U=0,ne=this._parts.length;U<ne;U++)for(var oe=this._parts[U],me=1,xe=oe.length;me<xe;me++){var it=g(o,y=oe[me-1],C=oe[me],!0);it<l&&(l=it,d=g(o,y,C))}return d&&(d.distance=Math.sqrt(l)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ho(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,l){return l=l||this._defaultShape(),o=bt(o),l.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new Xt,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return Pn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var l=[],d=Pn(o),g=0,y=o.length;g<y;g++)d?(l[g]=bt(o[g]),this._bounds.extend(l[g])):l[g]=this._convertLatLngs(o[g]);return l},_project:function(){var o=new Be;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),l=new Se(o,o);this._rawPxBounds&&(this._pxBounds=new Be([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(o,l,d){var C,U,y=o.length;if(o[0]instanceof Lt){for(U=[],C=0;C<y;C++)U[C]=this._map.latLngToLayerPoint(o[C]),d.extend(U[C]);l.push(U)}else for(C=0;C<y;C++)this._projectLatlngs(o[C],l,d)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(o)){if(this.options.noClip)return void(this._parts=this._rings);var d,g,y,C,U,ne,oe,l=this._parts;for(d=0,y=0,C=this._rings.length;d<C;d++)for(g=0,U=(oe=this._rings[d]).length;g<U-1;g++)(ne=Fr(oe[g],oe[g+1],o,g,!0))&&(l[y]=l[y]||[],l[y].push(ne[0]),(ne[1]!==oe[g+1]||g===U-2)&&(l[y].push(ne[1]),y++))}},_simplifyPoints:function(){for(var o=this._parts,l=this.options.smoothFactor,d=0,g=o.length;d<g;d++)o[d]=_s(o[d],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,l){var d,g,y,C,U,ne,oe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(d=0,C=this._parts.length;d<C;d++)for(g=0,y=(U=(ne=this._parts[d]).length)-1;g<U;y=g++)if((l||0!==g)&&Uo(o,ne[y],ne[g])<=oe)return!0;return!1}});Jt._flat=vs;var mn=Jt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Il(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var l=Jt.prototype._convertLatLngs.call(this,o),d=l.length;return d>=2&&l[0]instanceof Lt&&l[0].equals(l[d-1])&&l.pop(),l},_setLatLngs:function(o){Jt.prototype._setLatLngs.call(this,o),Pn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Pn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,l=this.options.weight,d=new Se(l,l);if(o=new Be(o.min.subtract(d),o.max.add(d)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(o)){if(this.options.noClip)return void(this._parts=this._rings);for(var C,g=0,y=this._rings.length;g<y;g++)(C=Tl(this._rings[g],o,!0)).length&&this._parts.push(C)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var d,g,y,C,U,ne,oe,me,l=!1;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(C=0,oe=this._parts.length;C<oe;C++)for(U=0,ne=(me=(d=this._parts[C]).length)-1;U<me;ne=U++)(g=d[U]).y>o.y!=(y=d[ne]).y>o.y&&o.x<(y.x-g.x)*(o.y-g.y)/(y.y-g.y)+g.x&&(l=!l);return l||Jt.prototype._containsPoint.call(this,o,!0)}});var Ii=Gn.extend({initialize:function(o,l){q(this,l),this._layers={},o&&this.addData(o)},addData:function(o){var d,g,y,l=Y(o)?o:o.features;if(l){for(d=0,g=l.length;d<g;d++)((y=l[d]).geometries||y.geometry||y.features||y.coordinates)&&this.addData(y);return this}var C=this.options;if(C.filter&&!C.filter(o))return this;var U=jr(o,C);return U?(U.feature=ln(o),U.defaultOptions=U.options,this.resetStyle(U),C.onEachFeature&&C.onEachFeature(o,U),this.addLayer(U)):this},resetStyle:function(o){return void 0===o?this.eachLayer(this.resetStyle,this):(o.options=S({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(l){this._setLayerStyle(l,o)},this)},_setLayerStyle:function(o,l){o.setStyle&&("function"==typeof l&&(l=l(o.feature)),o.setStyle(l))}});function jr(o,l){var ne,oe,me,xe,d="Feature"===o.type?o.geometry:o,g=d?d.coordinates:null,y=[],C=l&&l.pointToLayer,U=l&&l.coordsToLatLng||Te;if(!g&&!d)return null;switch(d.type){case"Point":return Ri(C,o,ne=U(g),l);case"MultiPoint":for(me=0,xe=g.length;me<xe;me++)ne=U(g[me]),y.push(Ri(C,o,ne,l));return new Gn(y);case"LineString":case"MultiLineString":return oe=st(g,"LineString"===d.type?0:1,U),new Jt(oe,l);case"Polygon":case"MultiPolygon":return oe=st(g,"Polygon"===d.type?1:2,U),new mn(oe,l);case"GeometryCollection":for(me=0,xe=d.geometries.length;me<xe;me++){var it=jr({geometry:d.geometries[me],type:"Feature",properties:o.properties},l);it&&y.push(it)}return new Gn(y);case"FeatureCollection":for(me=0,xe=d.features.length;me<xe;me++){var ht=jr(d.features[me],l);ht&&y.push(ht)}return new Gn(y);default:throw new Error("Invalid GeoJSON object.")}}function Ri(o,l,d,g){return o?o(l,d):new Ti(d,g&&g.markersInheritOptions&&g)}function Te(o){return new Lt(o[1],o[0],o[2])}function st(o,l,d){for(var U,g=[],y=0,C=o.length;y<C;y++)U=l?st(o[y],l-1,d):(d||Te)(o[y]),g.push(U);return g}function qt(o,l){return void 0!==(o=bt(o)).alt?[ue(o.lng,l),ue(o.lat,l),ue(o.alt,l)]:[ue(o.lng,l),ue(o.lat,l)]}function Fn(o,l,d,g){for(var y=[],C=0,U=o.length;C<U;C++)y.push(l?Fn(o[C],Pn(o[C])?0:l-1,d,g):qt(o[C],g));return!l&&d&&y.push(y[0].slice()),y}function ui(o,l){return o.feature?S({},o.feature,{geometry:l}):ln(l)}function ln(o){return"Feature"===o.type||"FeatureCollection"===o.type?o:{type:"Feature",properties:{},geometry:o}}var _r={toGeoJSON:function(o){return ui(this,{type:"Point",coordinates:qt(this.getLatLng(),o)})}};function Qt(o,l){return new Ii(o,l)}Ti.include(_r),kt.include(_r),gn.include(_r),Jt.include({toGeoJSON:function(o){var l=!Pn(this._latlngs);return ui(this,{type:(l?"Multi":"")+"LineString",coordinates:Fn(this._latlngs,l?1:0,!1,o)})}}),mn.include({toGeoJSON:function(o){var l=!Pn(this._latlngs),d=l&&!Pn(this._latlngs[0]),g=Fn(this._latlngs,d?2:l?1:0,!0,o);return l||(g=[g]),ui(this,{type:(d?"Multi":"")+"Polygon",coordinates:g})}}),Br.include({toMultiPoint:function(o){var l=[];return this.eachLayer(function(d){l.push(d.toGeoJSON(o).geometry.coordinates)}),ui(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(o){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===l)return this.toMultiPoint(o);var d="GeometryCollection"===l,g=[];return this.eachLayer(function(y){if(y.toGeoJSON){var C=y.toGeoJSON(o);if(d)g.push(C.geometry);else{var U=ln(C);"FeatureCollection"===U.type?g.push.apply(g,U.features):g.push(U)}}}),d?ui(this,{geometries:g,type:"GeometryCollection"}):{type:"FeatureCollection",features:g}}});var bs=Qt,zr=$n.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,l,d){this._url=o,this._bounds=St(l),q(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Re(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Bt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&yi(this._image),this},bringToBack:function(){return this._map&&Et(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=St(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o="IMG"===this._url.tagName,l=this._image=o?this._url:Ge("img");Re(l,"leaflet-image-layer"),this._zoomAnimated&&Re(l,"leaflet-zoom-animated"),this.options.className&&Re(l,this.options.className),l.onselectstart=ie,l.onmousemove=ie,l.onload=P(this.fire,this,"load"),l.onerror=P(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(l.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o?this._url=l.src:(l.src=this._url,l.alt=this.options.alt)},_animateZoom:function(o){var l=this._map.getZoomScale(o.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;$i(this._image,d,l)},_reset:function(){var o=this._image,l=new Be(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=l.getSize();jt(o,l.min),o.style.width=d.x+"px",o.style.height=d.y+"px"},_updateOpacity:function(){Ne(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),ws=zr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o="VIDEO"===this._url.tagName,l=this._image=o?this._url:Ge("video");if(Re(l,"leaflet-image-layer"),this._zoomAnimated&&Re(l,"leaflet-zoom-animated"),this.options.className&&Re(l,this.options.className),l.onselectstart=ie,l.onmousemove=ie,l.onloadeddata=P(this.fire,this,"load"),o){for(var d=l.getElementsByTagName("source"),g=[],y=0;y<d.length;y++)g.push(d[y].src);this._url=d.length>0?g:[l.src]}else{Y(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var C=0;C<this._url.length;C++){var U=Ge("source");U.src=this._url[C],l.appendChild(U)}}}});var va=zr.extend({_initImage:function(){var o=this._image=this._url;Re(o,"leaflet-image-layer"),this._zoomAnimated&&Re(o,"leaflet-zoom-animated"),this.options.className&&Re(o,this.options.className),o.onselectstart=ie,o.onmousemove=ie}});var Ht=$n.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,l){o&&(o instanceof Lt||Y(o))?(this._latlng=bt(o),q(this,l)):(q(this,o),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(o){return(o=arguments.length?o:this._source._map).hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&Ne(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&Ne(this._container,1),this.bringToFront(),this.options.interactive&&(Re(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(Ne(this._container,0),this._removeTimeout=setTimeout(P(Bt,void 0,this._container),200)):Bt(this._container),this.options.interactive&&(Vt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=bt(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&yi(this._container),this},bringToBack:function(){return this._map&&Et(this._container),this},_prepareOpen:function(o){var l=this._source;if(!l._map)return!1;if(l instanceof Gn){l=null;var d=this._source._layers;for(var g in d)if(d[g]._map){l=d[g];break}if(!l)return!1;this._source=l}if(!o)if(l.getCenter)o=l.getCenter();else if(l.getLatLng)o=l.getLatLng();else{if(!l.getBounds)throw new Error("Unable to get source layer LatLng.");o=l.getBounds().getCenter()}return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,l="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof l)o.innerHTML=l;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),l=je(this.options.offset),d=this._getAnchor();this._zoomAnimated?jt(this._container,o.add(d)):l=l.add(o).add(d);var g=this._containerBottom=-l.y,y=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=g+"px",this._container.style.left=y+"px"}},_getAnchor:function(){return[0,0]}});Ue.include({_initOverlay:function(o,l,d,g){var y=l;return y instanceof o||(y=new o(g).setContent(l)),d&&y.setLatLng(d),y}}),$n.include({_initOverlay:function(o,l,d,g){var y=d;return y instanceof o?(q(y,g),y._source=this):(y=l&&!g?l:new o(g,this)).setContent(d),y}});var yr=Ht.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return!(o=arguments.length?o:this._source._map).hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,Ht.prototype.openOn.call(this,o)},onAdd:function(o){Ht.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Yi||this._source.on("preclick",O))},onRemove:function(o){Ht.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Yi||this._source.off("preclick",O))},getEvents:function(){var o=Ht.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",l=this._container=Ge("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=Ge("div",o+"-content-wrapper",l);if(this._contentNode=Ge("div",o+"-content",d),F(l),A(this._contentNode),lt(l,"contextmenu",O),this._tipContainer=Ge("div",o+"-tip-container",l),this._tip=Ge("div",o+"-tip",this._tipContainer),this.options.closeButton){var g=this._closeButton=Ge("a",o+"-close-button",l);g.setAttribute("role","button"),g.setAttribute("aria-label","Close popup"),g.href="#close",g.innerHTML='<span aria-hidden="true">&#215;</span>',lt(g,"click",function(y){z(y),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,l=o.style;l.width="",l.whiteSpace="nowrap";var d=o.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),l.width=d+1+"px",l.whiteSpace="",l.height="";var y=this.options.maxHeight,C="leaflet-popup-scrolled";y&&o.offsetHeight>y?(l.height=y+"px",Re(o,C)):Vt(o,C),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),d=this._getAnchor();jt(this._container,l.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)return void(this._autopanning=!1);var o=this._map,l=parseInt(fr(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+l,g=this._containerWidth,y=new Se(this._containerLeft,-d-this._containerBottom);y._add(we(this._container));var C=o.layerPointToContainerPoint(y),U=je(this.options.autoPanPadding),ne=je(this.options.autoPanPaddingTopLeft||U),oe=je(this.options.autoPanPaddingBottomRight||U),me=o.getSize(),xe=0,it=0;C.x+g+oe.x>me.x&&(xe=C.x+g-me.x+oe.x),C.x-xe-ne.x<0&&(xe=C.x-ne.x),C.y+d+oe.y>me.y&&(it=C.y+d-me.y+oe.y),C.y-it-ne.y<0&&(it=C.y-ne.y),(xe||it)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([xe,it]))}},_getAnchor:function(){return je(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Ue.mergeOptions({closePopupOnClick:!0}),Ue.include({openPopup:function(o,l,d){return this._initOverlay(yr,o,l,d).openOn(this),this},closePopup:function(o){return(o=arguments.length?o:this._popup)&&o.close(),this}}),$n.include({bindPopup:function(o,l){return this._popup=this._initOverlay(yr,this._popup,o,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof Gn||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(this._popup&&this._map){ee(o);var l=o.layer||o.target;if(this._popup._source===l&&!(l instanceof Yi))return void(this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng));this._popup._source=l,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){13===o.originalEvent.keyCode&&this._openPopup(o)}});var Zn=Ht.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){Ht.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){Ht.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=Ht.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){this._contentNode=this._container=Ge("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide")),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+j(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var l,d,g=this._map,y=this._container,C=g.latLngToContainerPoint(g.getCenter()),U=g.layerPointToContainerPoint(o),ne=this.options.direction,oe=y.offsetWidth,me=y.offsetHeight,xe=je(this.options.offset),it=this._getAnchor();"top"===ne?(l=oe/2,d=me):"bottom"===ne?(l=oe/2,d=0):"center"===ne?(l=oe/2,d=me/2):"right"===ne?(l=0,d=me/2):"left"===ne?(l=oe,d=me/2):U.x<C.x?(ne="right",l=0,d=me/2):(ne="left",l=oe+2*(xe.x+it.x),d=me/2),o=o.subtract(je(l,d,!0)).add(xe).add(it),Vt(y,"leaflet-tooltip-right"),Vt(y,"leaflet-tooltip-left"),Vt(y,"leaflet-tooltip-top"),Vt(y,"leaflet-tooltip-bottom"),Re(y,"leaflet-tooltip-"+ne),jt(y,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&Ne(this._container,o)},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(l)},_getAnchor:function(){return je(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Ue.include({openTooltip:function(o,l,d){return this._initOverlay(Zn,o,l,d).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),$n.include({bindTooltip:function(o,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Zn,this._tooltip,o,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(o||!this._tooltipHandlersAdded){var l=o?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[l](d),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof Gn||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var l=o.getElement();l&&(lt(l,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),lt(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var l=o.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0))},_moveTooltip:function(o){var d,g,l=o.latlng;this._tooltip.options.sticky&&o.originalEvent&&(d=this._map.mouseEventToContainerPoint(o.originalEvent),g=this._map.containerPointToLayerPoint(d),l=this._map.layerPointToLatLng(g)),this._tooltip.setLatLng(l)}});var ba=Ki.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var l=o&&"DIV"===o.tagName?o:document.createElement("div"),d=this.options;if(d.html instanceof Element?(Ar(l),l.appendChild(d.html)):l.innerHTML=!1!==d.html?d.html:"",d.bgPos){var g=je(d.bgPos);l.style.backgroundPosition=-g.x+"px "+-g.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});Ki.Default=Ho;var Ms=$n.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ze.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){q(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),Bt(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(yi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Et(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=B(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof Se?o:new Se(o,o)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var C,l=this.getPane().children,d=-o(-1/0,1/0),g=0,y=l.length;g<y;g++)C=l[g].style.zIndex,l[g]!==this._container&&C&&(d=o(d,+C));isFinite(d)&&(this.options.zIndex=d+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ze.ielt9){Ne(this._container,this.options.opacity);var o=+new Date,l=!1,d=!1;for(var g in this._tiles){var y=this._tiles[g];if(y.current&&y.loaded){var C=Math.min(1,(o-y.loaded)/200);Ne(y.el,C),C<1?l=!0:(y.active?d=!0:this._onOpaqueTile(y),y.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),l&&(Pe(this._fadeFrame),this._fadeFrame=ke(this._updateOpacity,this))}},_onOpaqueTile:ie,_initContainer:function(){this._container||(this._container=Ge("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,l=this.options.maxZoom;if(void 0!==o){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===o?(this._levels[d].el.style.zIndex=l-Math.abs(o-d),this._onUpdateLevel(d)):(Bt(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var g=this._levels[o],y=this._map;return g||((g=this._levels[o]={}).el=Ge("div","leaflet-tile-container leaflet-zoom-animated",this._container),g.el.style.zIndex=l,g.origin=y.project(y.unproject(y.getPixelOrigin()),o).round(),g.zoom=o,this._setZoomTransform(g,y.getCenter(),y.getZoom()),this._onCreateLevel(g)),this._level=g,g}},_onUpdateLevel:ie,_onRemoveLevel:ie,_onCreateLevel:ie,_pruneTiles:function(){if(this._map){var o,l,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom)return void this._removeAllTiles();for(o in this._tiles)(l=this._tiles[o]).retain=l.current;for(o in this._tiles)if((l=this._tiles[o]).current&&!l.active){var g=l.coords;this._retainParent(g.x,g.y,g.z,g.z-5)||this._retainChildren(g.x,g.y,g.z,g.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var l in this._tiles)this._tiles[l].coords.z===o&&this._removeTile(l)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)Bt(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,l,d,g){var y=Math.floor(o/2),C=Math.floor(l/2),U=d-1,ne=new Se(+y,+C);ne.z=+U;var oe=this._tileCoordsToKey(ne),me=this._tiles[oe];return me&&me.active?(me.retain=!0,!0):(me&&me.loaded&&(me.retain=!0),U>g&&this._retainParent(y,C,U,g))},_retainChildren:function(o,l,d,g){for(var y=2*o;y<2*o+2;y++)for(var C=2*l;C<2*l+2;C++){var U=new Se(y,C);U.z=d+1;var ne=this._tileCoordsToKey(U),oe=this._tiles[ne];oe&&oe.active?oe.retain=!0:(oe&&oe.loaded&&(oe.retain=!0),d+1<g&&this._retainChildren(y,C,d+1,g))}},_resetView:function(o){var l=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var l=this.options;return void 0!==l.minNativeZoom&&o<l.minNativeZoom?l.minNativeZoom:void 0!==l.maxNativeZoom&&l.maxNativeZoom<o?l.maxNativeZoom:o},_setView:function(o,l,d,g){var y=Math.round(l);y=void 0!==this.options.maxZoom&&y>this.options.maxZoom||void 0!==this.options.minZoom&&y<this.options.minZoom?void 0:this._clampZoom(y),(!g||this.options.updateWhenZooming&&y!==this._tileZoom)&&(this._tileZoom=y,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==y&&this._update(o),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(o,l)},_setZoomTransforms:function(o,l){for(var d in this._levels)this._setZoomTransform(this._levels[d],o,l)},_setZoomTransform:function(o,l,d){var g=this._map.getZoomScale(d,o.zoom),y=o.origin.multiplyBy(g).subtract(this._map._getNewPixelOrigin(l,d)).round();ze.any3d?$i(o.el,y,g):jt(o.el,y)},_resetGrid:function(){var o=this._map,l=o.options.crs,d=this._tileSize=this.getTileSize(),g=this._tileZoom,y=this._map.getPixelWorldBounds(this._tileZoom);y&&(this._globalTileRange=this._pxBoundsToTileRange(y)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,l.wrapLng[0]],g).x/d.x),Math.ceil(o.project([0,l.wrapLng[1]],g).x/d.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([l.wrapLat[0],0],g).y/d.x),Math.ceil(o.project([l.wrapLat[1],0],g).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var l=this._map,d=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),g=l.getZoomScale(d,this._tileZoom),y=l.project(o,this._tileZoom).floor(),C=l.getSize().divideBy(2*g);return new Be(y.subtract(C),y.add(C))},_update:function(o){var l=this._map;if(l){var d=this._clampZoom(l.getZoom());if(void 0===o&&(o=l.getCenter()),void 0!==this._tileZoom){var g=this._getTiledPixelBounds(o),y=this._pxBoundsToTileRange(g),C=y.getCenter(),U=[],ne=this.options.keepBuffer,oe=new Be(y.getBottomLeft().subtract([ne,-ne]),y.getTopRight().add([ne,-ne]));if(!(isFinite(y.min.x)&&isFinite(y.min.y)&&isFinite(y.max.x)&&isFinite(y.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var me in this._tiles){var xe=this._tiles[me].coords;(xe.z!==this._tileZoom||!oe.contains(new Se(xe.x,xe.y)))&&(this._tiles[me].current=!1)}if(Math.abs(d-this._tileZoom)>1)return void this._setView(o,d);for(var it=y.min.y;it<=y.max.y;it++)for(var ht=y.min.x;ht<=y.max.x;ht++){var qn=new Se(ht,it);if(qn.z=this._tileZoom,this._isValidTile(qn)){var Vr=this._tiles[this._tileCoordsToKey(qn)];Vr?Vr.current=!0:U.push(qn)}}if(U.sort(function(Ji,Cs){return Ji.distanceTo(C)-Cs.distanceTo(C)}),0!==U.length){this._loading||(this._loading=!0,this.fire("loading"));var Ds=document.createDocumentFragment();for(ht=0;ht<U.length;ht++)this._addTile(U[ht],Ds);this._level.el.appendChild(Ds)}}}},_isValidTile:function(o){var l=this._map.options.crs;if(!l.infinite){var d=this._globalTileRange;if(!l.wrapLng&&(o.x<d.min.x||o.x>d.max.x)||!l.wrapLat&&(o.y<d.min.y||o.y>d.max.y))return!1}if(!this.options.bounds)return!0;var g=this._tileCoordsToBounds(o);return St(this.options.bounds).overlaps(g)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var l=this._map,d=this.getTileSize(),g=o.scaleBy(d),y=g.add(d);return[l.unproject(g,o.z),l.unproject(y,o.z)]},_tileCoordsToBounds:function(o){var l=this._tileCoordsToNwSe(o),d=new Xt(l[0],l[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var l=o.split(":"),d=new Se(+l[0],+l[1]);return d.z=+l[2],d},_removeTile:function(o){var l=this._tiles[o];l&&(Bt(l.el),delete this._tiles[o],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Re(o,"leaflet-tile");var l=this.getTileSize();o.style.width=l.x+"px",o.style.height=l.y+"px",o.onselectstart=ie,o.onmousemove=ie,ze.ielt9&&this.options.opacity<1&&Ne(o,this.options.opacity)},_addTile:function(o,l){var d=this._getTilePos(o),g=this._tileCoordsToKey(o),y=this.createTile(this._wrapCoords(o),P(this._tileReady,this,o));this._initTile(y),this.createTile.length<2&&ke(P(this._tileReady,this,o,null,y)),jt(y,d),this._tiles[g]={el:y,coords:o,current:!0},l.appendChild(y),this.fire("tileloadstart",{tile:y,coords:o})},_tileReady:function(o,l,d){l&&this.fire("tileerror",{error:l,tile:d,coords:o});var g=this._tileCoordsToKey(o);(d=this._tiles[g])&&(d.loaded=+new Date,this._map._fadeAnimated?(Ne(d.el,0),Pe(this._fadeFrame),this._fadeFrame=ke(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),l||(Re(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ze.ielt9||!this._map._fadeAnimated?ke(this._pruneTiles,this):setTimeout(P(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var l=new Se(this._wrapX?W(o.x,this._wrapX):o.x,this._wrapY?W(o.y,this._wrapY):o.y);return l.z=o.z,l},_pxBoundsToTileRange:function(o){var l=this.getTileSize();return new Be(o.min.unscaleBy(l).floor(),o.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});var Ur=Ms.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,l){this._url=o,(l=q(this,l)).detectRetina&&ze.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),"string"==typeof l.subdomains&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,l){return this._url===o&&void 0===l&&(l=!0),this._url=o,l||this.redraw(),this},createTile:function(o,l){var d=document.createElement("img");return lt(d,"load",P(this._tileOnLoad,this,l,d)),lt(d,"error",P(this._tileOnError,this,l,d)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(d.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(o),d},getTileUrl:function(o){var l={r:ze.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-o.y;this.options.tms&&(l.y=d),l["-y"]=d}return J(this._url,S(l,this.options))},_tileOnLoad:function(o,l){ze.ielt9?setTimeout(P(o,this,null,l),0):o(null,l)},_tileOnError:function(o,l,d){var g=this.options.errorTileUrl;g&&l.getAttribute("src")!==g&&(l.src=g),o(d,l)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom;return this.options.zoomReverse&&(o=this.options.maxZoom-o),o+this.options.zoomOffset},_getSubdomain:function(o){var l=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var o,l;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&((l=this._tiles[o].el).onload=ie,l.onerror=ie,!l.complete)){l.src=G;var d=this._tiles[o].coords;Bt(l),delete this._tiles[o],this.fire("tileabort",{tile:l,coords:d})}},_removeTile:function(o){var l=this._tiles[o];if(l)return l.el.setAttribute("src",G),Ms.prototype._removeTile.call(this,o)},_tileReady:function(o,l,d){if(this._map&&(!d||d.getAttribute("src")!==G))return Ms.prototype._tileReady.call(this,o,l,d)}});function Zo(o,l){return new Ur(o,l)}var qo=Ur.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,l){this._url=o;var d=S({},this.defaultWmsParams);for(var g in l)g in this.options||(d[g]=l[g]);var y=(l=q(this,l)).detectRetina&&ze.retina?2:1,C=this.getTileSize();d.width=C.x*y,d.height=C.y*y,this.wmsParams=d},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,Ur.prototype.onAdd.call(this,o)},getTileUrl:function(o){var l=this._tileCoordsToNwSe(o),d=this._crs,g=pt(d.project(l[0]),d.project(l[1])),y=g.min,C=g.max,U=(this._wmsVersion>=1.3&&this._crs===Vo?[y.y,y.x,C.y,C.x]:[y.x,y.y,C.x,C.y]).join(","),ne=Ur.prototype.getTileUrl.call(this,o);return ne+se(this.wmsParams,ne,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+U},setParams:function(o,l){return S(this.wmsParams,o),l||this.redraw(),this}});Ur.WMS=qo,Zo.wms=function mo(o,l){return new qo(o,l)};var Kt=$n.extend({options:{padding:.1},initialize:function(o){q(this,o),j(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&Re(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,l){var d=this._map.getZoomScale(l,this._zoom),g=this._map.getSize().multiplyBy(.5+this.options.padding),y=this._map.project(this._center,l),C=g.multiplyBy(-d).add(y).subtract(this._map._getNewPixelOrigin(o,l));ze.any3d?$i(this._container,C,d):jt(this._container,C)},_reset:function(){for(var o in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,l=this._map.getSize(),d=this._map.containerPointToLayerPoint(l.multiplyBy(-o)).round();this._bounds=new Be(d,d.add(l.multiplyBy(1+2*o)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),xc=Kt.extend({options:{tolerance:0},getEvents:function(){var o=Kt.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Kt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");lt(o,"mousemove",this._onMouseMove,this),lt(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),lt(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){Pe(this._redrawRequest),delete this._ctx,Bt(this._container),c(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var l in this._redrawBounds=null,this._layers)this._layers[l]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Kt.prototype._update.call(this);var o=this._bounds,l=this._container,d=o.getSize(),g=ze.retina?2:1;jt(l,o.min),l.width=g*d.x,l.height=g*d.y,l.style.width=d.x+"px",l.style.height=d.y+"px",ze.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){Kt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[j(o)]=o;var l=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var l=o._order,d=l.next,g=l.prev;d?d.prev=g:this._drawLast=g,g?g.next=d:this._drawFirst=d,delete o._order,delete this._layers[j(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if("string"==typeof o.options.dashArray){var g,y,l=o.options.dashArray.split(/[, ]+/),d=[];for(y=0;y<l.length;y++){if(g=Number(l[y]),isNaN(g))return;d.push(g)}o.options._dashArray=d}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||ke(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var l=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Be,this._redrawBounds.extend(o._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(o._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var l=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,l=this._redrawBounds;if(this._ctx.save(),l){var d=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var g=this._drawFirst;g;g=g.next)o=g.layer,(!l||o._pxBounds&&o._pxBounds.intersects(l))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,l){if(this._drawing){var d,g,y,C,U=o._parts,ne=U.length,oe=this._ctx;if(ne){for(oe.beginPath(),d=0;d<ne;d++){for(g=0,y=U[d].length;g<y;g++)oe[g?"lineTo":"moveTo"]((C=U[d][g]).x,C.y);l&&oe.closePath()}this._fillStroke(oe,o)}}},_updateCircle:function(o){if(this._drawing&&!o._empty()){var l=o._point,d=this._ctx,g=Math.max(Math.round(o._radius),1),y=(Math.max(Math.round(o._radiusY),1)||g)/g;1!==y&&(d.save(),d.scale(1,y)),d.beginPath(),d.arc(l.x,l.y/y,g,0,2*Math.PI,!1),1!==y&&d.restore(),this._fillStroke(d,o)}},_fillStroke:function(o,l){var d=l.options;d.fill&&(o.globalAlpha=d.fillOpacity,o.fillStyle=d.fillColor||d.color,o.fill(d.fillRule||"evenodd")),d.stroke&&0!==d.weight&&(o.setLineDash&&o.setLineDash(l.options&&l.options._dashArray||[]),o.globalAlpha=d.opacity,o.lineWidth=d.weight,o.strokeStyle=d.color,o.lineCap=d.lineCap,o.lineJoin=d.lineJoin,o.stroke())},_onClick:function(o){for(var d,g,l=this._map.mouseEventToLayerPoint(o),y=this._drawFirst;y;y=y.next)(d=y.layer).options.interactive&&d._containsPoint(l)&&("click"!==o.type&&"preclick"!==o.type||!this._map._draggableMoved(d))&&(g=d);this._fireEvent(!!g&&[g],o)},_onMouseMove:function(o){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var l=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,l)}},_handleMouseOut:function(o){var l=this._hoveredLayer;l&&(Vt(this._container,"leaflet-interactive"),this._fireEvent([l],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,l){if(!this._mouseHoverThrottled){for(var d,g,y=this._drawFirst;y;y=y.next)(d=y.layer).options.interactive&&d._containsPoint(l)&&(g=d);g!==this._hoveredLayer&&(this._handleMouseOut(o),g&&(Re(this._container,"leaflet-interactive"),this._fireEvent([g],o,"mouseover"),this._hoveredLayer=g)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],o),this._mouseHoverThrottled=!0,setTimeout(P(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,l,d){this._map._fireDOMEvent(l,d||l.type,o)},_bringToFront:function(o){var l=o._order;if(l){var d=l.next,g=l.prev;if(!d)return;d.prev=g,g?g.next=d:d&&(this._drawFirst=d),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(o)}},_bringToBack:function(o){var l=o._order;if(l){var d=l.next,g=l.prev;if(!g)return;g.next=d,d?d.prev=g:g&&(this._drawLast=g),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(o)}}});function Bn(o){return ze.canvas?new xc(o):null}var Tn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Ma={_initContainer:function(){this._container=Ge("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Kt.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var l=o._container=Tn("shape");Re(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",o._path=Tn("path"),l.appendChild(o._path),this._updateStyle(o),this._layers[j(o)]=o},_addPath:function(o){var l=o._container;this._container.appendChild(l),o.options.interactive&&o.addInteractiveTarget(l)},_removePath:function(o){var l=o._container;Bt(l),o.removeInteractiveTarget(l),delete this._layers[j(o)]},_updateStyle:function(o){var l=o._stroke,d=o._fill,g=o.options,y=o._container;y.stroked=!!g.stroke,y.filled=!!g.fill,g.stroke?(l||(l=o._stroke=Tn("stroke")),y.appendChild(l),l.weight=g.weight+"px",l.color=g.color,l.opacity=g.opacity,l.dashStyle=g.dashArray?Y(g.dashArray)?g.dashArray.join(" "):g.dashArray.replace(/( *, *)/g," "):"",l.endcap=g.lineCap.replace("butt","flat"),l.joinstyle=g.lineJoin):l&&(y.removeChild(l),o._stroke=null),g.fill?(d||(d=o._fill=Tn("fill")),y.appendChild(d),d.color=g.fillColor||g.color,d.opacity=g.fillOpacity):d&&(y.removeChild(d),o._fill=null)},_updateCircle:function(o){var l=o._point.round(),d=Math.round(o._radius),g=Math.round(o._radiusY||d);this._setPath(o,o._empty()?"M0 0":"AL "+l.x+","+l.y+" "+d+","+g+" 0,23592600")},_setPath:function(o,l){o._path.v=l},_bringToFront:function(o){yi(o._container)},_bringToBack:function(o){Et(o._container)}},vr=ze.vml?Tn:Po,br=Kt.extend({_initContainer:function(){this._container=vr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=vr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Bt(this._container),c(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){Kt.prototype._update.call(this);var o=this._bounds,l=o.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,d.setAttribute("width",l.x),d.setAttribute("height",l.y)),jt(d,o.min),d.setAttribute("viewBox",[o.min.x,o.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(o){var l=o._path=vr("path");o.options.className&&Re(l,o.options.className),o.options.interactive&&Re(l,"leaflet-interactive"),this._updateStyle(o),this._layers[j(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){Bt(o._path),o.removeInteractiveTarget(o._path),delete this._layers[j(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var l=o._path,d=o.options;l&&(d.stroke?(l.setAttribute("stroke",d.color),l.setAttribute("stroke-opacity",d.opacity),l.setAttribute("stroke-width",d.weight),l.setAttribute("stroke-linecap",d.lineCap),l.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?l.setAttribute("stroke-dasharray",d.dashArray):l.removeAttribute("stroke-dasharray"),d.dashOffset?l.setAttribute("stroke-dashoffset",d.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),d.fill?(l.setAttribute("fill",d.fillColor||d.color),l.setAttribute("fill-opacity",d.fillOpacity),l.setAttribute("fill-rule",d.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(o,l){this._setPath(o,Tr(o._parts,l))},_updateCircle:function(o){var l=o._point,d=Math.max(Math.round(o._radius),1),y="a"+d+","+(Math.max(Math.round(o._radiusY),1)||d)+" 0 1,0 ",C=o._empty()?"M0 0":"M"+(l.x-d)+","+l.y+y+2*d+",0 "+y+2*-d+",0 ";this._setPath(o,C)},_setPath:function(o,l){o._path.setAttribute("d",l)},_bringToFront:function(o){yi(o._path)},_bringToBack:function(o){Et(o._path)}});function ci(o){return ze.svg||ze.vml?new br(o):null}ze.vml&&br.include(Ma),Ue.include({getRenderer:function(o){var l=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(o){if("overlayPane"===o||void 0===o)return!1;var l=this._paneRenderers[o];return void 0===l&&(l=this._createRenderer({pane:o}),this._paneRenderers[o]=l),l},_createRenderer:function(o){return this.options.preferCanvas&&Bn(o)||ci(o)}});var Al=mn.extend({initialize:function(o,l){mn.prototype.initialize.call(this,this._boundsToLatLngs(o),l)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return[(o=St(o)).getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});br.create=vr,br.pointsToPath=Tr,Ii.geometryToLayer=jr,Ii.coordsToLatLng=Te,Ii.coordsToLatLngs=st,Ii.latLngToCoords=qt,Ii.latLngsToCoords=Fn,Ii.getFeature=ui,Ii.asFeature=ln,Ue.mergeOptions({boxZoom:!0});var Nl=bi.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){lt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){c(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Bt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||1!==o.which&&1!==o.button)return!1;this._clearDeferredResetState(),this._resetState(),ki(),lo(),this._startPoint=this._map.mouseEventToContainerPoint(o),lt(document,{contextmenu:ee,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=Ge("div","leaflet-zoom-box",this._container),Re(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var l=new Be(this._point,this._startPoint),d=l.getSize();jt(this._box,l.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(Bt(this._box),Vt(this._container,"leaflet-crosshair")),Ke(),Bo(),c(document,{contextmenu:ee,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if((1===o.which||1===o.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(P(this._resetState,this),0);var l=new Xt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(o){27===o.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ue.addInitHook("addHandler","boxZoom",Nl),Ue.mergeOptions({doubleClickZoom:!0});var Fl=bi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var l=this._map,d=l.getZoom(),g=l.options.zoomDelta,y=o.originalEvent.shiftKey?d-g:d+g;"center"===l.options.doubleClickZoom?l.setZoom(y):l.setZoomAround(o.containerPoint,y)}});Ue.addInitHook("addHandler","doubleClickZoom",Fl),Ue.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Sc=bi.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new si(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Re(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Vt(this._map._container,"leaflet-grab"),Vt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=St(this._map.options.maxBounds);this._offsetLimit=pt(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var l=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(l),this._prunePositions(l)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,l){return o-(o-l)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var o=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;o.x<l.min.x&&(o.x=this._viscousLimit(o.x,l.min.x)),o.y<l.min.y&&(o.y=this._viscousLimit(o.y,l.min.y)),o.x>l.max.x&&(o.x=this._viscousLimit(o.x,l.max.x)),o.y>l.max.y&&(o.y=this._viscousLimit(o.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,l=Math.round(o/2),d=this._initialWorldOffset,g=this._draggable._newPos.x,y=(g-l+d)%o+l-d,C=(g+l+d)%o-l-d,U=Math.abs(y+d)<Math.abs(C+d)?y:C;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=U},_onDragEnd:function(o){var l=this._map,d=l.options,g=!d.inertia||o.noInertia||this._times.length<2;if(l.fire("dragend",o),g)l.fire("moveend");else{this._prunePositions(+new Date);var y=this._lastPos.subtract(this._positions[0]),U=d.easeLinearity,ne=y.multiplyBy(U/((this._lastTime-this._times[0])/1e3)),oe=ne.distanceTo([0,0]),me=Math.min(d.inertiaMaxSpeed,oe),xe=ne.multiplyBy(me/oe),it=me/(d.inertiaDeceleration*U),ht=xe.multiplyBy(-it/2).round();ht.x||ht.y?(ht=l._limitOffset(ht,l.options.maxBounds),ke(function(){l.panBy(ht,{duration:it,easeLinearity:U,noMoveStart:!0,animate:!0})})):l.fire("moveend")}}});Ue.addInitHook("addHandler","dragging",Sc),Ue.mergeOptions({keyboard:!0,keyboardPanDelta:80});var kc=bi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),lt(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),c(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,l=document.documentElement,d=o.scrollTop||l.scrollTop,g=o.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(g,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var g,y,l=this._panKeys={},d=this.keyCodes;for(g=0,y=d.left.length;g<y;g++)l[d.left[g]]=[-1*o,0];for(g=0,y=d.right.length;g<y;g++)l[d.right[g]]=[o,0];for(g=0,y=d.down.length;g<y;g++)l[d.down[g]]=[0,o];for(g=0,y=d.up.length;g<y;g++)l[d.up[g]]=[0,-1*o]},_setZoomDelta:function(o){var g,y,l=this._zoomKeys={},d=this.keyCodes;for(g=0,y=d.zoomIn.length;g<y;g++)l[d.zoomIn[g]]=o;for(g=0,y=d.zoomOut.length;g<y;g++)l[d.zoomOut[g]]=-o},_addHooks:function(){lt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){c(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var g,l=o.keyCode,d=this._map;if(l in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(g=this._panKeys[l],o.shiftKey&&(g=je(g).multiplyBy(3)),d.options.maxBounds&&(g=d._limitOffset(je(g),d.options.maxBounds)),d.options.worldCopyJump){var y=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(g)));d.panTo(y)}else d.panBy(g)}else if(l in this._zoomKeys)d.setZoom(d.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[l]);else{if(27!==l||!d._popup||!d._popup.options.closeOnEscapeKey)return;d.closePopup()}ee(o)}}});Ue.addInitHook("addHandler","keyboard",kc),Ue.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Pc=bi.extend({addHooks:function(){lt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){c(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var l=Ee(o),d=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var g=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(P(this._performZoom,this),g),ee(o)},_performZoom:function(){var o=this._map,l=o.getZoom(),d=this._map.options.zoomSnap||0;o._stop();var y=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,C=d?Math.ceil(y/d)*d:y,U=o._limitZoom(l+(this._delta>0?C:-C))-l;this._delta=0,this._startTime=null,U&&("center"===o.options.scrollWheelZoom?o.setZoom(l+U):o.setZoomAround(this._lastMousePos,l+U))}});Ue.addInitHook("addHandler","scrollWheelZoom",Pc);Ue.mergeOptions({tapHold:ze.touchNative&&ze.safari&&ze.mobile,tapTolerance:15});var Tc=bi.extend({addHooks:function(){lt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){c(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),1===o.touches.length){var l=o.touches[0];this._startPos=this._newPos=new Se(l.clientX,l.clientY),this._holdTimeout=setTimeout(P(function(){this._cancel(),this._isTapValid()&&(lt(document,"touchend",z),lt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),600),lt(document,"touchend touchcancel contextmenu",this._cancel,this),lt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){c(document,"touchend",z),c(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),c(document,"touchend touchcancel contextmenu",this._cancel,this),c(document,"touchmove",this._onMove,this)},_onMove:function(o){var l=o.touches[0];this._newPos=new Se(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,l){var d=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});d._simulated=!0,l.target.dispatchEvent(d)}});Ue.addInitHook("addHandler","tapHold",Tc),Ue.mergeOptions({touchZoom:ze.touch,bounceAtZoomLimits:!0});var Ic=bi.extend({addHooks:function(){Re(this._map._container,"leaflet-touch-zoom"),lt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Vt(this._map._container,"leaflet-touch-zoom"),c(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var l=this._map;if(o.touches&&2===o.touches.length&&!l._animatingZoom&&!this._zooming){var d=l.mouseEventToContainerPoint(o.touches[0]),g=l.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),"center"!==l.options.touchZoom&&(this._pinchStartLatLng=l.containerPointToLatLng(d.add(g)._divideBy(2))),this._startDist=d.distanceTo(g),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),lt(document,"touchmove",this._onTouchMove,this),lt(document,"touchend touchcancel",this._onTouchEnd,this),z(o)}},_onTouchMove:function(o){if(o.touches&&2===o.touches.length&&this._zooming){var l=this._map,d=l.mouseEventToContainerPoint(o.touches[0]),g=l.mouseEventToContainerPoint(o.touches[1]),y=d.distanceTo(g)/this._startDist;if(this._zoom=l.getScaleZoom(y,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&y<1||this._zoom>l.getMaxZoom()&&y>1)&&(this._zoom=l._limitZoom(this._zoom)),"center"===l.options.touchZoom){if(this._center=this._startLatLng,1===y)return}else{var C=d._add(g)._divideBy(2)._subtract(this._centerPoint);if(1===y&&0===C.x&&0===C.y)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(C),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),Pe(this._animRequest);var U=P(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ke(U,this,!0),z(o)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,Pe(this._animRequest),c(document,"touchmove",this._onTouchMove,this),c(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Ue.addInitHook("addHandler","touchZoom",Ic),Ue.BoxZoom=Nl,Ue.DoubleClickZoom=Fl,Ue.Drag=Sc,Ue.Keyboard=kc,Ue.ScrollWheelZoom=Pc,Ue.TapHold=Tc,Ue.TouchZoom=Ic,ye.Bounds=Be,ye.Browser=ze,ye.CRS=Tt,ye.Canvas=xc,ye.Circle=kt,ye.CircleMarker=gn,ye.Class=at,ye.Control=Rt,ye.DivIcon=ba,ye.DivOverlay=Ht,ye.DomEvent=ut,ye.DomUtil=Sl,ye.Draggable=si,ye.Evented=At,ye.FeatureGroup=Gn,ye.GeoJSON=Ii,ye.GridLayer=Ms,ye.Handler=bi,ye.Icon=Ki,ye.ImageOverlay=zr,ye.LatLng=Lt,ye.LatLngBounds=Xt,ye.Layer=$n,ye.LayerGroup=Br,ye.LineUtil=Dc,ye.Map=Ue,ye.Marker=Ti,ye.Mixin=ap,ye.Path=Yi,ye.Point=Se,ye.PolyUtil=Zi,ye.Polygon=mn,ye.Polyline=Jt,ye.Popup=yr,ye.PosAnimation=Nt,ye.Projection=qi,ye.Rectangle=Al,ye.Renderer=Kt,ye.SVG=br,ye.SVGOverlay=va,ye.TileLayer=Ur,ye.Tooltip=Zn,ye.Transformation=ji,ye.Util=Ae,ye.VideoOverlay=ws,ye.bind=P,ye.bounds=pt,ye.canvas=Bn,ye.circle=function En(o,l,d){return new kt(o,l,d)},ye.circleMarker=function Nn(o,l){return new gn(o,l)},ye.control=rn,ye.divIcon=function $t(o){return new ba(o)},ye.extend=S,ye.featureGroup=function(o,l){return new Gn(o,l)},ye.geoJSON=Qt,ye.geoJson=bs,ye.gridLayer=function wa(o){return new Ms(o)},ye.icon=function Lc(o){return new Ki(o)},ye.imageOverlay=function(o,l,d){return new zr(o,l,d)},ye.latLng=bt,ye.latLngBounds=St,ye.layerGroup=function(o,l){return new Br(o,l)},ye.map=function It(o,l){return new Ue(o,l)},ye.marker=function Ec(o,l){return new Ti(o,l)},ye.point=je,ye.polygon=function Ol(o,l){return new mn(o,l)},ye.polyline=function fo(o,l){return new Jt(o,l)},ye.popup=function(o,l){return new yr(o,l)},ye.rectangle=function lp(o,l){return new Al(o,l)},ye.setOptions=q,ye.stamp=j,ye.svg=ci,ye.svgOverlay=function po(o,l,d){return new va(o,l,d)},ye.tileLayer=Zo,ye.tooltip=function(o,l){return new Zn(o,l)},ye.transformation=zi,ye.version="1.9.3",ye.videoOverlay=function $o(o,l,d){return new ws(o,l,d)};var cp=window.L;ye.noConflict=function(){return window.L=cp,this},window.L=ye}(ko)}},us=>{us(us.s=274)}]);