(self.webpackChunkpaat=self.webpackChunkpaat||[]).push([[179],{889:()=>{(()=>{var ps={9705:(x,S,C)=>{"use strict";var P=C(1540);function I(j){var B=[1/0,1/0,-1/0,-1/0];return P.coordEach(j,function(W){B[0]>W[0]&&(B[0]=W[0]),B[1]>W[1]&&(B[1]=W[1]),B[2]<W[0]&&(B[2]=W[0]),B[3]<W[1]&&(B[3]=W[1])}),B}I.default=I,S.Z=I},4102:(x,S)=>{"use strict";function C(Y,X,J){void 0===J&&(J={});var N={type:"Feature"};return(0===J.id||J.id)&&(N.id=J.id),J.bbox&&(N.bbox=J.bbox),N.properties=X||{},N.geometry=Y,N}function P(Y,X,J){if(void 0===J&&(J={}),!Y)throw new Error("coordinates is required");if(!Array.isArray(Y))throw new Error("coordinates must be an Array");if(Y.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!se(Y[0])||!se(Y[1]))throw new Error("coordinates must contain numbers");return C({type:"Point",coordinates:Y},X,J)}function I(Y,X,J){void 0===J&&(J={});for(var N=0,G=Y;N<G.length;N++){var ee=G[N];if(ee.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var me=0;me<ee[ee.length-1].length;me++)if(ee[ee.length-1][me]!==ee[0][me])throw new Error("First and last Position are not equivalent.")}return C({type:"Polygon",coordinates:Y},X,J)}function j(Y,X,J){if(void 0===J&&(J={}),Y.length<2)throw new Error("coordinates must be an array of two or more positions");return C({type:"LineString",coordinates:Y},X,J)}function B(Y,X){void 0===X&&(X={});var J={type:"FeatureCollection"};return X.id&&(J.id=X.id),X.bbox&&(J.bbox=X.bbox),J.features=Y,J}function W(Y,X,J){return void 0===J&&(J={}),C({type:"MultiLineString",coordinates:Y},X,J)}function re(Y,X,J){return void 0===J&&(J={}),C({type:"MultiPoint",coordinates:Y},X,J)}function ue(Y,X,J){return void 0===J&&(J={}),C({type:"MultiPolygon",coordinates:Y},X,J)}function be(Y,X){void 0===X&&(X="kilometers");var J=S.factors[X];if(!J)throw new Error(X+" units is invalid");return Y*J}function ie(Y,X){void 0===X&&(X="kilometers");var J=S.factors[X];if(!J)throw new Error(X+" units is invalid");return Y/J}function q(Y){return Y%(2*Math.PI)*180/Math.PI}function se(Y){return!isNaN(Y)&&null!==Y&&!Array.isArray(Y)}Object.defineProperty(S,"__esModule",{value:!0}),S.earthRadius=6371008.8,S.factors={centimeters:100*S.earthRadius,centimetres:100*S.earthRadius,degrees:S.earthRadius/111325,feet:3.28084*S.earthRadius,inches:39.37*S.earthRadius,kilometers:S.earthRadius/1e3,kilometres:S.earthRadius/1e3,meters:S.earthRadius,metres:S.earthRadius,miles:S.earthRadius/1609.344,millimeters:1e3*S.earthRadius,millimetres:1e3*S.earthRadius,nauticalmiles:S.earthRadius/1852,radians:1,yards:1.0936*S.earthRadius},S.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/S.earthRadius,yards:1.0936133},S.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},S.feature=C,S.geometry=function(Y,X,J){switch(void 0===J&&(J={}),Y){case"Point":return P(X).geometry;case"LineString":return j(X).geometry;case"Polygon":return I(X).geometry;case"MultiPoint":return re(X).geometry;case"MultiLineString":return W(X).geometry;case"MultiPolygon":return ue(X).geometry;default:throw new Error(Y+" is invalid")}},S.point=P,S.points=function(Y,X,J){return void 0===J&&(J={}),B(Y.map(function(N){return P(N,X)}),J)},S.polygon=I,S.polygons=function(Y,X,J){return void 0===J&&(J={}),B(Y.map(function(N){return I(N,X)}),J)},S.lineString=j,S.lineStrings=function(Y,X,J){return void 0===J&&(J={}),B(Y.map(function(N){return j(N,X)}),J)},S.featureCollection=B,S.multiLineString=W,S.multiPoint=re,S.multiPolygon=ue,S.geometryCollection=function(Y,X,J){return void 0===J&&(J={}),C({type:"GeometryCollection",geometries:Y},X,J)},S.round=function(Y,X){if(void 0===X&&(X=0),X&&!(X>=0))throw new Error("precision must be a positive number");var J=Math.pow(10,X||0);return Math.round(Y*J)/J},S.radiansToLength=be,S.lengthToRadians=ie,S.lengthToDegrees=function(Y,X){return q(ie(Y,X))},S.bearingToAzimuth=function(Y){var X=Y%360;return X<0&&(X+=360),X},S.radiansToDegrees=q,S.degreesToRadians=function(Y){return Y%360*Math.PI/180},S.convertLength=function(Y,X,J){if(void 0===X&&(X="kilometers"),void 0===J&&(J="kilometers"),!(Y>=0))throw new Error("length must be a positive number");return be(ie(Y,X),J)},S.convertArea=function(Y,X,J){if(void 0===X&&(X="meters"),void 0===J&&(J="kilometers"),!(Y>=0))throw new Error("area must be a positive number");var N=S.areaFactors[X];if(!N)throw new Error("invalid original units");var G=S.areaFactors[J];if(!G)throw new Error("invalid final units");return Y/N*G},S.isNumber=se,S.isObject=function(Y){return!!Y&&Y.constructor===Object},S.validateBBox=function(Y){if(!Y)throw new Error("bbox is required");if(!Array.isArray(Y))throw new Error("bbox must be an Array");if(4!==Y.length&&6!==Y.length)throw new Error("bbox must be an Array of 4 or 6 numbers");Y.forEach(function(X){if(!se(X))throw new Error("bbox must only contain numbers")})},S.validateId=function(Y){if(!Y)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof Y))throw new Error("id must be a number or a string")}},1540:(x,S,C)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});var P=C(4102);function I(ie,q,se){if(null!==ie)for(var Y,X,J,N,G,ee,me,De,Me=0,Le=0,ke=ie.type,Pe="FeatureCollection"===ke,Ae="Feature"===ke,at=Pe?ie.features.length:1,Be=0;Be<at;Be++){G=(De=!!(me=Pe?ie.features[Be].geometry:Ae?ie.geometry:ie)&&"GeometryCollection"===me.type)?me.geometries.length:1;for(var $e=0;$e<G;$e++){var At=0,Se=0;if(null!==(N=De?me.geometries[$e]:me)){ee=N.coordinates;var it=N.type;switch(Me=!se||"Polygon"!==it&&"MultiPolygon"!==it?0:1,it){case null:break;case"Point":if(!1===q(ee,Le,Be,At,Se))return!1;Le++,At++;break;case"LineString":case"MultiPoint":for(Y=0;Y<ee.length;Y++){if(!1===q(ee[Y],Le,Be,At,Se))return!1;Le++,"MultiPoint"===it&&At++}"LineString"===it&&At++;break;case"Polygon":case"MultiLineString":for(Y=0;Y<ee.length;Y++){for(X=0;X<ee[Y].length-Me;X++){if(!1===q(ee[Y][X],Le,Be,At,Se))return!1;Le++}"MultiLineString"===it&&At++,"Polygon"===it&&Se++}"Polygon"===it&&At++;break;case"MultiPolygon":for(Y=0;Y<ee.length;Y++){for(Se=0,X=0;X<ee[Y].length;X++){for(J=0;J<ee[Y][X].length-Me;J++){if(!1===q(ee[Y][X][J],Le,Be,At,Se))return!1;Le++}Se++}At++}break;case"GeometryCollection":for(Y=0;Y<N.geometries.length;Y++)if(!1===I(N.geometries[Y],q,se))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function j(ie,q){var se;switch(ie.type){case"FeatureCollection":for(se=0;se<ie.features.length&&!1!==q(ie.features[se].properties,se);se++);break;case"Feature":q(ie.properties,0)}}function B(ie,q){if("Feature"===ie.type)q(ie,0);else if("FeatureCollection"===ie.type)for(var se=0;se<ie.features.length&&!1!==q(ie.features[se],se);se++);}function W(ie,q){var se,Y,X,J,N,G,ee,me,De,Me,Le=0,ke="FeatureCollection"===ie.type,Pe="Feature"===ie.type,Ae=ke?ie.features.length:1;for(se=0;se<Ae;se++){for(me=ke?ie.features[se].properties:Pe?ie.properties:{},De=ke?ie.features[se].bbox:Pe?ie.bbox:void 0,Me=ke?ie.features[se].id:Pe?ie.id:void 0,N=(ee=!!(G=ke?ie.features[se].geometry:Pe?ie.geometry:ie)&&"GeometryCollection"===G.type)?G.geometries.length:1,X=0;X<N;X++)if(null!==(J=ee?G.geometries[X]:G))switch(J.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===q(J,Le,me,De,Me))return!1;break;case"GeometryCollection":for(Y=0;Y<J.geometries.length;Y++)if(!1===q(J.geometries[Y],Le,me,De,Me))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===q(null,Le,me,De,Me))return!1;Le++}}function re(ie,q){W(ie,function(se,Y,X,J,N){var G,ee=null===se?null:se.type;switch(ee){case null:case"Point":case"LineString":case"Polygon":return!1!==q(P.feature(se,X,{bbox:J,id:N}),Y,0)&&void 0}switch(ee){case"MultiPoint":G="Point";break;case"MultiLineString":G="LineString";break;case"MultiPolygon":G="Polygon"}for(var me=0;me<se.coordinates.length;me++)if(!1===q(P.feature({type:G,coordinates:se.coordinates[me]},X),Y,me))return!1})}function ue(ie,q){re(ie,function(se,Y,X){var J=0;if(se.geometry){var N=se.geometry.type;if("Point"!==N&&"MultiPoint"!==N){var G,ee=0,me=0,De=0;return!1!==I(se,function(Me,Le,ke,Pe,Ae){if(void 0===G||Y>ee||Pe>me||Ae>De)return G=Me,ee=Y,me=Pe,De=Ae,void(J=0);var at=P.lineString([G,Me],se.properties);if(!1===q(at,Y,X,Ae,J))return!1;J++,G=Me})&&void 0}}})}function be(ie,q){if(!ie)throw new Error("geojson is required");re(ie,function(se,Y,X){if(null!==se.geometry){var N=se.geometry.coordinates;switch(se.geometry.type){case"LineString":if(!1===q(se,Y,X,0,0))return!1;break;case"Polygon":for(var G=0;G<N.length;G++)if(!1===q(P.lineString(N[G],se.properties),Y,X,G))return!1}}})}S.coordAll=function(ie){var q=[];return I(ie,function(se){q.push(se)}),q},S.coordEach=I,S.coordReduce=function(ie,q,se,Y){var X=se;return I(ie,function(J,N,G,ee,me){X=0===N&&void 0===se?J:q(X,J,N,G,ee,me)},Y),X},S.featureEach=B,S.featureReduce=function(ie,q,se){var Y=se;return B(ie,function(X,J){Y=0===J&&void 0===se?X:q(Y,X,J)}),Y},S.findPoint=function(ie,q){if(!P.isObject(q=q||{}))throw new Error("options is invalid");var se,Y=q.featureIndex||0,X=q.multiFeatureIndex||0,J=q.geometryIndex||0,N=q.coordIndex||0,G=q.properties;switch(ie.type){case"FeatureCollection":Y<0&&(Y=ie.features.length+Y),G=G||ie.features[Y].properties,se=ie.features[Y].geometry;break;case"Feature":G=G||ie.properties,se=ie.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":se=ie;break;default:throw new Error("geojson is invalid")}if(null===se)return null;var ee=se.coordinates;switch(se.type){case"Point":return P.point(ee,G,q);case"MultiPoint":return X<0&&(X=ee.length+X),P.point(ee[X],G,q);case"LineString":return N<0&&(N=ee.length+N),P.point(ee[N],G,q);case"Polygon":return J<0&&(J=ee.length+J),N<0&&(N=ee[J].length+N),P.point(ee[J][N],G,q);case"MultiLineString":return X<0&&(X=ee.length+X),N<0&&(N=ee[X].length+N),P.point(ee[X][N],G,q);case"MultiPolygon":return X<0&&(X=ee.length+X),J<0&&(J=ee[X].length+J),N<0&&(N=ee[X][J].length-N),P.point(ee[X][J][N],G,q)}throw new Error("geojson is invalid")},S.findSegment=function(ie,q){if(!P.isObject(q=q||{}))throw new Error("options is invalid");var se,Y=q.featureIndex||0,X=q.multiFeatureIndex||0,J=q.geometryIndex||0,N=q.segmentIndex||0,G=q.properties;switch(ie.type){case"FeatureCollection":Y<0&&(Y=ie.features.length+Y),G=G||ie.features[Y].properties,se=ie.features[Y].geometry;break;case"Feature":G=G||ie.properties,se=ie.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":se=ie;break;default:throw new Error("geojson is invalid")}if(null===se)return null;var ee=se.coordinates;switch(se.type){case"Point":case"MultiPoint":return null;case"LineString":return N<0&&(N=ee.length+N-1),P.lineString([ee[N],ee[N+1]],G,q);case"Polygon":return J<0&&(J=ee.length+J),N<0&&(N=ee[J].length+N-1),P.lineString([ee[J][N],ee[J][N+1]],G,q);case"MultiLineString":return X<0&&(X=ee.length+X),N<0&&(N=ee[X].length+N-1),P.lineString([ee[X][N],ee[X][N+1]],G,q);case"MultiPolygon":return X<0&&(X=ee.length+X),J<0&&(J=ee[X].length+J),N<0&&(N=ee[X][J].length-N-1),P.lineString([ee[X][J][N],ee[X][J][N+1]],G,q)}throw new Error("geojson is invalid")},S.flattenEach=re,S.flattenReduce=function(ie,q,se){var Y=se;return re(ie,function(X,J,N){Y=0===J&&0===N&&void 0===se?X:q(Y,X,J,N)}),Y},S.geomEach=W,S.geomReduce=function(ie,q,se){var Y=se;return W(ie,function(X,J,N,G,ee){Y=0===J&&void 0===se?X:q(Y,X,J,N,G,ee)}),Y},S.lineEach=be,S.lineReduce=function(ie,q,se){var Y=se;return be(ie,function(X,J,N,G){Y=0===J&&void 0===se?X:q(Y,X,J,N,G)}),Y},S.propEach=j,S.propReduce=function(ie,q,se){var Y=se;return j(ie,function(X,J){Y=0===J&&void 0===se?X:q(Y,X,J)}),Y},S.segmentEach=ue,S.segmentReduce=function(ie,q,se){var Y=se,X=!1;return ue(ie,function(J,N,G,ee,me){Y=!1===X&&void 0===se?J:q(Y,J,N,G,ee,me),X=!0}),Y}},5975:(x,S,C)=>{"use strict";C(7107);var P=C(2492),I=C.n(P);const j=JSON.parse('{"tooltips":{"placeMarker":"Click to place marker","firstVertex":"Click to place first vertex","continueLine":"Click to continue drawing","finishLine":"Click any existing marker to finish","finishPoly":"Click first marker to finish","finishRect":"Click to finish","startCircle":"Click to place circle center","finishCircle":"Click to finish circle","placeCircleMarker":"Click to place circle marker","placeText":"Click to place text"},"actions":{"finish":"Finish","cancel":"Cancel","removeLastVertex":"Remove Last Vertex"},"buttonTitles":{"drawMarkerButton":"Draw Marker","drawPolyButton":"Draw Polygons","drawLineButton":"Draw Polyline","drawCircleButton":"Draw Circle","drawRectButton":"Draw Rectangle","editButton":"Edit Layers","dragButton":"Drag Layers","cutButton":"Cut Layers","deleteButton":"Remove Layers","drawCircleMarkerButton":"Draw Circle Marker","snappingButton":"Snap dragged marker to other layers and vertices","pinningButton":"Pin shared vertices together","rotateButton":"Rotate Layers","drawTextButton":"Draw Text","scaleButton":"Scale Layers","autoTracingButton":"Auto trace Line"},"measurements":{"totalLength":"Length","segmentLength":"Segment length","area":"Area","radius":"Radius","perimeter":"Perimeter","height":"Height","width":"Width","coordinates":"Position","coordinatesMarker":"Position Marker"}}'),B=JSON.parse('{"tooltips":{"placeMarker":"Platziere den Marker mit Klick","firstVertex":"Platziere den ersten Marker mit Klick","continueLine":"Klicke, um weiter zu zeichnen","finishLine":"Beende mit Klick auf existierenden Marker","finishPoly":"Beende mit Klick auf ersten Marker","finishRect":"Beende mit Klick","startCircle":"Platziere das Kreiszentrum mit Klick","finishCircle":"Beende den Kreis mit Klick","placeCircleMarker":"Platziere den Kreismarker mit Klick","placeText":"Platziere den Text mit Klick"},"actions":{"finish":"Beenden","cancel":"Abbrechen","removeLastVertex":"Letzten Vertex l\xf6schen"},"buttonTitles":{"drawMarkerButton":"Marker zeichnen","drawPolyButton":"Polygon zeichnen","drawLineButton":"Polyline zeichnen","drawCircleButton":"Kreis zeichnen","drawRectButton":"Rechteck zeichnen","editButton":"Layer editieren","dragButton":"Layer bewegen","cutButton":"Layer schneiden","deleteButton":"Layer l\xf6schen","drawCircleMarkerButton":"Kreismarker zeichnen","snappingButton":"Bewegter Layer an andere Layer oder Vertexe einhacken","pinningButton":"Vertexe an der gleichen Position verkn\xfcpfen","rotateButton":"Layer drehen","drawTextButton":"Text zeichnen","scaleButton":"Layer skalieren","autoTracingButton":"Linie automatisch nachzeichen"},"measurements":{"totalLength":"L\xe4nge","segmentLength":"Segment L\xe4nge","area":"Fl\xe4che","radius":"Radius","perimeter":"Umfang","height":"H\xf6he","width":"Breite","coordinates":"Position","coordinatesMarker":"Position Marker"}}'),W=JSON.parse('{"tooltips":{"placeMarker":"Clicca per posizionare un Marker","firstVertex":"Clicca per posizionare il primo vertice","continueLine":"Clicca per continuare a disegnare","finishLine":"Clicca qualsiasi marker esistente per terminare","finishPoly":"Clicca il primo marker per terminare","finishRect":"Clicca per terminare","startCircle":"Clicca per posizionare il punto centrale del cerchio","finishCircle":"Clicca per terminare il cerchio","placeCircleMarker":"Clicca per posizionare un Marker del cherchio"},"actions":{"finish":"Termina","cancel":"Annulla","removeLastVertex":"Rimuovi l\'ultimo vertice"},"buttonTitles":{"drawMarkerButton":"Disegna Marker","drawPolyButton":"Disegna Poligoni","drawLineButton":"Disegna Polilinea","drawCircleButton":"Disegna Cerchio","drawRectButton":"Disegna Rettangolo","editButton":"Modifica Livelli","dragButton":"Sposta Livelli","cutButton":"Ritaglia Livelli","deleteButton":"Elimina Livelli","drawCircleMarkerButton":"Disegna Marker del Cerchio","snappingButton":"Snap ha trascinato il pennarello su altri strati e vertici","pinningButton":"Pin condiviso vertici insieme"}}'),re=JSON.parse('{"tooltips":{"placeMarker":"Klik untuk menempatkan marker","firstVertex":"Klik untuk menempatkan vertex pertama","continueLine":"Klik untuk meneruskan digitasi","finishLine":"Klik pada sembarang marker yang ada untuk mengakhiri","finishPoly":"Klik marker pertama untuk mengakhiri","finishRect":"Klik untuk mengakhiri","startCircle":"Klik untuk menempatkan titik pusat lingkaran","finishCircle":"Klik untuk mengakhiri lingkaran","placeCircleMarker":"Klik untuk menempatkan penanda lingkarann"},"actions":{"finish":"Selesai","cancel":"Batal","removeLastVertex":"Hilangkan Vertex Terakhir"},"buttonTitles":{"drawMarkerButton":"Digitasi Marker","drawPolyButton":"Digitasi Polygon","drawLineButton":"Digitasi Polyline","drawCircleButton":"Digitasi Lingkaran","drawRectButton":"Digitasi Segi Empat","editButton":"Edit Layer","dragButton":"Geser Layer","cutButton":"Potong Layer","deleteButton":"Hilangkan Layer","drawCircleMarkerButton":"Digitasi Penanda Lingkaran","snappingButton":"Jepretkan penanda yang ditarik ke lapisan dan simpul lain","pinningButton":"Sematkan simpul bersama bersama"}}'),ue=JSON.parse('{"tooltips":{"placeMarker":"Adaug\u0103 un punct","firstVertex":"Apas\u0103 aici pentru a ad\u0103uga primul Vertex","continueLine":"Apas\u0103 aici pentru a continua desenul","finishLine":"Apas\u0103 pe orice obiect pentru a finisa desenul","finishPoly":"Apas\u0103 pe primul obiect pentru a finisa","finishRect":"Apas\u0103 pentru a finisa","startCircle":"Apas\u0103 pentru a desena un cerc","finishCircle":"Apas\u0103 pentru a finisa un cerc","placeCircleMarker":"Adaug\u0103 un punct"},"actions":{"finish":"Termin\u0103","cancel":"Anuleaz\u0103","removeLastVertex":"\u0218terge ultimul Vertex"},"buttonTitles":{"drawMarkerButton":"Adaug\u0103 o bulin\u0103","drawPolyButton":"Deseneaz\u0103 un poligon","drawLineButton":"Deseneaz\u0103 o linie","drawCircleButton":"Deseneaz\u0103 un cerc","drawRectButton":"Deseneaz\u0103 un dreptunghi","editButton":"Editeaz\u0103 straturile","dragButton":"Mut\u0103 straturile","cutButton":"Taie straturile","deleteButton":"\u0218terge straturile","drawCircleMarkerButton":"Deseneaz\u0103 marcatorul cercului","snappingButton":"Fixa\u021bi marcatorul glisat pe alte straturi \u0219i v\xe2rfuri","pinningButton":"Fixa\u021bi v\xe2rfurile partajate \xeempreun\u0103"}}'),be=JSON.parse('{"tooltips":{"placeMarker":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u043d\u0435\u0441\u0442\u0438 \u043c\u0430\u0440\u043a\u0435\u0440","firstVertex":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u043d\u0435\u0441\u0442\u0438 \u043f\u0435\u0440\u0432\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442","continueLine":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u0440\u0438\u0441\u043e\u0432\u0430\u043d\u0438\u0435","finishLine":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043b\u044e\u0431\u043e\u0439 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u043c\u0430\u0440\u043a\u0435\u0440 \u0434\u043b\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f","finishPoly":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0435\u0440\u0432\u0443\u044e \u0442\u043e\u0447\u043a\u0443, \u0447\u0442\u043e\u0431\u044b \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c","finishRect":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c","startCircle":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0446\u0435\u043d\u0442\u0440 \u043a\u0440\u0443\u0433\u0430","finishCircle":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0437\u0430\u0434\u0430\u0442\u044c \u0440\u0430\u0434\u0438\u0443\u0441","placeCircleMarker":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u043d\u0435\u0441\u0442\u0438 \u043a\u0440\u0443\u0433\u043e\u0432\u043e\u0439 \u043c\u0430\u0440\u043a\u0435\u0440"},"actions":{"finish":"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c","cancel":"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c","removeLastVertex":"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435"},"buttonTitles":{"drawMarkerButton":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0430\u0440\u043a\u0435\u0440","drawPolyButton":"\u0420\u0438\u0441\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u0438\u0433\u043e\u043d","drawLineButton":"\u0420\u0438\u0441\u043e\u0432\u0430\u0442\u044c \u043a\u0440\u0438\u0432\u0443\u044e","drawCircleButton":"\u0420\u0438\u0441\u043e\u0432\u0430\u0442\u044c \u043a\u0440\u0443\u0433","drawRectButton":"\u0420\u0438\u0441\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a","editButton":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u043b\u043e\u0439","dragButton":"\u041f\u0435\u0440\u0435\u043d\u0435\u0441\u0442\u0438 \u0441\u043b\u043e\u0439","cutButton":"\u0412\u044b\u0440\u0435\u0437\u0430\u0442\u044c \u0441\u043b\u043e\u0439","deleteButton":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043b\u043e\u0439","drawCircleMarkerButton":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0440\u0443\u0433\u043e\u0432\u043e\u0439 \u043c\u0430\u0440\u043a\u0435\u0440","snappingButton":"\u041f\u0440\u0438\u0432\u044f\u0437\u0430\u0442\u044c \u043f\u0435\u0440\u0435\u0442\u0430\u0441\u043a\u0438\u0432\u0430\u0435\u043c\u044b\u0439 \u043c\u0430\u0440\u043a\u0435\u0440 \u043a \u0434\u0440\u0443\u0433\u0438\u043c \u0441\u043b\u043e\u044f\u043c \u0438 \u0432\u0435\u0440\u0448\u0438\u043d\u0430\u043c","pinningButton":"\u0421\u0432\u044f\u0437\u0430\u0442\u044c \u043e\u0431\u0449\u0438\u0435 \u0442\u043e\u0447\u043a\u0438 \u0432\u043c\u0435\u0441\u0442\u0435"}}'),ie=JSON.parse('{"tooltips":{"placeMarker":"Presiona para colocar un marcador","firstVertex":"Presiona para colocar el primer v\xe9rtice","continueLine":"Presiona para continuar dibujando","finishLine":"Presiona cualquier marcador existente para finalizar","finishPoly":"Presiona el primer marcador para finalizar","finishRect":"Presiona para finalizar","startCircle":"Presiona para colocar el centro del c\xedrculo","finishCircle":"Presiona para finalizar el c\xedrculo","placeCircleMarker":"Presiona para colocar un marcador de c\xedrculo"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Eliminar \xfaltimo v\xe9rtice"},"buttonTitles":{"drawMarkerButton":"Dibujar Marcador","drawPolyButton":"Dibujar Pol\xedgono","drawLineButton":"Dibujar L\xednea","drawCircleButton":"Dibujar C\xedrculo","drawRectButton":"Dibujar Rect\xe1ngulo","editButton":"Editar Capas","dragButton":"Arrastrar Capas","cutButton":"Cortar Capas","deleteButton":"Eliminar Capas","drawCircleMarkerButton":"Dibujar Marcador de C\xedrculo","snappingButton":"El marcador de Snap arrastrado a otras capas y v\xe9rtices","pinningButton":"Fijar juntos los v\xe9rtices compartidos"}}'),q=JSON.parse('{"tooltips":{"placeMarker":"Klik om een marker te plaatsen","firstVertex":"Klik om het eerste punt te plaatsen","continueLine":"Klik om te blijven tekenen","finishLine":"Klik op een bestaand punt om te be\xebindigen","finishPoly":"Klik op het eerst punt om te be\xebindigen","finishRect":"Klik om te be\xebindigen","startCircle":"Klik om het middelpunt te plaatsen","finishCircle":"Klik om de cirkel te be\xebindigen","placeCircleMarker":"Klik om een marker te plaatsen"},"actions":{"finish":"Bewaar","cancel":"Annuleer","removeLastVertex":"Verwijder laatste punt"},"buttonTitles":{"drawMarkerButton":"Plaats Marker","drawPolyButton":"Teken een vlak","drawLineButton":"Teken een lijn","drawCircleButton":"Teken een cirkel","drawRectButton":"Teken een vierkant","editButton":"Bewerk","dragButton":"Verplaats","cutButton":"Knip","deleteButton":"Verwijder","drawCircleMarkerButton":"Plaats Marker","snappingButton":"Snap gesleepte marker naar andere lagen en hoekpunten","pinningButton":"Speld gedeelde hoekpunten samen"}}'),se=JSON.parse('{"tooltips":{"placeMarker":"Cliquez pour placer un marqueur","firstVertex":"Cliquez pour placer le premier sommet","continueLine":"Cliquez pour continuer \xe0 dessiner","finishLine":"Cliquez sur n\'importe quel marqueur pour terminer","finishPoly":"Cliquez sur le premier marqueur pour terminer","finishRect":"Cliquez pour terminer","startCircle":"Cliquez pour placer le centre du cercle","finishCircle":"Cliquez pour finir le cercle","placeCircleMarker":"Cliquez pour placer le marqueur circulaire"},"actions":{"finish":"Terminer","cancel":"Annuler","removeLastVertex":"Retirer le dernier sommet"},"buttonTitles":{"drawMarkerButton":"Placer des marqueurs","drawPolyButton":"Dessiner des polygones","drawLineButton":"Dessiner des polylignes","drawCircleButton":"Dessiner un cercle","drawRectButton":"Dessiner un rectangle","editButton":"\xc9diter des calques","dragButton":"D\xe9placer des calques","cutButton":"Couper des calques","deleteButton":"Supprimer des calques","drawCircleMarkerButton":"Dessiner un marqueur circulaire","snappingButton":"Glisser le marqueur vers d\'autres couches et sommets","pinningButton":"\xc9pingler ensemble les sommets partag\xe9s","rotateButton":"Tourner des calques"}}'),Y=JSON.parse('{"tooltips":{"placeMarker":"\u5355\u51fb\u653e\u7f6e\u6807\u8bb0","firstVertex":"\u5355\u51fb\u653e\u7f6e\u9996\u4e2a\u9876\u70b9","continueLine":"\u5355\u51fb\u7ee7\u7eed\u7ed8\u5236","finishLine":"\u5355\u51fb\u4efb\u4f55\u5b58\u5728\u7684\u6807\u8bb0\u4ee5\u5b8c\u6210","finishPoly":"\u5355\u51fb\u7b2c\u4e00\u4e2a\u6807\u8bb0\u4ee5\u5b8c\u6210","finishRect":"\u5355\u51fb\u5b8c\u6210","startCircle":"\u5355\u51fb\u653e\u7f6e\u5706\u5fc3","finishCircle":"\u5355\u51fb\u5b8c\u6210\u5706\u5f62","placeCircleMarker":"\u70b9\u51fb\u653e\u7f6e\u5706\u5f62\u6807\u8bb0"},"actions":{"finish":"\u5b8c\u6210","cancel":"\u53d6\u6d88","removeLastVertex":"\u79fb\u9664\u6700\u540e\u7684\u9876\u70b9"},"buttonTitles":{"drawMarkerButton":"\u7ed8\u5236\u6807\u8bb0","drawPolyButton":"\u7ed8\u5236\u591a\u8fb9\u5f62","drawLineButton":"\u7ed8\u5236\u7ebf\u6bb5","drawCircleButton":"\u7ed8\u5236\u5706\u5f62","drawRectButton":"\u7ed8\u5236\u957f\u65b9\u5f62","editButton":"\u7f16\u8f91\u56fe\u5c42","dragButton":"\u62d6\u62fd\u56fe\u5c42","cutButton":"\u526a\u5207\u56fe\u5c42","deleteButton":"\u5220\u9664\u56fe\u5c42","drawCircleMarkerButton":"\u753b\u5706\u5708\u6807\u8bb0","snappingButton":"\u5c06\u62d6\u52a8\u7684\u6807\u8bb0\u6355\u6349\u5230\u5176\u4ed6\u56fe\u5c42\u548c\u9876\u70b9","pinningButton":"\u5c06\u5171\u4eab\u9876\u70b9\u56fa\u5b9a\u5728\u4e00\u8d77"}}'),X=JSON.parse('{"tooltips":{"placeMarker":"\u55ae\u64ca\u653e\u7f6e\u6a19\u8a18","firstVertex":"\u55ae\u64ca\u653e\u7f6e\u7b2c\u4e00\u500b\u9802\u9ede","continueLine":"\u55ae\u64ca\u7e7c\u7e8c\u7e6a\u88fd","finishLine":"\u55ae\u64ca\u4efb\u4f55\u5b58\u5728\u7684\u6a19\u8a18\u4ee5\u5b8c\u6210","finishPoly":"\u55ae\u64ca\u7b2c\u4e00\u500b\u6a19\u8a18\u4ee5\u5b8c\u6210","finishRect":"\u55ae\u64ca\u5b8c\u6210","startCircle":"\u55ae\u64ca\u653e\u7f6e\u5713\u5fc3","finishCircle":"\u55ae\u64ca\u5b8c\u6210\u5713\u5f62","placeCircleMarker":"\u9ede\u64ca\u653e\u7f6e\u5713\u5f62\u6a19\u8a18"},"actions":{"finish":"\u5b8c\u6210","cancel":"\u53d6\u6d88","removeLastVertex":"\u79fb\u9664\u6700\u5f8c\u4e00\u500b\u9802\u9ede"},"buttonTitles":{"drawMarkerButton":"\u653e\u7f6e\u6a19\u8a18","drawPolyButton":"\u7e6a\u88fd\u591a\u908a\u5f62","drawLineButton":"\u7e6a\u88fd\u7dda\u6bb5","drawCircleButton":"\u7e6a\u88fd\u5713\u5f62","drawRectButton":"\u7e6a\u88fd\u65b9\u5f62","editButton":"\u7de8\u8f2f\u5716\u5f62","dragButton":"\u79fb\u52d5\u5716\u5f62","cutButton":"\u88c1\u5207\u5716\u5f62","deleteButton":"\u522a\u9664\u5716\u5f62","drawCircleMarkerButton":"\u756b\u5713\u5708\u6a19\u8a18","snappingButton":"\u5c07\u62d6\u52d5\u7684\u6a19\u8a18\u5c0d\u9f4a\u5230\u5176\u4ed6\u5716\u5c64\u548c\u9802\u9ede","pinningButton":"\u5c07\u5171\u4eab\u9802\u9ede\u56fa\u5b9a\u5728\u4e00\u8d77"}}'),J={en:j,de:B,it:W,id:re,ro:ue,ru:be,es:ie,nl:q,fr:se,pt_br:JSON.parse('{"tooltips":{"placeMarker":"Clique para posicionar o marcador","firstVertex":"Clique para posicionar o primeiro v\xe9rtice","continueLine":"Clique para continuar desenhando","finishLine":"Clique em qualquer marcador existente para finalizar","finishPoly":"Clique no primeiro ponto para fechar o pol\xedgono","finishRect":"Clique para finalizar","startCircle":"Clique para posicionar o centro do c\xedrculo","finishCircle":"Clique para fechar o c\xedrculo","placeCircleMarker":"Clique para posicionar o marcador circular"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Remover \xfaltimo v\xe9rtice"},"buttonTitles":{"drawMarkerButton":"Desenhar um marcador","drawPolyButton":"Desenhar um pol\xedgono","drawLineButton":"Desenhar uma polilinha","drawCircleButton":"Desenhar um c\xedrculo","drawRectButton":"Desenhar um ret\xe2ngulo","editButton":"Editar camada(s)","dragButton":"Mover camada(s)","cutButton":"Recortar camada(s)","deleteButton":"Remover camada(s)","drawCircleMarkerButton":"Marcador de c\xedrculos de desenho","snappingButton":"Marcador arrastado para outras camadas e v\xe9rtices","pinningButton":"V\xe9rtices compartilhados de pinos juntos"}}'),zh:Y,zh_tw:X,pl:JSON.parse('{"tooltips":{"placeMarker":"Kliknij, aby ustawi\u0107 znacznik","firstVertex":"Kliknij, aby ustawi\u0107 pierwszy punkt","continueLine":"Kliknij, aby kontynuowa\u0107 rysowanie","finishLine":"Kliknij dowolny punkt, aby zako\u0144czy\u0107","finishPoly":"Kliknij pierwszy punkt, aby zako\u0144czy\u0107","finishRect":"Kliknij, aby zako\u0144czy\u0107","startCircle":"Kliknij, aby ustawi\u0107 \u015brodek ko\u0142a","finishCircle":"Kliknij, aby zako\u0144czy\u0107 rysowanie ko\u0142a","placeCircleMarker":"Kliknij, aby ustawi\u0107 okr\u0105g\u0142y znacznik"},"actions":{"finish":"Zako\u0144cz","cancel":"Anuluj","removeLastVertex":"Usu\u0144 ostatni punkt"},"buttonTitles":{"drawMarkerButton":"Narysuj znacznik","drawPolyButton":"Narysuj wielok\u0105t","drawLineButton":"Narysuj \u015bcie\u017ck\u0119","drawCircleButton":"Narysuj ko\u0142o","drawRectButton":"Narysuj prostok\u0105t","editButton":"Edytuj","dragButton":"Przesu\u0144","cutButton":"Wytnij","deleteButton":"Usu\u0144","drawCircleMarkerButton":"Narysuj okr\u0105g\u0142y znacznik","snappingButton":"Snap przeci\u0105gni\u0119ty marker na inne warstwy i wierzcho\u0142ki","pinningButton":"Sworze\u0144 wsp\xf3lne wierzcho\u0142ki razem"}}'),sv:JSON.parse('{"tooltips":{"placeMarker":"Klicka f\xf6r att placera mark\xf6r","firstVertex":"Klicka f\xf6r att placera f\xf6rsta h\xf6rnet","continueLine":"Klicka f\xf6r att forts\xe4tta rita","finishLine":"Klicka p\xe5 en existerande punkt f\xf6r att slutf\xf6ra","finishPoly":"Klicka p\xe5 den f\xf6rsta punkten f\xf6r att slutf\xf6ra","finishRect":"Klicka f\xf6r att slutf\xf6ra","startCircle":"Klicka f\xf6r att placera cirkelns centrum","finishCircle":"Klicka f\xf6r att slutf\xf6ra cirkeln","placeCircleMarker":"Klicka f\xf6r att placera cirkelmark\xf6r"},"actions":{"finish":"Slutf\xf6r","cancel":"Avbryt","removeLastVertex":"Ta bort sista h\xf6rnet"},"buttonTitles":{"drawMarkerButton":"Rita Mark\xf6r","drawPolyButton":"Rita Polygoner","drawLineButton":"Rita Linje","drawCircleButton":"Rita Cirkel","drawRectButton":"Rita Rektangel","editButton":"Redigera Lager","dragButton":"Dra Lager","cutButton":"Klipp i Lager","deleteButton":"Ta bort Lager","drawCircleMarkerButton":"Rita Cirkelmark\xf6r","snappingButton":"Sn\xe4pp dra mark\xf6ren till andra lager och h\xf6rn","pinningButton":"F\xe4st delade h\xf6rn tillsammans"}}'),el:JSON.parse('{"tooltips":{"placeMarker":"\u039a\u03ac\u03bd\u03c4\u03b5 \u03ba\u03bb\u03b9\u03ba \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03c4\u03bf\u03c0\u03bf\u03b8\u03b5\u03c4\u03ae\u03c3\u03b5\u03c4\u03b5 \u0394\u03b5\u03af\u03ba\u03c4\u03b7","firstVertex":"\u039a\u03ac\u03bd\u03c4\u03b5 \u03ba\u03bb\u03b9\u03ba \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03c4\u03bf\u03c0\u03bf\u03b8\u03b5\u03c4\u03ae\u03c3\u03b5\u03c4\u03b5 \u03c4\u03bf \u03c0\u03c1\u03ce\u03c4\u03bf \u03c3\u03b7\u03bc\u03b5\u03af\u03bf","continueLine":"\u039a\u03ac\u03bd\u03c4\u03b5 \u03ba\u03bb\u03b9\u03ba \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03c3\u03c5\u03bd\u03b5\u03c7\u03af\u03c3\u03b5\u03c4\u03b5 \u03bd\u03b1 \u03c3\u03c7\u03b5\u03b4\u03b9\u03ac\u03b6\u03b5\u03c4\u03b5","finishLine":"\u039a\u03ac\u03bd\u03c4\u03b5 \u03ba\u03bb\u03b9\u03ba \u03c3\u03b5 \u03bf\u03c0\u03bf\u03b9\u03bf\u03bd\u03b4\u03ae\u03c0\u03bf\u03c4\u03b5 \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03bd \u03c3\u03b7\u03bc\u03b5\u03af\u03bf \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03c9\u03b8\u03b5\u03af","finishPoly":"\u039a\u03ac\u03bd\u03c4\u03b5 \u03ba\u03bb\u03b9\u03ba \u03c3\u03c4\u03bf \u03c0\u03c1\u03ce\u03c4\u03bf \u03c3\u03b7\u03bc\u03b5\u03af\u03bf \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03c4\u03b5\u03bb\u03b5\u03b9\u03ce\u03c3\u03b5\u03c4\u03b5","finishRect":"\u039a\u03ac\u03bd\u03c4\u03b5 \u03ba\u03bb\u03b9\u03ba \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03c4\u03b5\u03bb\u03b5\u03b9\u03ce\u03c3\u03b5\u03c4\u03b5","startCircle":"\u039a\u03ac\u03bd\u03c4\u03b5 \u03ba\u03bb\u03b9\u03ba \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03c4\u03bf\u03c0\u03bf\u03b8\u03b5\u03c4\u03ae\u03c3\u03b5\u03c4\u03b5 \u03ba\u03ad\u03bd\u03c4\u03c1\u03bf \u039a\u03cd\u03ba\u03bb\u03bf\u03c5","finishCircle":"\u039a\u03ac\u03bd\u03c4\u03b5 \u03ba\u03bb\u03b9\u03ba \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03bf\u03bd \u039a\u03cd\u03ba\u03bb\u03bf","placeCircleMarker":"\u039a\u03ac\u03bd\u03c4\u03b5 \u03ba\u03bb\u03b9\u03ba \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03c4\u03bf\u03c0\u03bf\u03b8\u03b5\u03c4\u03ae\u03c3\u03b5\u03c4\u03b5 \u039a\u03c5\u03ba\u03bb\u03b9\u03ba\u03cc \u0394\u03b5\u03af\u03ba\u03c4\u03b7"},"actions":{"finish":"\u03a4\u03ad\u03bb\u03bf\u03c2","cancel":"\u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7","removeLastVertex":"\u039a\u03b1\u03c4\u03ac\u03c1\u03b3\u03b7\u03c3\u03b7 \u03c4\u03b5\u03bb\u03b5\u03c5\u03c4\u03b1\u03af\u03bf\u03c5 \u03c3\u03b7\u03bc\u03b5\u03af\u03bf\u03c5"},"buttonTitles":{"drawMarkerButton":"\u03a3\u03c7\u03b5\u03b4\u03af\u03b1\u03c3\u03b7 \u0394\u03b5\u03af\u03ba\u03c4\u03b7","drawPolyButton":"\u03a3\u03c7\u03b5\u03b4\u03af\u03b1\u03c3\u03b7 \u03a0\u03bf\u03bb\u03c5\u03b3\u03ce\u03bd\u03bf\u03c5","drawLineButton":"\u03a3\u03c7\u03b5\u03b4\u03af\u03b1\u03c3\u03b7 \u0393\u03c1\u03b1\u03bc\u03bc\u03ae\u03c2","drawCircleButton":"\u03a3\u03c7\u03b5\u03b4\u03af\u03b1\u03c3\u03b7 \u039a\u03cd\u03ba\u03bb\u03bf\u03c5","drawRectButton":"\u03a3\u03c7\u03b5\u03b4\u03af\u03b1\u03c3\u03b7 \u039f\u03c1\u03b8\u03bf\u03b3\u03c9\u03bd\u03af\u03bf\u03c5","editButton":"\u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u0395\u03c0\u03b9\u03c0\u03ad\u03b4\u03c9\u03bd","dragButton":"\u039c\u03b5\u03c4\u03b1\u03c6\u03bf\u03c1\u03ac \u0395\u03c0\u03b9\u03c0\u03ad\u03b4\u03c9\u03bd","cutButton":"\u0391\u03c0\u03bf\u03ba\u03bf\u03c0\u03ae \u0395\u03c0\u03b9\u03c0\u03ad\u03b4\u03c9\u03bd","deleteButton":"\u039a\u03b1\u03c4\u03ac\u03c1\u03b3\u03b7\u03c3\u03b7 \u0395\u03c0\u03b9\u03c0\u03ad\u03b4\u03c9\u03bd","drawCircleMarkerButton":"\u03a3\u03c7\u03b5\u03b4\u03af\u03b1\u03c3\u03b7 \u039a\u03c5\u03ba\u03bb\u03b9\u03ba\u03bf\u03cd \u0394\u03b5\u03af\u03ba\u03c4\u03b7","snappingButton":"\u03a0\u03c1\u03bf\u03c3\u03ba\u03cc\u03bb\u03bb\u03b7\u03c3\u03b7 \u03c4\u03bf\u03c5 \u0394\u03b5\u03af\u03ba\u03c4\u03b7 \u03bc\u03b5\u03c4\u03b1\u03c6\u03bf\u03c1\u03ac\u03c2 \u03c3\u03b5 \u03ac\u03bb\u03bb\u03b1 \u0395\u03c0\u03af\u03c0\u03b5\u03b4\u03b1 \u03ba\u03b1\u03b9 \u039a\u03bf\u03c1\u03c5\u03c6\u03ad\u03c2","pinningButton":"\u03a0\u03b5\u03c1\u03b9\u03ba\u03bf\u03c0\u03ae \u03ba\u03bf\u03b9\u03bd\u03ce\u03bd \u03ba\u03bf\u03c1\u03c5\u03c6\u03ce\u03bd \u03bc\u03b1\u03b6\u03af"}}'),hu:JSON.parse('{"tooltips":{"placeMarker":"Kattintson a jel\xf6l\u0151 elhelyez\xe9s\xe9hez","firstVertex":"Kattintson az els\u0151 pont elhelyez\xe9s\xe9hez","continueLine":"Kattintson a k\xf6vetkez\u0151 pont elhelyez\xe9s\xe9hez","finishLine":"A befejez\xe9shez kattintson egy megl\xe9v\u0151 pontra","finishPoly":"A befejez\xe9shez kattintson az els\u0151 pontra","finishRect":"Kattintson a befejez\xe9shez","startCircle":"Kattintson a k\xf6r k\xf6z\xe9ppontj\xe1nak elhelyez\xe9s\xe9hez","finishCircle":"Kattintson a k\xf6r befejez\xe9s\xe9hez","placeCircleMarker":"Kattintson a k\xf6rjel\xf6l\u0151 elhelyez\xe9s\xe9hez"},"actions":{"finish":"Befejez\xe9s","cancel":"M\xe9gse","removeLastVertex":"Utols\xf3 pont elt\xe1vol\xedt\xe1sa"},"buttonTitles":{"drawMarkerButton":"Jel\xf6l\u0151 rajzol\xe1sa","drawPolyButton":"Poligon rajzol\xe1sa","drawLineButton":"Vonal rajzol\xe1sa","drawCircleButton":"K\xf6r rajzol\xe1sa","drawRectButton":"N\xe9gyzet rajzol\xe1sa","editButton":"Elemek szerkeszt\xe9se","dragButton":"Elemek mozgat\xe1sa","cutButton":"Elemek v\xe1g\xe1sa","deleteButton":"Elemek t\xf6rl\xe9se","drawCircleMarkerButton":"K\xf6r jel\xf6l\u0151 rajzol\xe1sa","snappingButton":"Kapcsolja a jel\xf6lt\u0151t m\xe1sik elemhez vagy ponthoz","pinningButton":"K\xf6z\xf6s pontok \xf6sszek\xf6t\xe9se"}}'),da:JSON.parse('{"tooltips":{"placeMarker":"Tryk for at placere en mark\xf8r","firstVertex":"Tryk for at placere det f\xf8rste punkt","continueLine":"Tryk for at forts\xe6tte linjen","finishLine":"Tryk p\xe5 et eksisterende punkt for at afslutte","finishPoly":"Tryk p\xe5 det f\xf8rste punkt for at afslutte","finishRect":"Tryk for at afslutte","startCircle":"Tryk for at placere cirklens center","finishCircle":"Tryk for at afslutte cirklen","placeCircleMarker":"Tryk for at placere en cirkelmark\xf8r"},"actions":{"finish":"Afslut","cancel":"Afbryd","removeLastVertex":"Fjern sidste punkt"},"buttonTitles":{"drawMarkerButton":"Placer mark\xf8r","drawPolyButton":"Tegn polygon","drawLineButton":"Tegn linje","drawCircleButton":"Tegn cirkel","drawRectButton":"Tegn firkant","editButton":"Rediger","dragButton":"Tr\xe6k","cutButton":"Klip","deleteButton":"Fjern","drawCircleMarkerButton":"Tegn cirkelmark\xf8r","snappingButton":"Fastg\xf8r trukket mark\xf8r til andre elementer","pinningButton":"Sammenl\xe6g delte elementer"}}'),no:JSON.parse('{"tooltips":{"placeMarker":"Klikk for \xe5 plassere punkt","firstVertex":"Klikk for \xe5 plassere f\xf8rste punkt","continueLine":"Klikk for \xe5 tegne videre","finishLine":"Klikk p\xe5 et eksisterende punkt for \xe5 fullf\xf8re","finishPoly":"Klikk f\xf8rste punkt for \xe5 fullf\xf8re","finishRect":"Klikk for \xe5 fullf\xf8re","startCircle":"Klikk for \xe5 sette sirkel midtpunkt","finishCircle":"Klikk for \xe5 fullf\xf8re sirkel","placeCircleMarker":"Klikk for \xe5 plassere sirkel"},"actions":{"finish":"Fullf\xf8r","cancel":"Kanseller","removeLastVertex":"Fjern forrige punkt"},"buttonTitles":{"drawMarkerButton":"Tegn Punkt","drawPolyButton":"Tegn Flate","drawLineButton":"Tegn Linje","drawCircleButton":"Tegn Sirkel","drawRectButton":"Tegn rektangel","editButton":"Rediger Objekter","dragButton":"Dra Objekter","cutButton":"Kutt Objekter","deleteButton":"Fjern Objekter","drawCircleMarkerButton":"Tegn sirkel-punkt","snappingButton":"Fest dratt punkt til andre objekter og punkt","pinningButton":"Pin delte punkt sammen"}}'),fa:JSON.parse('{"tooltips":{"placeMarker":"\u06a9\u0644\u06cc\u06a9 \u0628\u0631\u0627\u06cc \u062c\u0627\u0646\u0645\u0627\u06cc\u06cc \u0646\u0634\u0627\u0646","firstVertex":"\u06a9\u0644\u06cc\u06a9 \u0628\u0631\u0627\u06cc \u0631\u0633\u0645 \u0627\u0648\u0644\u06cc\u0646 \u0631\u0623\u0633","continueLine":"\u06a9\u0644\u06cc\u06a9 \u0628\u0631\u0627\u06cc \u0627\u062f\u0627\u0645\u0647 \u0631\u0633\u0645","finishLine":"\u06a9\u0644\u06cc\u06a9 \u0631\u0648\u06cc \u0647\u0631 \u0646\u0634\u0627\u0646 \u0645\u0648\u062c\u0648\u062f \u0628\u0631\u0627\u06cc \u067e\u0627\u06cc\u0627\u0646","finishPoly":"\u06a9\u0644\u06cc\u06a9 \u0631\u0648\u06cc \u0627\u0648\u0644\u06cc\u0646 \u0646\u0634\u0627\u0646 \u0628\u0631\u0627\u06cc \u067e\u0627\u06cc\u0627\u0646","finishRect":"\u06a9\u0644\u06cc\u06a9 \u0628\u0631\u0627\u06cc \u067e\u0627\u06cc\u0627\u0646","startCircle":"\u06a9\u0644\u06cc\u06a9 \u0628\u0631\u0627\u06cc \u0631\u0633\u0645 \u0645\u0631\u06a9\u0632 \u062f\u0627\u06cc\u0631\u0647","finishCircle":"\u06a9\u0644\u06cc\u06a9 \u0628\u0631\u0627\u06cc \u067e\u0627\u06cc\u0627\u0646 \u0631\u0633\u0645 \u062f\u0627\u06cc\u0631\u0647","placeCircleMarker":"\u06a9\u0644\u06cc\u06a9 \u0628\u0631\u0627\u06cc \u0631\u0633\u0645 \u0646\u0634\u0627\u0646 \u062f\u0627\u06cc\u0631\u0647","placeText":"\u06a9\u0644\u06cc\u06a9 \u0628\u0631\u0627\u06cc \u0646\u0648\u0634\u062a\u0646 \u0645\u062a\u0646"},"actions":{"finish":"\u067e\u0627\u06cc\u0627\u0646","cancel":"\u0644\u0641\u0648","removeLastVertex":"\u062d\u0630\u0641 \u0622\u062e\u0631\u06cc\u0646 \u0631\u0623\u0633"},"buttonTitles":{"drawMarkerButton":"\u062f\u0631\u062c \u0646\u0634\u0627\u0646","drawPolyButton":"\u0631\u0633\u0645 \u0686\u0646\u062f\u0636\u0644\u0639\u06cc","drawLineButton":"\u0631\u0633\u0645 \u062e\u0637","drawCircleButton":"\u0631\u0633\u0645 \u062f\u0627\u06cc\u0631\u0647","drawRectButton":"\u0631\u0633\u0645 \u0686\u0647\u0627\u0631\u0636\u0644\u0639\u06cc","editButton":"\u0648\u06cc\u0631\u0627\u06cc\u0634 \u0644\u0627\u06cc\u0647\u200c\u0647\u0627","dragButton":"\u062c\u0627\u0628\u062c\u0627\u06cc\u06cc \u0644\u0627\u06cc\u0647\u200c\u0647\u0627","cutButton":"\u0628\u0631\u0634 \u0644\u0627\u06cc\u0647\u200c\u0647\u0627","deleteButton":"\u062d\u0630\u0641 \u0644\u0627\u06cc\u0647\u200c\u0647\u0627","drawCircleMarkerButton":"\u0631\u0633\u0645 \u0646\u0634\u0627\u0646 \u062f\u0627\u06cc\u0631\u0647","snappingButton":"\u0646\u0634\u0627\u0646\u06af\u0631 \u0631\u0627 \u0628\u0647 \u0644\u0627\u06cc\u0647\u200c\u0647\u0627 \u0648 \u0631\u0626\u0648\u0633 \u062f\u06cc\u06af\u0631 \u0628\u06a9\u0634\u06cc\u062f","pinningButton":"\u0631\u0626\u0648\u0633 \u0645\u0634\u062a\u0631\u06a9 \u0631\u0627 \u0628\u0627 \u0647\u0645 \u067e\u06cc\u0646 \u06a9\u0646\u06cc\u062f","rotateButton":"\u0686\u0631\u062e\u0634 \u0644\u0627\u06cc\u0647","drawTextButton":"\u0631\u0633\u0645 \u0645\u062a\u0646"}}'),ua:JSON.parse('{"tooltips":{"placeMarker":"\u041d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c, \u0449\u043e\u0431 \u043d\u0430\u043d\u0435\u0441\u0442\u0438 \u043c\u0430\u0440\u043a\u0435\u0440","firstVertex":"\u041d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c, \u0449\u043e\u0431 \u043d\u0430\u043d\u0435\u0441\u0442\u0438 \u043f\u0435\u0440\u0448\u0443 \u0432\u0435\u0440\u0448\u0438\u043d\u0443","continueLine":"\u041d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c, \u0449\u043e\u0431 \u043f\u0440\u043e\u0434\u043e\u0432\u0436\u0438\u0442\u0438 \u043c\u0430\u043b\u044e\u0432\u0430\u0442\u0438","finishLine":"\u041d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u0439 \u0456\u0441\u043d\u0443\u044e\u0447\u0438\u0439 \u043c\u0430\u0440\u043a\u0435\u0440 \u0434\u043b\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044f","finishPoly":"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u043f\u0435\u0440\u0448\u0438\u0439 \u043c\u0430\u0440\u043a\u0435\u0440, \u0449\u043e\u0431 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438","finishRect":"\u041d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c, \u0449\u043e\u0431 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438","startCircle":"\u041d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c, \u0449\u043e\u0431 \u0434\u043e\u0434\u0430\u0442\u0438 \u0446\u0435\u043d\u0442\u0440 \u043a\u043e\u043b\u0430","finishCircle":"\u041d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c, \u0449\u043e\u0431 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438 \u043a\u043e\u043b\u043e","placeCircleMarker":"\u041d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c, \u0449\u043e\u0431 \u043d\u0430\u043d\u0435\u0441\u0442\u0438 \u043a\u0440\u0443\u0433\u043e\u0432\u0438\u0439 \u043c\u0430\u0440\u043a\u0435\u0440"},"actions":{"finish":"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438","cancel":"\u0412\u0456\u0434\u043c\u0456\u043d\u0438\u0442\u0438","removeLastVertex":"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u044e \u0432\u0435\u0440\u0448\u0438\u043d\u0443"},"buttonTitles":{"drawMarkerButton":"\u041c\u0430\u043b\u044e\u0432\u0430\u0442\u0438 \u043c\u0430\u0440\u043a\u0435\u0440","drawPolyButton":"\u041c\u0430\u043b\u044e\u0432\u0430\u0442\u0438 \u043f\u043e\u043b\u0456\u0433\u043e\u043d","drawLineButton":"\u041c\u0430\u043b\u044e\u0432\u0430\u0442\u0438 \u043a\u0440\u0438\u0432\u0443","drawCircleButton":"\u041c\u0430\u043b\u044e\u0432\u0430\u0442\u0438 \u043a\u043e\u043b\u043e","drawRectButton":"\u041c\u0430\u043b\u044e\u0432\u0430\u0442\u0438 \u043f\u0440\u044f\u043c\u043e\u043a\u0443\u0442\u043d\u0438\u043a","editButton":"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0448\u0430\u0440\u0438","dragButton":"\u041f\u0435\u0440\u0435\u043d\u0435\u0441\u0442\u0438 \u0448\u0430\u0440\u0438","cutButton":"\u0412\u0438\u0440\u0456\u0437\u0430\u0442\u0438 \u0448\u0430\u0440\u0438","deleteButton":"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0448\u0430\u0440\u0438","drawCircleMarkerButton":"\u041c\u0430\u043b\u044e\u0432\u0430\u0442\u0438 \u043a\u0440\u0443\u0433\u043e\u0432\u0438\u0439 \u043c\u0430\u0440\u043a\u0435\u0440","snappingButton":"\u041f\u0440\u0438\u0432\u2019\u044f\u0437\u0430\u0442\u0438 \u043f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0443\u0442\u0438\u0439 \u043c\u0430\u0440\u043a\u0435\u0440 \u0434\u043e \u0456\u043d\u0448\u0438\u0445 \u0448\u0430\u0440\u0456\u0432 \u0442\u0430 \u0432\u0435\u0440\u0448\u0438\u043d","pinningButton":"\u0417\u0432\'\u044f\u0437\u0430\u0442\u0438 \u0441\u043f\u0456\u043b\u044c\u043d\u0456 \u0432\u0435\u0440\u0448\u0438\u043d\u0438 \u0440\u0430\u0437\u043e\u043c"}}'),tr:JSON.parse('{"tooltips":{"placeMarker":"\u0130\u015faret\xe7i yerle\u015ftirmek i\xe7in t\u0131klay\u0131n","firstVertex":"\u0130lk tepe noktas\u0131n\u0131 yerle\u015ftirmek i\xe7in t\u0131klay\u0131n","continueLine":"\xc7izime devam etmek i\xe7in t\u0131klay\u0131n","finishLine":"Bitirmek i\xe7in mevcut herhangi bir i\u015faret\xe7iyi t\u0131klay\u0131n","finishPoly":"Bitirmek i\xe7in ilk i\u015faret\xe7iyi t\u0131klay\u0131n","finishRect":"Bitirmek i\xe7in t\u0131klay\u0131n","startCircle":"Daire merkezine yerle\u015ftirmek i\xe7in t\u0131klay\u0131n","finishCircle":"Daireyi bitirmek i\xe7in t\u0131klay\u0131n","placeCircleMarker":"Daire i\u015faret\xe7isi yerle\u015ftirmek i\xe7in t\u0131klay\u0131n"},"actions":{"finish":"Bitir","cancel":"\u0130ptal","removeLastVertex":"Son k\xf6\u015feyi kald\u0131r"},"buttonTitles":{"drawMarkerButton":"\xc7izim \u0130\u015faret\xe7isi","drawPolyButton":"\xc7okgenler \xe7iz","drawLineButton":"\xc7oklu \xe7izgi \xe7iz","drawCircleButton":"\xc7ember \xe7iz","drawRectButton":"Dikd\xf6rtgen \xe7iz","editButton":"Katmanlar\u0131 d\xfczenle","dragButton":"Katmanlar\u0131 s\xfcr\xfckle","cutButton":"Katmanlar\u0131 kes","deleteButton":"Katmanlar\u0131 kald\u0131r","drawCircleMarkerButton":"Daire i\u015faret\xe7isi \xe7iz","snappingButton":"S\xfcr\xfcklenen i\u015faret\xe7iyi di\u011fer katmanlara ve k\xf6\u015felere yap\u0131\u015ft\u0131r","pinningButton":"Payla\u015f\u0131lan k\xf6\u015feleri birbirine sabitle"}}'),cz:JSON.parse('{"tooltips":{"placeMarker":"Kliknut\xedm vytvo\u0159\xedte zna\u010dku","firstVertex":"Kliknut\xedm vytvo\u0159\xedte prvn\xed objekt","continueLine":"Kliknut\xedm pokra\u010dujte v kreslen\xed","finishLine":"Kliknut\xed na libovolnou existuj\xedc\xed zna\u010dku pro dokon\u010den\xed","finishPoly":"Vyberte prvn\xed bod pro dokon\u010den\xed","finishRect":"Klikn\u011bte pro dokon\u010den\xed","startCircle":"Kliknut\xedm p\u0159idejte st\u0159ed kruhu","finishCircle":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0437\u0430\u0434\u0430\u0442\u044c \u0440\u0430\u0434\u0438\u0443\u0441","placeCircleMarker":"Kliknut\xedm nastavte polom\u011br"},"actions":{"finish":"Dokon\u010dit","cancel":"Zru\u0161it","removeLastVertex":"Zru\u0161it posledn\xed akci"},"buttonTitles":{"drawMarkerButton":"P\u0159idat zna\u010dku","drawPolyButton":"Nakreslit polygon","drawLineButton":"Nakreslit k\u0159ivku","drawCircleButton":"Nakreslit kruh","drawRectButton":"Nakreslit obd\xe9ln\xedk","editButton":"Upravit vrstvu","dragButton":"P\u0159eneste vrstvu","cutButton":"Vyjmout vrstvu","deleteButton":"Smazat vrstvu","drawCircleMarkerButton":"P\u0159idat kruhovou zna\u010dku","snappingButton":"Nav\xe1zat ta\u017enou zna\u010dku k dal\u0161\xedm vrstv\xe1m a vrchol\u016fm","pinningButton":"Spojit spole\u010dn\xe9 body dohromady"}}'),ja:JSON.parse('{"tooltips":{"placeMarker":"\u30af\u30ea\u30c3\u30af\u3057\u3066\u30de\u30fc\u30ab\u30fc\u3092\u914d\u7f6e","firstVertex":"\u30af\u30ea\u30c3\u30af\u3057\u3066\u6700\u521d\u306e\u9802\u70b9\u3092\u914d\u7f6e","continueLine":"\u30af\u30ea\u30c3\u30af\u3057\u3066\u63cf\u753b\u3092\u7d9a\u3051\u308b","finishLine":"\u4efb\u610f\u306e\u30de\u30fc\u30ab\u30fc\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u7d42\u4e86","finishPoly":"\u6700\u521d\u306e\u30de\u30fc\u30ab\u30fc\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u7d42\u4e86","finishRect":"\u30af\u30ea\u30c3\u30af\u3057\u3066\u7d42\u4e86","startCircle":"\u30af\u30ea\u30c3\u30af\u3057\u3066\u5186\u306e\u4e2d\u5fc3\u3092\u914d\u7f6e","finishCircle":"\u30af\u30ea\u30c3\u30af\u3057\u3066\u5186\u306e\u63cf\u753b\u3092\u7d42\u4e86","placeCircleMarker":"\u30af\u30ea\u30c3\u30af\u3057\u3066\u5186\u30de\u30fc\u30ab\u30fc\u3092\u914d\u7f6e","placeText":"\u30af\u30ea\u30c3\u30af\u3057\u3066\u30c6\u30ad\u30b9\u30c8\u3092\u914d\u7f6e"},"actions":{"finish":"\u7d42\u4e86","cancel":"\u30ad\u30e3\u30f3\u30bb\u30eb","removeLastVertex":"\u6700\u5f8c\u306e\u9802\u70b9\u3092\u524a\u9664"},"buttonTitles":{"drawMarkerButton":"\u30de\u30fc\u30ab\u30fc\u3092\u63cf\u753b","drawPolyButton":"\u30dd\u30ea\u30b4\u30f3\u3092\u63cf\u753b","drawLineButton":"\u6298\u308c\u7dda\u3092\u63cf\u753b","drawCircleButton":"\u5186\u3092\u63cf\u753b","drawRectButton":"\u77e9\u5f62\u3092\u63cf\u753b","editButton":"\u30ec\u30a4\u30e4\u30fc\u3092\u7de8\u96c6","dragButton":"\u30ec\u30a4\u30e4\u30fc\u3092\u30c9\u30e9\u30c3\u30b0","cutButton":"\u30ec\u30a4\u30e4\u30fc\u3092\u5207\u308a\u53d6\u308a","deleteButton":"\u30ec\u30a4\u30e4\u30fc\u3092\u524a\u9664","drawCircleMarkerButton":"\u5186\u30de\u30fc\u30ab\u30fc\u3092\u63cf\u753b","snappingButton":"\u30c9\u30e9\u30c3\u30b0\u3057\u305f\u30de\u30fc\u30ab\u30fc\u3092\u4ed6\u306e\u30ec\u30a4\u30e4\u30fc\u3084\u9802\u70b9\u306b\u30b9\u30ca\u30c3\u30d7\u3059\u308b","pinningButton":"\u5171\u6709\u3059\u308b\u9802\u70b9\u3092\u540c\u6642\u306b\u52d5\u304b\u3059","rotateButton":"\u30ec\u30a4\u30e4\u30fc\u3092\u56de\u8ee2","drawTextButton":"\u30c6\u30ad\u30b9\u30c8\u3092\u63cf\u753b"}}'),fi:JSON.parse('{"tooltips":{"placeMarker":"Klikkaa asettaaksesi merkin","firstVertex":"Klikkaa asettaakseni ensimm\xe4isen osuuden","continueLine":"Klikkaa jatkaaksesi piirt\xe4mist\xe4","finishLine":"Klikkaa olemassa olevaa merkki\xe4 lopettaaksesi","finishPoly":"Klikkaa ensimm\xe4ist\xe4 merkki\xe4 lopettaaksesi","finishRect":"Klikkaa lopettaaksesi","startCircle":"Klikkaa asettaaksesi ympyr\xe4n keskipisteen","finishCircle":"Klikkaa lopettaaksesi ympyr\xe4n","placeCircleMarker":"Klikkaa asettaaksesi ympyr\xe4merkin","placeText":"Klikkaa asettaaksesi tekstin"},"actions":{"finish":"Valmis","cancel":"Peruuta","removeLastVertex":"Poista viimeinen osuus"},"buttonTitles":{"drawMarkerButton":"Piirr\xe4 merkkej\xe4","drawPolyButton":"Piirr\xe4 monikulmioita","drawLineButton":"Piirr\xe4 viivoja","drawCircleButton":"Piirr\xe4 ympyr\xe4","drawRectButton":"Piirr\xe4 neliskulmioita","editButton":"Muokkaa","dragButton":"Siirr\xe4","cutButton":"Leikkaa","deleteButton":"Poista","drawCircleMarkerButton":"Piirr\xe4 ympyr\xe4merkki","snappingButton":"Kiinnit\xe4 siirrett\xe4v\xe4 merkki toisiin muotoihin","pinningButton":"Kiinnit\xe4 jaetut muodot yhteen","rotateButton":"K\xe4\xe4nn\xe4","drawTextButton":"Piirr\xe4 teksti\xe4"}}'),ko:JSON.parse('{"tooltips":{"placeMarker":"\ub9c8\ucee4 \uc704\uce58\ub97c \ud074\ub9ad\ud558\uc138\uc694","firstVertex":"\uccab\ubc88\uc9f8 \uaf2d\uc9c0\uc810 \uc704\uce58\uc744 \ud074\ub9ad\ud558\uc138\uc694","continueLine":"\uacc4\uc18d \uadf8\ub9ac\ub824\uba74 \ud074\ub9ad\ud558\uc138\uc694","finishLine":"\ub05d\ub0b4\ub824\uba74 \uae30\uc874 \ub9c8\ucee4\ub97c \ud074\ub9ad\ud558\uc138\uc694","finishPoly":"\ub05d\ub0b4\ub824\uba74 \ucc98\uc74c \ub9c8\ucee4\ub97c \ud074\ub9ad\ud558\uc138\uc694","finishRect":"\ub05d\ub0b4\ub824\uba74 \ud074\ub9ad\ud558\uc138\uc694","startCircle":"\uc6d0\uc758 \uc911\uc2ec\uc774 \ub420 \uc704\uce58\ub97c \ud074\ub9ad\ud558\uc138\uc694","finishCircle":"\uc6d0\uc744 \ub05d\ub0b4\ub824\uba74 \ud074\ub9ad\ud558\uc138\uc694","placeCircleMarker":"\uc6d0 \ub9c8\ucee4 \uc704\uce58\ub97c \ud074\ub9ad\ud558\uc138\uc694","placeText":"\ud14d\uc2a4\ud2b8 \uc704\uce58\ub97c \ud074\ub9ad\ud558\uc138\uc694"},"actions":{"finish":"\ub05d\ub0b4\uae30","cancel":"\ucde8\uc18c","removeLastVertex":"\ub9c8\uc9c0\ub9c9 \uaf2d\uc9c0\uc810 \uc81c\uac70"},"buttonTitles":{"drawMarkerButton":"\ub9c8\ucee4 \uadf8\ub9ac\uae30","drawPolyButton":"\ub2e4\uac01\ud615 \uadf8\ub9ac\uae30","drawLineButton":"\ub2e4\uac01\uc120 \uadf8\ub9ac\uae30","drawCircleButton":"\uc6d0 \uadf8\ub9ac\uae30","drawRectButton":"\uc9c1\uc0ac\uac01\ud615 \uadf8\ub9ac\uae30","editButton":"\ub808\uc774\uc5b4 \ud3b8\uc9d1\ud558\uae30","dragButton":"\ub808\uc774\uc5b4 \ub04c\uae30","cutButton":"\ub808\uc774\uc5b4 \uc790\ub974\uae30","deleteButton":"\ub808\uc774\uc5b4 \uc81c\uac70\ud558\uae30","drawCircleMarkerButton":"\uc6d0 \ub9c8\ucee4 \uadf8\ub9ac\uae30","snappingButton":"\uc7a1\uc544\ub048 \ub9c8\ucee4\ub97c \ub2e4\ub978 \ub808\uc774\uc5b4 \ubc0f \uaf2d\uc9c0\uc810\uc5d0 \ub4e4\ub7ec\ubd99\uac8c \ud558\uae30","pinningButton":"\uacf5\uc720 \uaf2d\uc9c0\uc810\uc744 \ud568\uaed8 \ucc0d\uae30","rotateButton":"\ub808\uc774\uc5b4 \ud68c\uc804\ud558\uae30","drawTextButton":"\ud14d\uc2a4\ud2b8 \uadf8\ub9ac\uae30"}}')};function N(a,c){var f=Object.keys(a);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(a);c&&(_=_.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),f.push.apply(f,_)}return f}function G(a){for(var c=1;c<arguments.length;c++){var f=null!=arguments[c]?arguments[c]:{};c%2?N(Object(f),!0).forEach(function(_){ee(a,_,f[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(f)):N(Object(f)).forEach(function(_){Object.defineProperty(a,_,Object.getOwnPropertyDescriptor(f,_))})}return a}function ee(a,c,f){return c in a?Object.defineProperty(a,c,{value:f,enumerable:!0,configurable:!0,writable:!0}):a[c]=f,a}const me={_globalEditModeEnabled:!1,enableGlobalEditMode:function(a){var c=G({},a);this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach(function(f){f.pm.enable(c)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayers={},this.map.on("layeradd",this._layerAdded,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode:function(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach(function(a){a.pm.disable()}),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled:function(){return this.globalEditModeEnabled()},globalEditModeEnabled:function(){return this._globalEditModeEnabled},toggleGlobalEditMode:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.globalOptions;this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(a)},handleLayerAdditionInGlobalEditMode:function(){var a=this._addedLayers;for(var c in this._addedLayers={},a){var f=a[c];this._isRelevantForEdit(f)&&this.globalEditModeEnabled()&&f.pm.enable(G({},this.globalOptions))}},_layerAdded:function(a){var c=a.layer;this._addedLayers[L.stamp(c)]=c},_isRelevantForEdit:function(a){return a.pm&&!(a instanceof L.LayerGroup)&&(!L.PM.optIn&&!a.options.pmIgnore||L.PM.optIn&&!1===a.options.pmIgnore)&&!a._pmTempLayer&&a.pm.options.allowEditing}},De={_globalDragModeEnabled:!1,enableGlobalDragMode:function(){var a=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},a.forEach(function(c){c.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode:function(){var a=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,a.forEach(function(c){c.pm.disableLayerDrag()}),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled:function(){return!!this._globalDragModeEnabled},toggleGlobalDragMode:function(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode:function(){var a=this._addedLayersDrag;for(var c in this._addedLayersDrag={},a){var f=a[c];this._isRelevantForDrag(f)&&this.globalDragModeEnabled()&&f.pm.enableLayerDrag()}},_layerAddedDrag:function(a){var c=a.layer;this._addedLayersDrag[L.stamp(c)]=c},_isRelevantForDrag:function(a){return a.pm&&!(a instanceof L.LayerGroup)&&(!L.PM.optIn&&!a.options.pmIgnore||L.PM.optIn&&!1===a.options.pmIgnore)&&!a._pmTempLayer&&a.pm.options.draggable}},Me={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode:function(){var a=this;this._globalRemovalModeEnabled=!0,this.map.eachLayer(function(c){a._isRelevantForRemoval(c)&&(c.pm.disable(),c.on("click",a.removeLayer,a))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.reinitGlobalRemovalMode,100,this)),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode:function(){var a=this;this._globalRemovalModeEnabled=!1,this.map.eachLayer(function(c){c.off("click",a.removeLayer,a)}),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled:function(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled:function(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode:function(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},reinitGlobalRemovalMode:function(a){this._isRelevantForRemoval(a.layer)&&this.globalRemovalModeEnabled()&&(this.disableGlobalRemovalMode(),this.enableGlobalRemovalMode())},removeLayer:function(a){var c=a.target;this._isRelevantForRemoval(c)&&!c.pm.dragging()&&(c.removeFrom(this.map.pm._getContainingLayer()),c.remove(),c instanceof L.LayerGroup?(this._fireRemoveLayerGroup(c),this._fireRemoveLayerGroup(this.map,c)):(c.pm._fireRemove(c),c.pm._fireRemove(this.map,c)))},_isRelevantForRemoval:function(a){return a.pm&&!(a instanceof L.LayerGroup)&&(!L.PM.optIn&&!a.options.pmIgnore||L.PM.optIn&&!1===a.options.pmIgnore)&&!a._pmTempLayer&&a.pm.options.allowRemoval}},Le={_globalRotateModeEnabled:!1,enableGlobalRotateMode:function(){var a=this;this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter(function(c){return c instanceof L.Polyline}).forEach(function(c){a._isRelevantForRotate(c)&&c.pm.enableRotate()}),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this._reinitGlobalRotateMode,100,this)),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode:function(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter(function(a){return a instanceof L.Polyline}).forEach(function(a){a.pm.disableRotate()}),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled:function(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode:function(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_reinitGlobalRotateMode:function(a){this._isRelevantForRotate(a.layer)&&this.globalRotateModeEnabled()&&(this.disableGlobalRotateMode(),this.enableGlobalRotateMode())},_isRelevantForRotate:function(a){return a.pm&&!(a instanceof L.LayerGroup)&&(!L.PM.optIn&&!a.options.pmIgnore||L.PM.optIn&&!1===a.options.pmIgnore)&&!a._pmTempLayer&&a.pm.options.allowRotation}};function ke(a,c){var f=Object.keys(a);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(a);c&&(_=_.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),f.push.apply(f,_)}return f}function Pe(a){for(var c=1;c<arguments.length;c++){var f=null!=arguments[c]?arguments[c]:{};c%2?ke(Object(f),!0).forEach(function(_){Ae(a,_,f[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(f)):ke(Object(f)).forEach(function(_){Object.defineProperty(a,_,Object.getOwnPropertyDescriptor(f,_))})}return a}function Ae(a,c,f){return c in a?Object.defineProperty(a,c,{value:f,enumerable:!0,configurable:!0,writable:!0}):a[c]=f,a}const Be={_fireDrawStart:function(){this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Draw",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})},_fireDrawEnd:function(){this.__fire(this._map,"pm:drawend",{shape:this._shape},arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Draw",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})},_fireCreate:function(a){this.__fire(this._map,"pm:create",{shape:this._shape,marker:a,layer:a},arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Draw",arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})},_fireCenterPlaced:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Draw",c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:"Draw"===a?this._layer:void 0,layer:"Draw"!==a?this._layer:void 0,latlng:this._layer.getLatLng()},a,c)},_fireCut:function(a,c,f){this.__fire(a,"pm:cut",{shape:this._shape,layer:c,originalLayer:f},arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Draw",arguments.length>4&&void 0!==arguments[4]?arguments[4]:{})},_fireEdit:function(){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Edit",f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.__fire(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._layer,"pm:edit",{layer:this._layer,shape:this.getShape()},c,f)},_fireEnable:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Edit",c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},a,c)},_fireDisable:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Edit",c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},a,c)},_fireUpdate:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Edit",c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},a,c)},_fireMarkerDragStart:function(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Edit",_=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:a,shape:this.getShape(),indexPath:c},f,_)},_fireMarkerDrag:function(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Edit",_=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:a,shape:this.getShape(),indexPath:c},f,_)},_fireMarkerDragEnd:function(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,_=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Edit",b=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:a,shape:this.getShape(),indexPath:c,intersectionReset:f},_,b)},_fireDragStart:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Edit",c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},a,c)},_fireDrag:function(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Edit",f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.__fire(this._layer,"pm:drag",Pe(Pe({},a),{},{shape:this.getShape()}),c,f)},_fireDragEnd:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Edit",c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},a,c)},_fireDragEnable:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Edit",c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},a,c)},_fireDragDisable:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Edit",c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},a,c)},_fireRemove:function(a){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Edit",_=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.__fire(a,"pm:remove",{layer:arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,shape:this.getShape()},f,_)},_fireVertexAdded:function(a,c,f){var _=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Edit",b=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:a,indexPath:c,latlng:f,shape:this.getShape()},_,b)},_fireVertexRemoved:function(a,c){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Edit",_=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:a,indexPath:c,shape:this.getShape()},f,_)},_fireVertexClick:function(a,c){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Edit",_=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:a,indexPath:c,shape:this.getShape()},f,_)},_fireIntersect:function(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Edit",f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.__fire(this._layer,"pm:intersect",{layer:this._layer,intersection:a,shape:this.getShape()},c,f)},_fireLayerReset:function(a,c){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Edit",_=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:a,indexPath:c,shape:this.getShape()},f,_)},_fireChange:function(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Edit",f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:a,shape:this.getShape()},c,f)},_fireTextChange:function(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Edit",f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:a,shape:this.getShape()},c,f)},_fireTextFocus:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Edit",c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},a,c)},_fireTextBlur:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Edit",c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},a,c)},_fireSnapDrag:function(a,c){this.__fire(a,"pm:snapdrag",c,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Snapping",arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})},_fireSnap:function(a,c){this.__fire(a,"pm:snap",c,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Snapping",arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})},_fireUnsnap:function(a,c){this.__fire(a,"pm:unsnap",c,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Snapping",arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})},_fireRotationEnable:function(a,c){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Rotation",_=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.__fire(a,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},f,_)},_fireRotationDisable:function(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Rotation",f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.__fire(a,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},c,f)},_fireRotationStart:function(a,c){this.__fire(a,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:c},arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Rotation",arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})},_fireRotation:function(a,c,f){var _=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._rotationLayer,b=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Rotation",k=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.__fire(a,"pm:rotate",{layer:_,helpLayer:this._layer,startAngle:this._startAngle,angle:_.pm.getAngle(),angleDiff:c,oldLatLngs:f,newLatLngs:_.getLatLngs()},b,k)},_fireRotationEnd:function(a,c,f){var _=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Rotation",b=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};this.__fire(a,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:c,angle:this._rotationLayer.pm.getAngle(),originLatLngs:f,newLatLngs:this._rotationLayer.getLatLngs()},_,b)},_fireActionClick:function(a,c,f){this.__fire(this._map,"pm:actionclick",{text:a.text,action:a,btnName:c,button:f},arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Toolbar",arguments.length>4&&void 0!==arguments[4]?arguments[4]:{})},_fireButtonClick:function(a,c){this.__fire(this._map,"pm:buttonclick",{btnName:a,button:c},arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Toolbar",arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})},_fireLangChange:function(a,c,f,_){this.__fire(this.map,"pm:langchange",{oldLang:a,activeLang:c,fallback:f,translations:_},arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Global",arguments.length>5&&void 0!==arguments[5]?arguments[5]:{})},_fireGlobalDragModeToggled:function(a){this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:a,map:this.map},arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Global",arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})},_fireGlobalEditModeToggled:function(a){this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:a,map:this.map},arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Global",arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})},_fireGlobalRemovalModeToggled:function(a){this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:a,map:this.map},arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Global",arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})},_fireGlobalCutModeToggled:function(){this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Global",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})},_fireGlobalDrawModeToggled:function(){this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Global",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})},_fireGlobalRotateModeToggled:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Global",c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},a,c)},_fireRemoveLayerGroup:function(a){this.__fire(a,"pm:remove",{layer:arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,shape:void 0},arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Edit",arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})},_fireKeyeventEvent:function(a,c,f){this.__fire(this.map,"pm:keyevent",{event:a,eventType:c,focusOn:f},arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Global",arguments.length>4&&void 0!==arguments[4]?arguments[4]:{})},__fire:function(a,c,f,_){var b=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};f=I()(f,b,{source:_}),L.PM.Utils._fireEvent(a,c,f)}},$e={_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener:function(a){this.map=a,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this)},_onKeyListener:function(a){var c="document";this.map.getContainer().contains(a.target)&&(c="map");var f={event:a,eventType:a.type,focusOn:c};this._lastEvents[a.type]=f,this._lastEvents.current=f,this.map.pm._fireKeyeventEvent(a,a.type,c)},_onBlur:function(a){a.altKey=!1;var c={event:a,eventType:a.type,focusOn:"document"};this._lastEvents[a.type]=c,this._lastEvents.current=c},getLastKeyEvent:function(){return this._lastEvents[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"current"]},isShiftKeyPressed:function(){var a;return null===(a=this._lastEvents.current)||void 0===a?void 0:a.event.shiftKey},isAltKeyPressed:function(){var a;return null===(a=this._lastEvents.current)||void 0===a?void 0:a.event.altKey},isCtrlKeyPressed:function(){var a;return null===(a=this._lastEvents.current)||void 0===a?void 0:a.event.ctrlKey},isMetaKeyPressed:function(){var a;return null===(a=this._lastEvents.current)||void 0===a?void 0:a.event.metaKey},getPressedKey:function(){var a;return null===(a=this._lastEvents.current)||void 0===a?void 0:a.event.key}};var At=C(7361),Se=C.n(At),it=C(8721),ze=C.n(it);function je(a){var c=L.PM.activeLang;return ze()(J,c)||(c="en"),Se()(J[c],a)}function gt(a){for(var c=0;c<a.length;c+=1){var f=a[c];if(Array.isArray(f)){if(gt(f))return!0}else if(null!=f&&""!==f)return!0}return!1}function Qt(a){return a.reduce(function(c,f){if(0!==f.length){var _=Array.isArray(f)?Qt(f):f;Array.isArray(_)?0!==_.length&&c.push(_):c.push(_)}return c},[])}function St(a,c,f){for(var _,b,k,O=6378137,A=6356752.3142,F=.0033528106647474805,U=a.lng,te=a.lat,Q=f,le=Math.PI,_e=c*le/180,Ee=Math.sin(_e),Ke=Math.cos(_e),ut=(1-F)*Math.tan(te*le/180),Nt=1/Math.sqrt(1+ut*ut),He=ut*Nt,It=Math.atan2(ut,Ke),Rt=Nt*Ee,rn=1-Rt*Rt,ur=rn*(O*O-A*A)/(A*A),bs=1+ur/16384*(4096+ur*(ur*(320-175*ur)-768)),Ve=ur/1024*(256+ur*(ur*(74-47*ur)-128)),Cr=Q/(A*bs),Zo=2*Math.PI;Math.abs(Cr-Zo)>1e-12;)_=Math.cos(2*It+Cr),Zo=Cr,Cr=Q/(A*bs)+Ve*(b=Math.sin(Cr))*(_+Ve/4*((k=Math.cos(Cr))*(2*_*_-1)-Ve/6*_*(4*b*b-3)*(4*_*_-3)));var Tn=He*b-Nt*k*Ke,ws=Math.atan2(He*k+Nt*b*Ke,(1-F)*Math.sqrt(Rt*Rt+Tn*Tn)),po=F/16*rn*(4+F*(4-3*rn)),Ut=U+180*(Math.atan2(b*Ee,Nt*k-He*b*Ke)-(1-po)*F*Rt*(Cr+po*b*(_+po*k*(2*_*_-1))))/le;return L.latLng(Ut,180*ws/le)}function Lt(a,c,f,_){for(var b,k,O=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],A=[],F=0;F<f;F+=1){if(O)b=St(a,360*F/f+_,c),k=L.latLng(b.lng,b.lat);else{var U=a.lat+Math.cos(2*F*Math.PI/f)*c,te=a.lng+Math.sin(2*F*Math.PI/f)*c;k=L.latLng(U,te)}A.push(k)}return A}function bt(a,c,f,_){var k,A,F,U,te;return function(k,O,A){O=(O+360)%360;var F=Math.PI/180,U=180/Math.PI,Q=k.lng*F,le=k.lat*F,_e=O*F,Ee=Math.sin(le),Ke=Math.cos(le),ut=Math.cos(A/6378137),Nt=Math.sin(A/6378137),He=Math.asin(Ee*ut+Ke*Nt*Math.cos(_e)),It=Q+Math.atan2(Math.sin(_e)*Nt*Ke,ut-Ee*Math.sin(He));return It=(It*=U)>180?It-360:It<-180?It+360:It,L.latLng([He*U,It])}(c,(A=f,F=(k=a).latLngToContainerPoint(c),U=k.latLngToContainerPoint(A),(te=180*Math.atan2(U.y-F.y,U.x-F.x)/Math.PI+90)+(te<0?360:0)),_)}function wt(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.getLatLngs();return a instanceof L.Polygon?L.polygon(c).getLatLngs():L.polyline(c).getLatLngs()}function fi(a,c){var f,_;if(null!==(f=c.options.crs)&&void 0!==f&&null!==(_=f.projection)&&void 0!==_&&_.MAX_LATITUDE){var b,k,O=null===(b=c.options.crs)||void 0===b||null===(k=b.projection)||void 0===k?void 0:k.MAX_LATITUDE;a.lat=Math.max(Math.min(O,a.lat),-O)}return a}function Ye(a){return a.options.renderer||a._map&&(a._map._getPaneRenderer(a.options.pane)||a._map.options.renderer||a._map._renderer)||a._renderer}const Gr=L.Class.extend({includes:[me,De,Me,Le,Be],initialize:function(a){this.map=a,this.Draw=new L.PM.Draw(a),this.Toolbar=new L.PM.Toolbar(a),this.Keyboard=$e,this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0},this.Keyboard._initKeyListener(a)},setLang:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",c=arguments.length>1?arguments[1]:void 0,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en",_=L.PM.activeLang;c&&(J[a]=I()(J[f],c)),L.PM.activeLang=a,this.map.pm.Toolbar.reinit(),this._fireLangChange(_,a,f,J[a])},addControls:function(a){this.Toolbar.addControls(a)},removeControls:function(){this.Toolbar.removeControls()},toggleControls:function(){this.Toolbar.toggleControls()},controlsVisible:function(){return this.Toolbar.isVisible},enableDraw:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Polygon";"Poly"===a&&(a="Polygon"),this.Draw.enable(a,arguments.length>1?arguments[1]:void 0)},disableDraw:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Polygon";"Poly"===a&&(a="Polygon"),this.Draw.disable(a)},setPathOptions:function(a){var c=this,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_=f.ignoreShapes||[],b=f.merge||!1;this.map.pm.Draw.shapes.forEach(function(k){-1===_.indexOf(k)&&c.map.pm.Draw[k].setPathOptions(a,b)})},getGlobalOptions:function(){return this.globalOptions},setGlobalOptions:function(a){var c=this,f=I()(this.globalOptions,a),_=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.editable!=!!f.editable&&(this.map.pm.Draw.CircleMarker.disable(),_=!0),this.map.pm.Draw.shapes.forEach(function(b){c.map.pm.Draw[b].setOptions(f)}),_&&this.map.pm.Draw.CircleMarker.enable(),L.PM.Utils.findLayers(this.map).forEach(function(b){b.pm.setOptions(f)}),this.map.fire("pm:globaloptionschanged"),this.globalOptions=f,this.applyGlobalOptions()},applyGlobalOptions:function(){L.PM.Utils.findLayers(this.map).forEach(function(a){a.pm.enabled()&&a.pm.applyOptions()})},globalDrawModeEnabled:function(){return!!this.Draw.getActiveShape()},globalCutModeEnabled:function(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode:function(a){return this.Draw.Cut.enable(a)},toggleGlobalCutMode:function(a){return this.Draw.Cut.toggle(a)},disableGlobalCutMode:function(){return this.Draw.Cut.disable()},getGeomanLayers:function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],c=L.PM.Utils.findLayers(this.map);if(!a)return c;var f=L.featureGroup();return f._pmTempLayer=!0,c.forEach(function(_){f.addLayer(_)}),f},getGeomanDrawLayers:function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],c=L.PM.Utils.findLayers(this.map).filter(function(_){return!0===_._drawnByGeoman});if(!a)return c;var f=L.featureGroup();return f._pmTempLayer=!0,c.forEach(function(_){f.addLayer(_)}),f},_getContainingLayer:function(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple:function(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents:function(a){0===this._touchEventCounter&&(L.DomEvent.on(a,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(a,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents:function(a){1===this._touchEventCounter&&(L.DomEvent.off(a,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(a,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove:function(a){Ye(this.map)._onMouseMove(this._createMouseEvent("mousemove",a))},_canvasTouchClick:function(a){var c="";"touchstart"===a.type||"pointerdown"===a.type?c="mousedown":"touchend"===a.type||"pointerup"===a.type?c="mouseup":"touchcancel"!==a.type&&"pointercancel"!==a.type||(c="mouseup"),c&&Ye(this.map)._onClick(this._createMouseEvent(c,a))},_createMouseEvent:function(a,c){var f,_=c.touches[0]||c.changedTouches[0];try{f=new MouseEvent(a,{bubbles:c.bubbles,cancelable:c.cancelable,view:c.view,detail:_.detail,screenX:_.screenX,screenY:_.screenY,clientX:_.clientX,clientY:_.clientY,ctrlKey:c.ctrlKey,altKey:c.altKey,shiftKey:c.shiftKey,metaKey:c.metaKey,button:c.button,relatedTarget:c.relatedTarget})}catch{(f=document.createEvent("MouseEvents")).initMouseEvent(a,c.bubbles,c.cancelable,c.view,_.detail,_.screenX,_.screenY,_.clientX,_.clientY,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,c.button,c.relatedTarget)}return f}}),Zr=L.Control.extend({includes:[Be],options:{position:"topleft",disableByOtherButtons:!0},initialize:function(a){this._button=L.Util.extend({},this.options,a)},onAdd:function(a){return this._map=a,this._container=this._map.pm.Toolbar.options.oneBlock?this._map.pm.Toolbar._createContainer(this.options.position):"edit"===this._button.tool?this._map.pm.Toolbar.editContainer:"options"===this._button.tool?this._map.pm.Toolbar.optionsContainer:"custom"===this._button.tool?this._map.pm.Toolbar.customContainer:this._map.pm.Toolbar.drawContainer,this.buttonsDomNode=this._makeButton(this._button),this._container.appendChild(this.buttonsDomNode),this._container},onRemove:function(){return this.buttonsDomNode.remove(),this._container},getText:function(){return this._button.text},getIconUrl:function(){return this._button.iconUrl},destroy:function(){this._button={},this._update()},toggle:function(a){return this._button.toggleStatus="boolean"==typeof a?a:!this._button.toggleStatus,this._applyStyleClasses(),this._button.toggleStatus},toggled:function(){return this._button.toggleStatus},onCreate:function(){this.toggle(!1)},disable:function(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable:function(){this._button.disabled=!1,this._updateDisabled()},_triggerClick:function(a){a&&a.preventDefault(),this._button.disabled||(this._button.onClick(a,{button:this,event:a}),this._clicked(a),this._button.afterClick(a,{button:this,event:a}))},_makeButton:function(a){var c=this,f=this.options.position.indexOf("right")>-1?"pos-right":"",_=L.DomUtil.create("div","button-container  ".concat(f),this._container);a.title&&_.setAttribute("title",a.title);var b=L.DomUtil.create("a","leaflet-buttons-control-button",_);b.setAttribute("role","button"),b.setAttribute("tabindex","0"),b.href="#";var k=L.DomUtil.create("div","leaflet-pm-actions-container ".concat(f),_),O=a.actions,A={cancel:{text:je("actions.cancel"),onClick:function(){this._triggerClick()}},finishMode:{text:je("actions.finish"),onClick:function(){this._triggerClick()}},removeLastVertex:{text:je("actions.removeLastVertex"),onClick:function(){this._map.pm.Draw[a.jsClass]._removeLastVertex()}},finish:{text:je("actions.finish"),onClick:function(U){this._map.pm.Draw[a.jsClass]._finishShape(U)}}};O.forEach(function(U){var te,Q="string"==typeof U?U:U.name;if(A[Q])te=A[Q];else{if(!U.text)return;te=U}var le=L.DomUtil.create("a","leaflet-pm-action ".concat(f," action-").concat(Q),k);le.setAttribute("role","button"),le.setAttribute("tabindex","0"),le.href="#",le.innerHTML=te.text,L.DomEvent.disableClickPropagation(le),L.DomEvent.on(le,"click",L.DomEvent.stop),!a.disabled&&te.onClick&&(L.DomEvent.addListener(le,"click",function(_e){_e.preventDefault();var Ee="",Ke=c._map.pm.Toolbar.buttons;for(var ut in Ke)if(Ke[ut]._button===a){Ee=ut;break}c._fireActionClick(te,Ee,a)},c),L.DomEvent.addListener(le,"click",te.onClick,c))}),a.toggleStatus&&L.DomUtil.addClass(_,"active");var F=L.DomUtil.create("div","control-icon",b);return a.iconUrl&&F.setAttribute("src",a.iconUrl),a.className&&L.DomUtil.addClass(F,a.className),L.DomEvent.disableClickPropagation(b),L.DomEvent.on(b,"click",L.DomEvent.stop),a.disabled||(L.DomEvent.addListener(b,"click",this._onBtnClick,this),L.DomEvent.addListener(b,"click",this._triggerClick,this)),a.disabled&&(L.DomUtil.addClass(b,"pm-disabled"),b.setAttribute("aria-disabled","true")),_},_applyStyleClasses:function(){this._container&&(this._button.toggleStatus&&!1!==this._button.cssToggle?(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")):(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")))},_onBtnClick:function(){this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);var a="",c=this._map.pm.Toolbar.buttons;for(var f in c)if(c[f]._button===this._button){a=f;break}this._fireButtonClick(a,this._button)},_clicked:function(){this._button.doToggle&&this.toggle()},_updateDisabled:function(){if(this._container){var a="pm-disabled",c=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(c,a),c.setAttribute("aria-disabled","true"),L.DomEvent.off(c,"click",this._triggerClick,this),L.DomEvent.off(c,"click",this._onBtnClick,this)):(L.DomUtil.removeClass(c,a),c.setAttribute("aria-disabled","false"),L.DomEvent.on(c,"click",this._triggerClick,this),L.DomEvent.on(c,"click",this._onBtnClick,this))}}});function qr(a,c){var f=Object.keys(a);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(a);c&&(_=_.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),f.push.apply(f,_)}return f}function kn(a){for(var c=1;c<arguments.length;c++){var f=null!=arguments[c]?arguments[c]:{};c%2?qr(Object(f),!0).forEach(function(_){No(a,_,f[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(f)):qr(Object(f)).forEach(function(_){Object.defineProperty(a,_,Object.getOwnPropertyDescriptor(f,_))})}return a}function No(a,c,f){return c in a?Object.defineProperty(a,c,{value:f,enumerable:!0,configurable:!0,writable:!0}):a[c]=f,a}function Ai(a){return(Ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(a)}L.Control.PMButton=Zr;const lo=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize:function(a){this.init(a)},reinit:function(){var a=this.isVisible;this.removeControls(),this._defineButtons(),a&&this.addControls()},init:function(a){this.map=a,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer:function(a){var c="".concat(a,"Container");return this[c]||(this[c]=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-".concat(a," leaflet-bar leaflet-control"))),this[c]},getButtons:function(){return this.buttons},addControls:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options;typeof a.editPolygon<"u"&&(a.editMode=a.editPolygon),typeof a.deleteLayer<"u"&&(a.removalMode=a.deleteLayer),L.Util.setOptions(this,a),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle:function(){var a=this.getButtons(),c={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(var f in a)L.Util.setOptions(a[f],{className:c.geomanIcons[f]})},removeControls:function(){var a=this.getButtons();for(var c in a)a[c].remove();this.isVisible=!1},toggleControls:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options;this.isVisible?this.removeControls():this.addControls(a)},_addButton:function(a,c){return this.buttons[a]=c,this.options[a]=this.options[a]||!1,this.buttons[a]},triggerClickOnToggledButtons:function(a){for(var c in this.buttons){var f=this.buttons[c];f._button.disableByOtherButtons&&f!==a&&f.toggled()&&f._triggerClick()}},toggleButton:function(a,c){return"editPolygon"===a&&(a="editMode"),"deleteLayer"===a&&(a="removalMode"),(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&this.triggerClickOnToggledButtons(this.buttons[a]),!!this.buttons[a]&&this.buttons[a].toggle(c)},_defineButtons:function(){var a=this,c={className:"control-icon leaflet-pm-icon-marker",title:je("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:function(){},afterClick:function(_e,Ee){a.map.pm.Draw[Ee.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},f={title:je("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:function(){},afterClick:function(_e,Ee){a.map.pm.Draw[Ee.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},_={className:"control-icon leaflet-pm-icon-polyline",title:je("buttonTitles.drawLineButton"),jsClass:"Line",onClick:function(){},afterClick:function(_e,Ee){a.map.pm.Draw[Ee.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},b={title:je("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:function(){},afterClick:function(_e,Ee){a.map.pm.Draw[Ee.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},k={title:je("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:function(){},afterClick:function(_e,Ee){a.map.pm.Draw[Ee.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},O={title:je("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:function(){},afterClick:function(_e,Ee){a.map.pm.Draw[Ee.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},A={title:je("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:function(){},afterClick:function(){a.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},F={title:je("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:function(){},afterClick:function(){a.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},U={title:je("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:function(){},afterClick:function(_e,Ee){a.map.pm.Draw[Ee.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},te={title:je("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:function(){},afterClick:function(){a.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},Q={title:je("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:function(){},afterClick:function(){a.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},le={className:"control-icon leaflet-pm-icon-text",title:je("buttonTitles.drawTextButton"),jsClass:"Text",onClick:function(){},afterClick:function(_e,Ee){a.map.pm.Draw[Ee.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(c)),this._addButton("drawPolyline",new L.Control.PMButton(_)),this._addButton("drawRectangle",new L.Control.PMButton(O)),this._addButton("drawPolygon",new L.Control.PMButton(f)),this._addButton("drawCircle",new L.Control.PMButton(b)),this._addButton("drawCircleMarker",new L.Control.PMButton(k)),this._addButton("drawText",new L.Control.PMButton(le)),this._addButton("editMode",new L.Control.PMButton(A)),this._addButton("dragMode",new L.Control.PMButton(F)),this._addButton("cutPolygon",new L.Control.PMButton(U)),this._addButton("removalMode",new L.Control.PMButton(te)),this._addButton("rotateMode",new L.Control.PMButton(Q))},_showHideButtons:function(){if(this.isVisible){this.removeControls(),this.isVisible=!0;var a=this.getButtons(),c=[];for(var f in!1===this.options.drawControls&&(c=c.concat(Object.keys(a).filter(function(b){return!a[b]._button.tool}))),!1===this.options.editControls&&(c=c.concat(Object.keys(a).filter(function(b){return"edit"===a[b]._button.tool}))),!1===this.options.optionsControls&&(c=c.concat(Object.keys(a).filter(function(b){return"options"===a[b]._button.tool}))),!1===this.options.customControls&&(c=c.concat(Object.keys(a).filter(function(b){return"custom"===a[b]._button.tool}))),a)if(this.options[f]&&-1===c.indexOf(f)){var _=a[f]._button.tool;_||(_="draw"),a[f].setPosition(this._getBtnPosition(_)),a[f].addTo(this.map)}}},_getBtnPosition:function(a){return this.options.positions&&this.options.positions[a]?this.options.positions[a]:this.options.position},setBlockPosition:function(a,c){this.options.positions[a]=c,this._showHideButtons(),this.changeControlOrder()},getBlockPositions:function(){return this.options.positions},copyDrawControl:function(a,c){if(!c)throw new TypeError("Button has no name");"object"!==Ai(c)&&(c={name:c});var f=this._btnNameMapping(a);if(!c.name)throw new TypeError("Button has no name");if(this.buttons[c.name])throw new TypeError("Button with this name already exists");var _=this.map.pm.Draw.createNewDrawInstance(c.name,f);return c=kn(kn({},this.buttons[f]._button),c),{drawInstance:_,control:this.createCustomControl(c)}},createCustomControl:function(a){var c,f;if(!a.name)throw new TypeError("Button has no name");if(this.buttons[a.name])throw new TypeError("Button with this name already exists");a.onClick||(a.onClick=function(){}),a.afterClick||(a.afterClick=function(){}),!1!==a.toggle&&(a.toggle=!0),a.block&&(a.block=a.block.toLowerCase()),a.block&&"draw"!==a.block||(a.block=""),a.className?-1===a.className.indexOf("control-icon")&&(a.className="control-icon ".concat(a.className)):a.className="control-icon";var _={tool:a.block,className:a.className,title:a.title||"",jsClass:a.name,onClick:a.onClick,afterClick:a.afterClick,doToggle:a.toggle,toggleStatus:!1,disableOtherButtons:null===(c=a.disableOtherButtons)||void 0===c||c,disableByOtherButtons:null===(f=a.disableByOtherButtons)||void 0===f||f,cssToggle:a.toggle,position:this.options.position,actions:a.actions||[],disabled:!!a.disabled};!1!==this.options[a.name]&&(this.options[a.name]=!0);var b=this._addButton(a.name,new L.Control.PMButton(_));return this.changeControlOrder(),b},changeControlOrder:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],c=this._shapeMapping(),f=[];a.forEach(function(U){f.push(c[U]?c[U]:U)});var _=this.getButtons(),b={};f.forEach(function(U){_[U]&&(b[U]=_[U])}),Object.keys(_).filter(function(U){return!_[U]._button.tool}).forEach(function(U){-1===f.indexOf(U)&&(b[U]=_[U])}),Object.keys(_).filter(function(U){return"edit"===_[U]._button.tool}).forEach(function(U){-1===f.indexOf(U)&&(b[U]=_[U])}),Object.keys(_).filter(function(U){return"options"===_[U]._button.tool}).forEach(function(U){-1===f.indexOf(U)&&(b[U]=_[U])}),Object.keys(_).filter(function(U){return"custom"===_[U]._button.tool}).forEach(function(U){-1===f.indexOf(U)&&(b[U]=_[U])}),Object.keys(_).forEach(function(U){-1===f.indexOf(U)&&(b[U]=_[U])}),this.map.pm.Toolbar.buttons=b,this._showHideButtons()},getControlOrder:function(){var a=this.getButtons(),c=[];for(var f in a)c.push(f);return c},changeActionsOfControl:function(a,c){var f=this._btnNameMapping(a);if(!f)throw new TypeError("No name passed");if(!c)throw new TypeError("No actions passed");if(!this.buttons[f])throw new TypeError("Button with this name not exists");this.buttons[f]._button.actions=c,this.changeControlOrder()},setButtonDisabled:function(a,c){var f=this._btnNameMapping(a);c?this.buttons[f].disable():this.buttons[f].enable()},_shapeMapping:function(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping:function(a){var c=this._shapeMapping();return c[a]?c[a]:a}});function pi(a,c){var f=Object.keys(a);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(a);c&&(_=_.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),f.push.apply(f,_)}return f}function V(a){for(var c=1;c<arguments.length;c++){var f=null!=arguments[c]?arguments[c]:{};c%2?pi(Object(f),!0).forEach(function(_){w(a,_,f[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(f)):pi(Object(f)).forEach(function(_){Object.defineProperty(a,_,Object.getOwnPropertyDescriptor(f,_))})}return a}function w(a,c,f){return c in a?Object.defineProperty(a,c,{value:f,enumerable:!0,configurable:!0,writable:!0}):a[c]=f,a}const R={_initSnappableMarkers:function(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=void 0===this.options.snapSegment||this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents:function(a){var c=this;a.forEach(function(f){Array.isArray(f)?c._assignEvents(f):(f.off("drag",c._handleSnapping,c),f.on("drag",c._handleSnapping,c),f.off("dragend",c._cleanupSnapping,c),f.on("dragend",c._cleanupSnapping,c))})},_cleanupSnapping:function(a){a&&(a.target._snapped=!1),delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("pm:remove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(function(c){c.remove()})},_handleThrottleSnapping:function(){this.throttledList&&this._createSnapList()},_handleSnapping:function(a){var c=this,f=a.target;if(f._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),this._map.pm.Keyboard.isAltKeyPressed()||(void 0===this._snapList&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;var b,_=this._calcClosestLayer(f.getLatLng(),this._snapList);if(0===Object.keys(_).length)return!1;b=_.layer instanceof L.Marker||_.layer instanceof L.CircleMarker||!this.options.snapSegment?_.latlng:this._checkPrioritiySnapping(_);var O=this.options.snapDistance,A={marker:f,shape:this._shape,snapLatLng:b,segment:_.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:_.layer,distance:_.distance};if(this._fireSnapDrag(A.marker,A),this._fireSnapDrag(this._layer,A),_.distance<O){f._orgLatLng=f.getLatLng(),f.setLatLng(b),f._snapped=!0,f._snapInfo=A;var F=this._snapLatLng||{},U=b||{};F.lat===U.lat&&F.lng===U.lng||(c._snapLatLng=b,c._fireSnap(f,A),c._fireSnap(c._layer,A))}else this._snapLatLng&&(this._unsnap(A),f._snapped=!1,f._snapInfo=void 0,this._fireUnsnap(A.marker,A),this._fireUnsnap(this._layer,A));return!0},_createSnapList:function(){var a=this,c=[],f=[],_=this._map;_.off("pm:remove",this._handleSnapLayerRemoval,this),_.on("pm:remove",this._handleSnapLayerRemoval,this),_.eachLayer(function(b){if((b instanceof L.Polyline||b instanceof L.Marker||b instanceof L.CircleMarker||b instanceof L.ImageOverlay)&&!0!==b.options.snapIgnore){if(void 0===b.options.snapIgnore&&(!L.PM.optIn&&!0===b.options.pmIgnore||L.PM.optIn&&!1!==b.options.pmIgnore))return;(b instanceof L.Circle||b instanceof L.CircleMarker)&&b.pm&&b.pm._hiddenPolyCircle?c.push(b.pm._hiddenPolyCircle):b instanceof L.ImageOverlay&&(b=L.rectangle(b.getBounds())),c.push(b);var k=L.polyline([],{color:"red",pmIgnore:!0});k._pmTempLayer=!0,f.push(k),(b instanceof L.Circle||b instanceof L.CircleMarker)&&f.push(k)}}),c=(c=(c=c.filter(function(b){return a._layer!==b})).filter(function(b){return b._latlng||b._latlngs&&gt(b._latlngs)})).filter(function(b){return!b._pmTempLayer}),this._otherSnapLayers?(this._otherSnapLayers.forEach(function(){var b=L.polyline([],{color:"red",pmIgnore:!0});b._pmTempLayer=!0,f.push(b)}),this._snapList=c.concat(this._otherSnapLayers)):this._snapList=c,this.debugIndicatorLines=f},_handleSnapLayerRemoval:function(a){var c=a.layer,f=this._snapList.findIndex(function(_){return _._leaflet_id===c._leaflet_id});this._snapList.splice(f,1)},_calcClosestLayer:function(a,c){return this._calcClosestLayers(a,c,1)[0]},_calcClosestLayers:function(a,c){var f=this,_=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,b=[],k={};c.forEach(function(A,F){if(!A._parentCopy||A._parentCopy!==f._layer){var U=f._calcLayerDistances(a,A);if(U.distance=Math.floor(U.distance),f.debugIndicatorLines){if(!f.debugIndicatorLines[F]){var te=L.polyline([],{color:"red",pmIgnore:!0});te._pmTempLayer=!0,f.debugIndicatorLines[F]=te}f.debugIndicatorLines[F].setLatLngs([a,U.latlng])}1===_&&(void 0===k.distance||U.distance<=k.distance)?(U.distance<k.distance&&(b=[]),(k=U).layer=A,b.push(k)):1!==_&&(k={},(k=U).layer=A,b.push(k))}}),1!==_&&(b=b.sort(function(A,F){return A.distance-F.distance})),-1===_&&(_=b.length);var O=this._getClosestLayerByPriority(b,_);return L.Util.isArray(O)?O:[O]},_calcLayerDistances:function(a,c){var f=this._map,_=c instanceof L.Marker||c instanceof L.CircleMarker,b=c instanceof L.Polygon,k=a;if(_){var O=c.getLatLng();return{latlng:V({},O),distance:this._getDistance(f,O,k)}}return this._calcLatLngDistances(k,c.getLatLngs(),f,b)},_calcLatLngDistances:function(a,c,f){var _,b,k,O=this,A=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function te(Q){Q.forEach(function(le,_e){if(Array.isArray(le))te(le);else if(O.options.snapSegment){var Ke=le,ut=Q[A?_e+1===Q.length?0:_e+1:_e+1===Q.length?void 0:_e+1];if(ut){var Nt=O._getDistanceToSegment(f,a,Ke,ut);(void 0===b||Nt<b)&&(b=Nt,k=[Ke,ut])}}else{var He=O._getDistance(f,a,le);(void 0===b||He<b)&&(b=He,_=le)}})}(c),this.options.snapSegment?{latlng:V({},this._getClosestPointOnSegment(f,a,k[0],k[1])),segment:k,distance:b}:{latlng:_,distance:b}},_getClosestLayerByPriority:function(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;a=a.sort(function(O,A){return O._leaflet_id-A._leaflet_id});var b=0,k={};return(this._map.pm.globalOptions.snappingOrder||[]).concat(["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"]).forEach(function(O){k[O]||(k[O]=b+=1)}),a.sort(function Tt(a,c){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc";if(!c||0===Object.keys(c).length)return function(F,U){return F-U};for(var _,b=Object.keys(c),k=b.length-1,O={};k>=0;)O[(_=b[k]).toLowerCase()]=c[_],k-=1;function A(F){return F instanceof L.Marker?"Marker":F instanceof L.Circle?"Circle":F instanceof L.CircleMarker?"CircleMarker":F instanceof L.Rectangle?"Rectangle":F instanceof L.Polygon?"Polygon":F instanceof L.Polyline?"Line":void 0}return function(F,U){var te,Q;if("instanceofShape"===a){if(te=A(F.layer).toLowerCase(),Q=A(U.layer).toLowerCase(),!te||!Q)return 0}else{if(!F.hasOwnProperty(a)||!U.hasOwnProperty(a))return 0;te=F[a].toLowerCase(),Q=U[a].toLowerCase()}var le=te in O?O[te]:Number.MAX_SAFE_INTEGER,_e=Q in O?O[Q]:Number.MAX_SAFE_INTEGER,Ee=0;return le<_e?Ee=-1:le>_e&&(Ee=1),"desc"===f?-1*Ee:Ee}}("instanceofShape",k)),1===c?a[0]||{}:a.slice(0,c)},_checkPrioritiySnapping:function(a){var c=this._map,f=a.segment[0],_=a.segment[1],b=a.latlng,k=this._getDistance(c,f,b),O=this._getDistance(c,_,b),A=k<O?f:_,F=k<O?k:O;if(this.options.snapMiddle){var U=L.PM.Utils.calcMiddleLatLng(c,f,_),te=this._getDistance(c,U,b);te<k&&te<O&&(A=U,F=te)}return V({},F<this.options.snapDistance?A:b)},_unsnap:function(){delete this._snapLatLng},_getClosestPointOnSegment:function(a,c,f,_){var b=a.getMaxZoom();b===1/0&&(b=a.getZoom());var k=a.project(c,b),O=a.project(f,b),A=a.project(_,b),F=L.LineUtil.closestPointOnSegment(k,O,A);return a.unproject(F,b)},_getDistanceToSegment:function(a,c,f,_){var b=a.latLngToLayerPoint(c),k=a.latLngToLayerPoint(f),O=a.latLngToLayerPoint(_);return L.LineUtil.pointToSegmentDistance(b,k,O)},_getDistance:function(a,c,f){return a.latLngToLayerPoint(c).distanceTo(a.latLngToLayerPoint(f))}},$=L.Class.extend({includes:[R,Be],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,editable:!1,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1},setOptions:function(a){L.Util.setOptions(this,a),this.setStyle(this.options)},setStyle:function(){},getOptions:function(){return this.options},initialize:function(a){var c=this,f=new L.Icon.Default;f.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=f,this._map=a,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach(function(_){c[_]=new L.PM.Draw[_](c._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions:function(a){this.options.pathOptions=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?I()(this.options.pathOptions,a):a},getShapes:function(){return this.shapes},getShape:function(){return this._shape},enable:function(a,c){if(!a)throw new Error("Error: Please pass a shape as a parameter. Possible shapes are: ".concat(this.getShapes().join(",")));this.disable(),this[a].enable(c)},disable:function(){var a=this;this.shapes.forEach(function(c){a[c].disable()})},addControls:function(){var a=this;this.shapes.forEach(function(c){a[c].addButton()})},getActiveShape:function(){var a,c=this;return this.shapes.forEach(function(f){c[f]._enabled&&(a=f)}),a},_setGlobalDrawMode:function(){"Cut"===this._shape?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled(),L.PM.Utils.findLayers(this._map).forEach(this._enabled?function(c){L.PM.Utils.disablePopup(c)}:function(c){L.PM.Utils.enablePopup(c)})},createNewDrawInstance:function(a,c){var f=this._getShapeFromBtnName(c);if(this[a])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[f])throw new TypeError("There is no class L.PM.Draw.".concat(f));return this[a]=new L.PM.Draw[f](this._map),this[a].toolbarButtonName=a,this[a]._shape=a,this.shapes.push(a),this[c]&&this[a].setOptions(this[c].options),this[a].setOptions(this[a].options),this[a]},_getShapeFromBtnName:function(a){var c={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return c[a]?c[a]:this[a]?this[a]._shape:a},_finishLayer:function(a){a.pm&&(a.pm.setOptions(this.options),a.pm._shape=this._shape,a.pm._map=this._map),this._addDrawnLayerProp(a)},_addDrawnLayerProp:function(a){a._drawnByGeoman=!0},_setPane:function(a,c){"layerPane"===c?a.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":"vertexPane"===c?a.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":"markerPane"===c&&(a.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer:function(){return 0===(this._map||this._layer._map).pm.getGeomanLayers().length}});$.Marker=$.extend({initialize:function(a){this._map=a,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable:function(a){var c=this;L.Util.setOptions(this,a),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(je("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(function(f){c.isRelevantMarker(f)&&f.pm.enable()}),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){var a=this;this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(function(c){a.isRelevantMarker(c)&&c.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(a){this.enabled()?this.disable():this.enable(a)},isRelevantMarker:function(a){return a instanceof L.Marker&&a.pm&&!a._pmTempLayer&&!a.pm._initTextMarker},_syncHintMarker:function(a){if(this._hintMarker.setLatLng(a.latlng),this.options.snappable){var c=a;c.target=this._hintMarker,this._handleSnapping(c)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker:function(a){if(a.latlng&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){this._hintMarker._snapped||this._hintMarker.setLatLng(a.latlng);var c=this._hintMarker.getLatLng(),f=new L.Marker(c,this.options.markerStyle);this._setPane(f,"markerPane"),this._finishLayer(f),f.pm||(f.options.draggable=!1),f.addTo(this._map.pm._getContainingLayer()),f.pm&&this.options.markerEditable?f.pm.enable():f.dragging&&f.dragging.disable(),this._fireCreate(f),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},setStyle:function(){var a,c;null!==(a=this.options.markerStyle)&&void 0!==a&&a.icon&&(null===(c=this._hintMarker)||void 0===c||c.setIcon(this.options.markerStyle.icon))}});var Z=6371008.8,he={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260.511392,inches:39.37*Z,kilometers:6371.0088,kilometres:6371.0088,meters:Z,metres:Z,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:Z/1852,radians:1,yards:6967335.223679999};function ce(a,c,f){void 0===f&&(f={});var _={type:"Feature"};return(0===f.id||f.id)&&(_.id=f.id),f.bbox&&(_.bbox=f.bbox),_.properties=c||{},_.geometry=a,_}function Ce(a,c,f){if(void 0===f&&(f={}),!a)throw new Error("coordinates is required");if(!Array.isArray(a))throw new Error("coordinates must be an Array");if(a.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Ft(a[0])||!Ft(a[1]))throw new Error("coordinates must contain numbers");return ce({type:"Point",coordinates:a},c,f)}function qe(a,c,f){if(void 0===f&&(f={}),a.length<2)throw new Error("coordinates must be an array of two or more positions");return ce({type:"LineString",coordinates:a},c,f)}function ht(a,c){void 0===c&&(c={});var f={type:"FeatureCollection"};return c.id&&(f.id=c.id),c.bbox&&(f.bbox=c.bbox),f.features=a,f}function zt(a){return a%(2*Math.PI)*180/Math.PI}function mt(a){return a%360*Math.PI/180}function Ft(a){return!isNaN(a)&&null!==a&&!Array.isArray(a)}function Yt(a){var c,f,_={type:"FeatureCollection",features:[]};if("LineString"===(f="Feature"===a.type?a.geometry:a).type)c=[f.coordinates];else if("MultiLineString"===f.type)c=f.coordinates;else if("MultiPolygon"===f.type)c=[].concat.apply([],f.coordinates);else{if("Polygon"!==f.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");c=f.coordinates}return c.forEach(function(b){c.forEach(function(k){for(var O=0;O<b.length-1;O++)for(var A=O;A<k.length-1;A++)if(b!==k||1!==Math.abs(O-A)&&(0!==O||A!==b.length-2||b[O][0]!==b[b.length-1][0]||b[O][1]!==b[b.length-1][1])){var F=sn(b[O][0],b[O][1],b[O+1][0],b[O+1][1],k[A][0],k[A][1],k[A+1][0],k[A+1][1]);F&&_.features.push(Ce([F[0],F[1]]))}})}),_}function sn(a,c,f,_,b,k,O,A){var F,U,te,Q,le={x:null,y:null,onLine1:!1,onLine2:!1};return 0==(F=(A-k)*(f-a)-(O-b)*(_-c))?null!==le.x&&null!==le.y&&le:(Q=(f-a)*(U=c-k)-(_-c)*(te=a-b),U=((O-b)*U-(A-k)*te)/F,te=Q/F,le.x=a+U*(f-a),le.y=c+U*(_-c),U>=0&&U<=1&&(le.onLine1=!0),te>=0&&te<=1&&(le.onLine2=!0),!(!le.onLine1||!le.onLine2)&&[le.x,le.y])}function nn(a,c){var f=Object.keys(a);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(a);c&&(_=_.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),f.push.apply(f,_)}return f}function En(a){for(var c=1;c<arguments.length;c++){var f=null!=arguments[c]?arguments[c]:{};c%2?nn(Object(f),!0).forEach(function(_){xn(a,_,f[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(f)):nn(Object(f)).forEach(function(_){Object.defineProperty(a,_,Object.getOwnPropertyDescriptor(f,_))})}return a}function xn(a,c,f){return c in a?Object.defineProperty(a,c,{value:f,enumerable:!0,configurable:!0,writable:!0}):a[c]=f,a}function yr(a,c){var f=Object.keys(a);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(a);c&&(_=_.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),f.push.apply(f,_)}return f}function sr(a){for(var c=1;c<arguments.length;c++){var f=null!=arguments[c]?arguments[c]:{};c%2?yr(Object(f),!0).forEach(function(_){Cn(a,_,f[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(f)):yr(Object(f)).forEach(function(_){Object.defineProperty(a,_,Object.getOwnPropertyDescriptor(f,_))})}return a}function Cn(a,c,f){return c in a?Object.defineProperty(a,c,{value:f,enumerable:!0,configurable:!0,writable:!0}):a[c]=f,a}function Nn(a,c){var f=Object.keys(a);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(a);c&&(_=_.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),f.push.apply(f,_)}return f}function ar(a){for(var c=1;c<arguments.length;c++){var f=null!=arguments[c]?arguments[c]:{};c%2?Nn(Object(f),!0).forEach(function(_){kr(a,_,f[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(f)):Nn(Object(f)).forEach(function(_){Object.defineProperty(a,_,Object.getOwnPropertyDescriptor(f,_))})}return a}function kr(a,c,f){return c in a?Object.defineProperty(a,c,{value:f,enumerable:!0,configurable:!0,writable:!0}):a[c]=f,a}function pn(a){if(!a)throw new Error("coord is required");if(!Array.isArray(a)){if("Feature"===a.type&&null!==a.geometry&&"Point"===a.geometry.type)return a.geometry.coordinates;if("Point"===a.type)return a.coordinates}if(Array.isArray(a)&&a.length>=2&&!Array.isArray(a[0])&&!Array.isArray(a[1]))return a;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function an(a){if(Array.isArray(a))return a;if("Feature"===a.type){if(null!==a.geometry)return a.geometry.coordinates}else if(a.coordinates)return a.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function vr(a){return"Feature"===a.type?a.geometry:a}function Ni(a,c){return"FeatureCollection"===a.type?"FeatureCollection":"GeometryCollection"===a.type?"GeometryCollection":"Feature"===a.type&&null!==a.geometry?a.geometry.type:a.type}function uo(a,c,f){if(null!==a)for(var _,b,k,O,A,F,U,te,Q=0,le=0,_e=a.type,Ee="FeatureCollection"===_e,Ke="Feature"===_e,ut=Ee?a.features.length:1,Nt=0;Nt<ut;Nt++){A=(te=!!(U=Ee?a.features[Nt].geometry:Ke?a.geometry:a)&&"GeometryCollection"===U.type)?U.geometries.length:1;for(var He=0;He<A;He++){var It=0,Rt=0;if(null!==(O=te?U.geometries[He]:U)){F=O.coordinates;var rn=O.type;switch(Q=!f||"Polygon"!==rn&&"MultiPolygon"!==rn?0:1,rn){case null:break;case"Point":if(!1===c(F,le,Nt,It,Rt))return!1;le++,It++;break;case"LineString":case"MultiPoint":for(_=0;_<F.length;_++){if(!1===c(F[_],le,Nt,It,Rt))return!1;le++,"MultiPoint"===rn&&It++}"LineString"===rn&&It++;break;case"Polygon":case"MultiLineString":for(_=0;_<F.length;_++){for(b=0;b<F[_].length-Q;b++){if(!1===c(F[_][b],le,Nt,It,Rt))return!1;le++}"MultiLineString"===rn&&It++,"Polygon"===rn&&Rt++}"Polygon"===rn&&It++;break;case"MultiPolygon":for(_=0;_<F.length;_++){for(Rt=0,b=0;b<F[_].length;b++){for(k=0;k<F[_][b].length-Q;k++){if(!1===c(F[_][b][k],le,Nt,It,Rt))return!1;le++}Rt++}It++}break;case"GeometryCollection":for(_=0;_<O.geometries.length;_++)if(!1===uo(O.geometries[_],c,f))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function gi(a,c){if("Feature"===a.type)c(a,0);else if("FeatureCollection"===a.type)for(var f=0;f<a.features.length&&!1!==c(a.features[f],f);f++);}function Fo(a,c){!function $n(a,c){var f,_,b,k,O,A,F,U,te,Q,le=0,_e="FeatureCollection"===a.type,Ee="Feature"===a.type,Ke=_e?a.features.length:1;for(f=0;f<Ke;f++){for(U=_e?a.features[f].properties:Ee?a.properties:{},te=_e?a.features[f].bbox:Ee?a.bbox:void 0,Q=_e?a.features[f].id:Ee?a.id:void 0,O=(F=!!(A=_e?a.features[f].geometry:Ee?a.geometry:a)&&"GeometryCollection"===A.type)?A.geometries.length:1,b=0;b<O;b++)if(null!==(k=F?A.geometries[b]:A))switch(k.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===c(k,le,U,te,Q))return!1;break;case"GeometryCollection":for(_=0;_<k.geometries.length;_++)if(!1===c(k.geometries[_],le,U,te,Q))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===c(null,le,U,te,Q))return!1;le++}}(a,function(f,_,b,k,O){var A,F=null===f?null:f.type;switch(F){case null:case"Point":case"LineString":case"Polygon":return!1!==c(ce(f,b,{bbox:k,id:O}),_,0)&&void 0}switch(F){case"MultiPoint":A="Point";break;case"MultiLineString":A="LineString";break;case"MultiPolygon":A="Polygon"}for(var U=0;U<f.coordinates.length;U++)if(!1===c(ce({type:A,coordinates:f.coordinates[U]},b),_,U))return!1})}$.Line=$.extend({initialize:function(a){this._map=a,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable:function(a){L.Util.setOptions(this,a),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],En(En({},this.options.templineStyle),{},{pmIgnore:!1})),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(je("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map._container.style.cursor="crosshair",this._map.on("click",this._createVertex,this),this.options.finishOn&&"snap"!==this.options.finishOn&&this._map.on(this.options.finishOn,this._finishShape,this),"dblclick"===this.options.finishOn&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&"snap"!==this.options.finishOn&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(a){this.enabled()?this.disable():this.enable(a)},_syncHintLine:function(){var a=this._layer.getLatLngs();a.length>0&&this._hintline.setLatLngs([a[a.length-1],this._hintMarker.getLatLng()])},_syncHintMarker:function(a){if(this._hintMarker.setLatLng(a.latlng),this.options.snappable){var c=a;c.target=this._hintMarker,this._handleSnapping(c)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());var f=this._layer._defaultShape().slice();f.push(this._hintMarker.getLatLng()),this._change(f)},hasSelfIntersection:function(){return Yt(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection:function(a,c){var f=L.polyline(this._layer.getLatLngs());a&&(c||(c=this._hintMarker.getLatLng()),f.addLatLng(c));var _=Yt(f.toGeoJSON(15));this._doesSelfIntersect=_.features.length>0,this._doesSelfIntersect?this._hintline.setStyle({color:"#f00000ff"}):this._hintline.isEmpty()||this._hintline.setStyle(this.options.hintlineStyle)},_createVertex:function(a){if(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,a.latlng),!this._doesSelfIntersect)){this._hintMarker._snapped||this._hintMarker.setLatLng(a.latlng);var c=this._hintMarker.getLatLng(),f=this._layer.getLatLngs(),_=f[f.length-1];if(c.equals(f[0])||f.length>0&&c.equals(_))this._finishShape();else{this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:c,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(c);var b=this._createMarker(c);this._setTooltipText(),this._setHintLineAfterNewVertex(c),this._fireVertexAdded(b,void 0,c,"Draw"),this._change(this._layer.getLatLngs()),"snap"===this.options.finishOn&&this._hintMarker._snapped&&this._finishShape(a)}}},_setHintLineAfterNewVertex:function(a){this._hintline.setLatLngs([a,a])},_removeLastVertex:function(){var a=this._markers;if(a.length<=1)this.disable();else{var c=this._layer.getLatLngs(),f=a[a.length-1],_=L.PM.Utils.findDeepMarkerIndex(a,f).indexPath;a.pop(),this._layerGroup.removeLayer(f);var k=c.indexOf(a[a.length-1].getLatLng());c=c.slice(0,k+1),this._layer.setLatLngs(c),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(f,_,"Draw"),this._change(this._layer.getLatLngs())}},_finishShape:function(){if((this.options.allowSelfIntersection||(this._handleSelfIntersection(!1),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var a=this._layer.getLatLngs();if(!(a.length<=1)){var c=L.polyline(a,this.options.pathOptions);this._setPane(c,"layerPane"),this._finishLayer(c),c.addTo(this._map.pm._getContainingLayer()),this._fireCreate(c),this.options.snappable&&this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}}},_createMarker:function(a){var c=new L.Marker(a,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(c,"vertexPane"),c._pmTempLayer=!0,this._layerGroup.addLayer(c),this._markers.push(c),c.on("click",this._finishShape,this),c},_setTooltipText:function(){var a;a=je(this._layer.getLatLngs().flat().length<=1?"tooltips.continueLine":"tooltips.finishLine"),this._hintMarker.setTooltipContent(a)},_change:function(a){this._fireChange(a,"Draw")},setStyle:function(){var a,c;null===(a=this._layer)||void 0===a||a.setStyle(this.options.templineStyle),null===(c=this._hintline)||void 0===c||c.setStyle(this.options.hintlineStyle)}}),$.Polygon=$.Line.extend({initialize:function(a){this._map=a,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable:function(a){L.PM.Draw.Line.prototype.enable.call(this,a),this._layer.pm._shape="Polygon"},_createMarker:function(a){var c=new L.Marker(a,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(c,"vertexPane"),c._pmTempLayer=!0,this._layerGroup.addLayer(c),this._markers.push(c),1===this._layer.getLatLngs().flat().length?(c.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(c)-1,this.options.snappable&&this._cleanupSnapping()):c.on("click",function(){return 1}),c},_setTooltipText:function(){var a;a=je(this._layer.getLatLngs().flat().length<=2?"tooltips.continueLine":"tooltips.finishPoly"),this._hintMarker.setTooltipContent(a)},_finishShape:function(){if((this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var a=this._layer.getLatLngs();if(!(a.length<=2)){var c=L.polygon(a,this.options.pathOptions);this._setPane(c,"layerPane"),this._finishLayer(c),c.addTo(this._map.pm._getContainingLayer()),this._fireCreate(c),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this.disable(),this.options.continueDrawing&&this.enable()}}}}),$.Rectangle=$.extend({initialize:function(a){this._map=a,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable:function(a){if(L.Util.setOptions(this,a),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(je("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(var c=0;c<2;c+=1){var f=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(f,"vertexPane"),f._pmTempLayer=!0,this._layerGroup.addLayer(f),this._styleMarkers.push(f)}}this._map._container.style.cursor="crosshair",this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(a){this.enabled()?this.disable():this.enable(a)},_placeStartingMarkers:function(a){this._hintMarker._snapped||this._hintMarker.setLatLng(a.latlng);var c=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(c),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(function(f){L.DomUtil.addClass(f._icon,"visible"),f.setLatLng(c)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(je("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin:function(){var a=this._startMarker.getLatLng();a&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([a,a]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker:function(a){if(this._hintMarker.setLatLng(a.latlng),this.options.snappable){var c=a;c.target=this._hintMarker,this._handleSnapping(c)}var f=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(f,"Draw")},_syncRectangleSize:function(){var a=this,c=fi(this._startMarker.getLatLng(),this._map),f=fi(this._hintMarker.getLatLng(),this._map),_=L.PM.Utils._getRotatedRectangle(c,f,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(_),this.options.cursorMarker&&this._styleMarkers){var b=[];_.forEach(function(k){k.equals(c,1e-8)||k.equals(f,1e-8)||b.push(k)}),b.forEach(function(k,O){try{a._styleMarkers[O].setLatLng(k)}catch{}})}},_findCorners:function(){var a=this._layer.getBounds();return[a.getNorthWest(),a.getNorthEast(),a.getSouthEast(),a.getSouthWest()]},_finishShape:function(a){this._hintMarker._snapped||this._hintMarker.setLatLng(a.latlng);var c=this._hintMarker.getLatLng(),f=this._startMarker.getLatLng();if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){var _=L.rectangle([f,c],this.options.pathOptions);if(this.options.rectangleAngle){var b=L.PM.Utils._getRotatedRectangle(f,c,this.options.rectangleAngle||0,this._map);_.setLatLngs(b),_.pm&&_.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(_,"layerPane"),this._finishLayer(_),_.addTo(this._map.pm._getContainingLayer()),this._fireCreate(_),this.disable(),this.options.continueDrawing&&this.enable()}},setStyle:function(){var a;null===(a=this._layer)||void 0===a||a.setStyle(this.options.pathOptions)}}),$.Circle=$.extend({initialize:function(a){this._map=a,this._shape="Circle",this.toolbarButtonName="drawCircle"},enable:function(a){L.Util.setOptions(this,a),this.options.radius=0,this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.circle(this._map.getCenter(),sr(sr({},this.options.templineStyle),{},{radius:0})),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(je("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map._container.style.cursor="crosshair",this._map.on("click",this._placeCenterMarker,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(a){this.enabled()?this.disable():this.enable(a)},_syncHintLine:function(){var a=this._centerMarker.getLatLng(),c=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([a,c])},_syncCircleRadius:function(){var a,c=this._centerMarker.getLatLng(),f=this._hintMarker.getLatLng();a=this._map.options.crs===L.CRS.Simple?this._map.distance(c,f):c.distanceTo(f),this._layer.setRadius(this.options.minRadiusCircle&&a<this.options.minRadiusCircle?this.options.minRadiusCircle:this.options.maxRadiusCircle&&a>this.options.maxRadiusCircle?this.options.maxRadiusCircle:a)},_syncHintMarker:function(a){if(this._hintMarker.setLatLng(a.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){var c=a;c.target=this._hintMarker,this._handleSnapping(c)}this._handleHintMarkerSnapping();var f=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(f,"Draw")},_placeCenterMarker:function(a){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(a.latlng);var c=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(c),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var a=this._centerMarker.getLatLng();a&&(this._layer.setLatLng(a),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(je("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_finishShape:function(a){if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){this._hintMarker._snapped||this._hintMarker.setLatLng(a.latlng);var c,f=this._centerMarker.getLatLng(),_=this._hintMarker.getLatLng();c=this._map.options.crs===L.CRS.Simple?this._map.distance(f,_):f.distanceTo(_),this.options.minRadiusCircle&&c<this.options.minRadiusCircle?c=this.options.minRadiusCircle:this.options.maxRadiusCircle&&c>this.options.maxRadiusCircle&&(c=this.options.maxRadiusCircle);var b=sr(sr({},this.options.pathOptions),{},{radius:c}),k=L.circle(f,b);this._setPane(k,"layerPane"),this._finishLayer(k),k.addTo(this._map.pm._getContainingLayer()),k.pm&&k.pm._updateHiddenPolyCircle(),this._fireCreate(k),this.disable(),this.options.continueDrawing&&this.enable()}},_getNewDestinationOfHintMarker:function(){var a=this._hintMarker.getLatLng();if(!this._layerGroup.hasLayer(this._centerMarker))return a;var c=this._centerMarker.getLatLng(),f=c.distanceTo(a);return this.options.minRadiusCircle&&f<this.options.minRadiusCircle?a=bt(this._map,c,a,this.options.minRadiusCircle):this.options.maxRadiusCircle&&f>this.options.maxRadiusCircle&&(a=bt(this._map,c,a,this.options.maxRadiusCircle)),a},_handleHintMarkerSnapping:function(){if(this._hintMarker._snapped){var a=this._centerMarker.getLatLng(),c=this._hintMarker.getLatLng(),f=a.distanceTo(c);this._layerGroup.hasLayer(this._centerMarker)&&(this.options.minRadiusCircle&&f<this.options.minRadiusCircle||this.options.maxRadiusCircle&&f>this.options.maxRadiusCircle)&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng)}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())},setStyle:function(){var a,c;null===(a=this._layer)||void 0===a||a.setStyle(this.options.templineStyle),null===(c=this._hintline)||void 0===c||c.setStyle(this.options.hintlineStyle)}}),$.CircleMarker=$.Marker.extend({initialize:function(a){this._map=a,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1},enable:function(a){var c=this;if(L.Util.setOptions(this,a),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this.options.editable){var f={};L.extend(f,this.options.templineStyle),f.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.circleMarker(this._map.getCenter(),f),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(je("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this),this._map._container.style.cursor="crosshair"}else this._map.on("click",this._createMarker,this),this._hintMarker=L.circleMarker(this._map.getCenter(),this.options.templineStyle),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(je("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),!this.options.editable&&this.options.markerEditable&&this._map.eachLayer(function(_){c.isRelevantMarker(_)&&_.pm.enable()}),this._layer.bringToBack(),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){var a=this;this._enabled&&(this._enabled=!1,this.options.editable?(this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._map.eachLayer(function(c){a.isRelevantMarker(c)&&c.pm.disable()}),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_placeCenterMarker:function(a){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(a.latlng);var c=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(c),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var a=this._centerMarker.getLatLng();a&&(this._layer.setLatLng(a),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(je("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine:function(){var a=this._centerMarker.getLatLng(),c=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([a,c])},_syncCircleRadius:function(){var a=this._centerMarker.getLatLng(),c=this._hintMarker.getLatLng(),f=this._map.project(a).distanceTo(this._map.project(c));this._layer.setRadius(this.options.minRadiusCircleMarker&&f<this.options.minRadiusCircleMarker?this.options.minRadiusCircleMarker:this.options.maxRadiusCircleMarker&&f>this.options.maxRadiusCircleMarker?this.options.maxRadiusCircleMarker:f)},_syncHintMarker:function(a){if(this._hintMarker.setLatLng(a.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){var c=a;c.target=this._hintMarker,this._handleSnapping(c)}this._handleHintMarkerSnapping();var f=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(f,"Draw")},isRelevantMarker:function(a){return a instanceof L.CircleMarker&&!(a instanceof L.Circle)&&a.pm&&!a._pmTempLayer},_createMarker:function(a){if((!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())&&a.latlng&&!this._layerIsDragging){this._hintMarker._snapped||this._hintMarker.setLatLng(a.latlng);var c=this._hintMarker.getLatLng(),f=L.circleMarker(c,this.options.pathOptions);this._setPane(f,"layerPane"),this._finishLayer(f),f.addTo(this._map.pm._getContainingLayer()),f.pm&&this.options.markerEditable&&f.pm.enable(),this._fireCreate(f),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},_finishShape:function(a){if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){this._hintMarker._snapped||this._hintMarker.setLatLng(a.latlng);var c=this._centerMarker.getLatLng(),f=this._hintMarker.getLatLng(),_=this._map.project(c).distanceTo(this._map.project(f));this.options.editable&&(this.options.minRadiusCircleMarker&&_<this.options.minRadiusCircleMarker?_=this.options.minRadiusCircleMarker:this.options.maxRadiusCircleMarker&&_>this.options.maxRadiusCircleMarker&&(_=this.options.maxRadiusCircleMarker));var b=ar(ar({},this.options.pathOptions),{},{radius:_}),k=L.circleMarker(c,b);this._setPane(k,"layerPane"),this._finishLayer(k),k.addTo(this._map.pm._getContainingLayer()),k.pm&&k.pm._updateHiddenPolyCircle(),this._fireCreate(k),this.disable(),this.options.continueDrawing&&this.enable()}},_getNewDestinationOfHintMarker:function(){var a=this._hintMarker.getLatLng();if(this.options.editable){if(!this._layerGroup.hasLayer(this._centerMarker))return a;var c=this._centerMarker.getLatLng(),f=this._map.project(c).distanceTo(this._map.project(a));this.options.minRadiusCircleMarker&&f<this.options.minRadiusCircleMarker?a=bt(this._map,c,a,this._pxRadiusToMeter(this.options.minRadiusCircleMarker)):this.options.maxRadiusCircleMarker&&f>this.options.maxRadiusCircleMarker&&(a=bt(this._map,c,a,this._pxRadiusToMeter(this.options.maxRadiusCircleMarker)))}return a},_handleHintMarkerSnapping:function(){if(this.options.editable){if(this._hintMarker._snapped){var a=this._centerMarker.getLatLng(),c=this._hintMarker.getLatLng(),f=this._map.project(a).distanceTo(this._map.project(c));this._layerGroup.hasLayer(this._centerMarker)&&(this.options.minRadiusCircleMarker&&f<this.options.minRadiusCircleMarker||this.options.maxRadiusCircleMarker&&f>this.options.maxRadiusCircleMarker)&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng)}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},_pxRadiusToMeter:function(a){var c=this._centerMarker.getLatLng(),f=this._map.project(c),_=L.point(f.x+a,f.y);return this._map.unproject(_).distanceTo(c)},setStyle:function(){var a,c,f={};L.extend(f,this.options.templineStyle),this.options.editable&&(f.radius=0),null===(a=this._layer)||void 0===a||a.setStyle(f),null===(c=this._hintline)||void 0===c||c.setStyle(this.options.hintlineStyle)}});const Fn=function(a){if(!a)throw new Error("geojson is required");var c=[];return Fo(a,function(f){!function(_,b){var k=[],O=_.geometry;if(null!==O){switch(O.type){case"Polygon":k=an(O);break;case"LineString":k=[an(O)]}k.forEach(function(A){var te,Q;(te=_.properties,Q=[],A.reduce(function(le,_e){var Ee,Ke,ut,Nt,He,It,Rt=qe([le,_e],te);return Rt.bbox=[(ut=(Ee=le)[0])<(He=(Ke=_e)[0])?ut:He,(Nt=Ee[1])<(It=Ke[1])?Nt:It,ut>He?ut:He,Nt>It?Nt:It],Q.push(Rt),_e}),Q).forEach(function(U){U.id=b.length,b.push(U)})})}}(f,c)}),ht(c)};var Ue=C(1787);function Bo(a,c){var f=an(a),_=an(c);if(2!==f.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==_.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var b=f[0][0],k=f[0][1],O=f[1][0],A=f[1][1],F=_[0][0],U=_[0][1],te=_[1][0],Q=_[1][1],le=(Q-U)*(O-b)-(te-F)*(A-k);if(0===le)return null;var Ke=((te-F)*(k-U)-(Q-U)*(b-F))/le,ut=((O-b)*(k-U)-(A-k)*(b-F))/le;return Ke>=0&&Ke<=1&&ut>=0&&ut<=1?Ce([b+Ke*(O-b),k+Ke*(A-k)]):null}const br=function(a,c){var f={},_=[];if("LineString"===a.type&&(a=ce(a)),"LineString"===c.type&&(c=ce(c)),"Feature"===a.type&&"Feature"===c.type&&null!==a.geometry&&null!==c.geometry&&"LineString"===a.geometry.type&&"LineString"===c.geometry.type&&2===a.geometry.coordinates.length&&2===c.geometry.coordinates.length){var b=Bo(a,c);return b&&_.push(b),ht(_)}var k=Ue();return k.load(Fn(c)),gi(Fn(a),function(O){gi(k.search(O),function(A){var F=Bo(O,A);if(F){var U=an(F).join(",");f[U]||(f[U]=!0,_.push(F))}})}),ht(_)},Pr=function(a,c,f){void 0===f&&(f={});var _=pn(a),b=pn(c),k=mt(b[1]-_[1]),O=mt(b[0]-_[0]),A=mt(_[1]),F=mt(b[1]),U=Math.pow(Math.sin(k/2),2)+Math.pow(Math.sin(O/2),2)*Math.cos(A)*Math.cos(F);return function Ct(a,c){void 0===c&&(c="kilometers");var f=he[c];if(!f)throw new Error(c+" units is invalid");return a*f}(2*Math.atan2(Math.sqrt(U),Math.sqrt(1-U)),f.units)},gs=function(a){var c=a[0],f=a[1],_=a[2],b=a[3];if(Pr(a.slice(0,2),[_,f])>=Pr(a.slice(0,2),[c,b])){var k=(f+b)/2;return[c,k-(_-c)/2,_,k+(_-c)/2]}var O=(c+_)/2;return[O-(b-f)/2,f,O+(b-f)/2,b]};function Pn(a){var c=[1/0,1/0,-1/0,-1/0];return uo(a,function(f){c[0]>f[0]&&(c[0]=f[0]),c[1]>f[1]&&(c[1]=f[1]),c[2]<f[0]&&(c[2]=f[0]),c[3]<f[1]&&(c[3]=f[1])}),c}Pn.default=Pn;const mi=Pn;function Tr(a,c,f){if(void 0===f&&(f={}),!0===f.final)return(Tr(c,a)+180)%360;var _=pn(a),b=pn(c),k=mt(_[0]),O=mt(b[0]),A=mt(_[1]),F=mt(b[1]),U=Math.sin(O-k)*Math.cos(F),te=Math.cos(A)*Math.sin(F)-Math.sin(A)*Math.cos(F)*Math.cos(O-k);return zt(Math.atan2(U,te))}function Gn(a,c,f,_){void 0===_&&(_={});var b=pn(a),k=mt(b[0]),O=mt(b[1]),A=mt(f),F=function ot(a,c){void 0===c&&(c="kilometers");var f=he[c];if(!f)throw new Error(c+" units is invalid");return a/f}(c,_.units),U=Math.asin(Math.sin(O)*Math.cos(F)+Math.cos(O)*Math.sin(F)*Math.cos(A));return Ce([zt(k+Math.atan2(Math.sin(A)*Math.sin(F)*Math.cos(O),Math.cos(F)-Math.sin(O)*Math.sin(U))),zt(U)],_.properties)}const Ol=function(a,c,f){void 0===f&&(f={});var _=Ce([1/0,1/0],{dist:1/0}),b=0;return Fo(a,function(k){for(var O=an(k),A=0;A<O.length-1;A++){var F=Ce(O[A]);F.properties.dist=Pr(c,F,f);var U=Ce(O[A+1]);U.properties.dist=Pr(c,U,f);var te=Pr(F,U,f),Q=Math.max(F.properties.dist,U.properties.dist),le=Tr(F,U),_e=Gn(c,Q,le+90,f),Ee=Gn(c,Q,le-90,f),Ke=br(qe([_e.geometry.coordinates,Ee.geometry.coordinates]),qe([F.geometry.coordinates,U.geometry.coordinates])),ut=null;Ke.features.length>0&&((ut=Ke.features[0]).properties.dist=Pr(c,ut,f),ut.properties.location=b+Pr(F,ut,f)),F.properties.dist<_.properties.dist&&((_=F).properties.index=A,_.properties.location=b),U.properties.dist<_.properties.dist&&((_=U).properties.index=A+1,_.properties.location=b+te),ut&&ut.properties.dist<_.properties.dist&&((_=ut).properties.index=A),b+=te}}),_};function ms(a,c){var f=[],_=Ue();return Fo(c,function(b){if(f.forEach(function(A,F){A.id=F}),f.length){var k=_.search(b);if(k.features.length){var O=Fi(b,k);f=f.filter(function(A){return A.id!==O.id}),_.remove(O),gi(jo(O,b),function(A){f.push(A),_.insert(A)})}}else(f=jo(a,b).features).forEach(function(A){A.bbox||(A.bbox=gs(mi(A)))}),_.load(ht(f))}),ht(f)}function jo(a,c){var f=[],_=an(a)[0],b=an(a)[a.geometry.coordinates.length-1];if(zo(_,pn(c))||zo(b,pn(c)))return ht([a]);var k=Ue(),O=Fn(a);k.load(O);var A=k.search(c);if(!A.features.length)return ht([a]);var le,_e,F=Fi(c,A),U=(_e=le=[_],gi(O,function(Ee,Ke){_e=0===Ke&&void 0===le?Ee:function(te,Q,le){var _e=an(Q)[1],Ee=pn(c);return le===F.id?(te.push(Ee),f.push(qe(te)),zo(Ee,_e)?[Ee]:[Ee,_e]):(te.push(_e),te)}(_e,Ee,Ke)}),_e);return U.length>1&&f.push(qe(U)),ht(f)}function Fi(a,c){if(!c.features.length)throw new Error("lines must contain features");if(1===c.features.length)return c.features[0];var f,_=1/0;return gi(c,function(b){var k=Ol(b,a).properties.dist;k<_&&(f=b,_=k)}),f}function zo(a,c){return a[0]===c[0]&&a[1]===c[1]}function co(a,c,f){if(void 0===f&&(f={}),!a)throw new Error("point is required");if(!c)throw new Error("polygon is required");var le,_e,_=pn(a),b=vr(c),O=c.bbox,A=b.coordinates;if(O&&0==((_e=O)[0]<=(le=_)[0]&&_e[1]<=le[1]&&_e[2]>=le[0]&&_e[3]>=le[1]))return!1;"Polygon"===b.type&&(A=[A]);for(var F=!1,U=0;U<A.length&&!F;U++)if(Uo(_,A[U][0],f.ignoreBoundary)){for(var te=!1,Q=1;Q<A[U].length&&!te;)Uo(_,A[U][Q],!f.ignoreBoundary)&&(te=!0),Q++;te||(F=!0)}return F}function Uo(a,c,f){var _=!1;c[0][0]===c[c.length-1][0]&&c[0][1]===c[c.length-1][1]&&(c=c.slice(0,c.length-1));for(var b=0,k=c.length-1;b<c.length;k=b++){var O=c[b][0],A=c[b][1],F=c[k][0],U=c[k][1];if(a[1]*(O-F)+A*(F-a[0])+U*(a[0]-O)==0&&(O-a[0])*(F-a[0])<=0&&(A-a[1])*(U-a[1])<=0)return!f;A>a[1]!=U>a[1]&&a[0]<(F-O)*(a[1]-A)/(U-A)+O&&(_=!_)}return _}function _s(a,c,f,_,b){var k=f[0],O=f[1],A=a[0],F=a[1],U=c[0],te=c[1],Q=U-A,le=te-F,_e=(f[0]-A)*le-(f[1]-F)*Q;if(null!==b){if(Math.abs(_e)>b)return!1}else if(0!==_e)return!1;return _?"start"===_?Math.abs(Q)>=Math.abs(le)?Q>0?A<k&&k<=U:U<=k&&k<A:le>0?F<O&&O<=te:te<=O&&O<F:"end"===_?Math.abs(Q)>=Math.abs(le)?Q>0?A<=k&&k<U:U<k&&k<=A:le>0?F<=O&&O<te:te<O&&O<=F:"both"===_&&(Math.abs(Q)>=Math.abs(le)?Q>0?A<k&&k<U:U<k&&k<A:le>0?F<O&&O<te:te<O&&O<F):Math.abs(Q)>=Math.abs(le)?Q>0?A<=k&&k<=U:U<=k&&k<=A:le>0?F<=O&&O<=te:te<=O&&O<=F}const Bi=function(a,c,f){void 0===f&&(f={});for(var _=pn(a),b=an(c),k=0;k<b.length-1;k++){var O=!1;if(f.ignoreEndVertices&&(0===k&&(O="start"),k===b.length-2&&(O="end"),0===k&&k+1===b.length-1&&(O="both")),_s(b[k],b[k+1],_,O,typeof f.epsilon>"u"?null:f.epsilon))return!0}return!1};function ho(a,c){return!(a[0]>c[0]||a[2]<c[2]||a[1]>c[1]||a[3]<c[3])}function Wr(a,c){return a[0]===c[0]&&a[1]===c[1]}function Ho(a,c){return[(a[0]+c[0])/2,(a[1]+c[1])/2]}var ys=C(2676),_i=C.n(ys);function Ge(a){var c={type:"Feature"};return c.geometry=a,c}function Bt(a){return"Feature"===a.type?a.geometry:a}function ji(a){return a&&a.geometry&&a.geometry.coordinates?a.geometry.coordinates:a}function wr(a){return Ge({type:"Polygon",coordinates:a})}function Et(a){return Ge({type:"MultiPolygon",coordinates:a})}function yi(a){return Array.isArray(a)?1+yi(a[0]):-1}function Oe(a){a instanceof L.Polyline&&(a=a.toGeoJSON(15));var c=ji(a),f=yi(c),_=[];return f>1?c.forEach(function(b){_.push(Ge({type:"LineString",coordinates:b}))}):_.push(a),_}function Kr(a,c){(null==c||c>a.length)&&(c=a.length);for(var f=0,_=new Array(c);f<c;f++)_[f]=a[f];return _}function zi(a,c){(null==c||c>a.length)&&(c=a.length);for(var f=0,_=new Array(c);f<c;f++)_[f]=a[f];return _}$.Cut=$.Polygon.extend({initialize:function(a){this._map=a,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape:function(){var a=this;if(this._editedLayers=[],(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var c=this._layer.getLatLngs();if(!(c.length<=2)){var f=L.polygon(c,this.options.pathOptions);f._latlngInfos=this._layer._latlngInfo,this.cut(f),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(function(_){var b=_.layer,k=_.originalLayer;a._fireCut(k,b,k),a._fireCut(a._map,b,k),k.pm._fireEdit()}),this._editedLayers=[],this.disable(),this.options.continueDrawing&&this.enable()}}},cut:function(a){var c=this,f=this._map._layers,_=a._latlngInfos||[];Object.keys(f).map(function(b){return f[b]}).filter(function(b){return b.pm}).filter(function(b){return!b._pmTempLayer}).filter(function(b){return!L.PM.optIn&&!b.options.pmIgnore||L.PM.optIn&&!1===b.options.pmIgnore}).filter(function(b){return b instanceof L.Polyline}).filter(function(b){return b!==a}).filter(function(b){return b.pm.options.allowCutting}).filter(function(b){return!(c.options.layersToCut&&L.Util.isArray(c.options.layersToCut)&&c.options.layersToCut.length>0)||c.options.layersToCut.indexOf(b)>-1}).filter(function(b){return!c._layerGroup.hasLayer(b)}).filter(function(b){try{var k=!!br(a.toGeoJSON(15),b.toGeoJSON(15)).features.length>0;return k||b instanceof L.Polyline&&!(b instanceof L.Polygon)?k:(O=a.toGeoJSON(15),A=b.toGeoJSON(15),F=Bt(O),U=Bt(A),!(0===(te=_i().intersection(F.coordinates,U.coordinates)).length||!(1===te.length?wr(te[0]):Et(te))))}catch{return b instanceof L.Polygon&&console.error("You can't cut polygons with self-intersections"),!1}var O,A,F,U,te}).forEach(function(b){var k;if(b instanceof L.Polygon){var O=(k=L.polygon(b.getLatLngs())).getLatLngs();_.forEach(function(le){if(le&&le.snapInfo){var _e=le.latlng,Ee=c._calcClosestLayer(_e,[k]);if(Ee&&Ee.segment&&Ee.distance<c.options.snapDistance){var Ke=Ee.segment;if(Ke&&2===Ke.length){var ut=L.PM.Utils._getIndexFromSegment(O,Ke),He=ut.parentPath,It=ut.newIndex;(ut.indexPath.length>1?Se()(O,He):O).splice(It,0,_e)}}}})}else k=b;var A=c._cutLayer(a,k),F=L.geoJSON(A,b.options);if(1===F.getLayers().length){var U=F.getLayers();F=function Vo(a,c){return function(f){if(Array.isArray(f))return f}(a)||function(f,_){var b=null==f?null:typeof Symbol<"u"&&f[Symbol.iterator]||f["@@iterator"];if(null!=b){var k,O,A=[],F=!0,U=!1;try{for(b=b.call(f);!(F=(k=b.next()).done)&&(A.push(k.value),!_||A.length!==_);F=!0);}catch(te){U=!0,O=te}finally{try{F||null==b.return||b.return()}finally{if(U)throw O}}return A}}(a,c)||function(f,_){if(f){if("string"==typeof f)return Kr(f,_);var b=Object.prototype.toString.call(f).slice(8,-1);if("Object"===b&&f.constructor&&(b=f.constructor.name),"Map"===b||"Set"===b)return Array.from(f);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return Kr(f,_)}}(a,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(U,1)[0]}c._setPane(F,"layerPane");var te=F.addTo(c._map.pm._getContainingLayer());if(te.pm.enable(b.pm.options),te.pm.disable(),b._pmTempLayer=!0,a._pmTempLayer=!0,b.remove(),b.removeFrom(c._map.pm._getContainingLayer()),a.remove(),a.removeFrom(c._map.pm._getContainingLayer()),te.getLayers&&0===te.getLayers().length&&c._map.pm.removeLayer({target:te}),te instanceof L.LayerGroup&&te.eachLayer(function(le){c._addDrawnLayerProp(le)}),c._addDrawnLayerProp(te),c.options.layersToCut&&L.Util.isArray(c.options.layersToCut)&&c.options.layersToCut.length>0){var Q=c.options.layersToCut.indexOf(b);Q>-1&&c.options.layersToCut.splice(Q,1)}c._editedLayers.push({layer:te,originalLayer:b})})},_cutLayer:function(a,c){var f,_,b,k,O,A,F=L.geoJSON();if(c instanceof L.Polygon)_=c.toGeoJSON(15),b=a.toGeoJSON(15),k=Bt(_),O=Bt(b),f=0===(A=_i().difference(k.coordinates,O.coordinates)).length?null:1===A.length?wr(A[0]):Et(A);else{var U=Oe(c);U.forEach(function(te){var Q=function(a,c){if(!a)throw new Error("line is required");if(!c)throw new Error("splitter is required");var f=Ni(a),_=Ni(c);if("LineString"!==f)throw new Error("line must be LineString");if("FeatureCollection"===_)throw new Error("splitter cannot be a FeatureCollection");if("GeometryCollection"===_)throw new Error("splitter cannot be a GeometryCollection");var b=function(a,c){void 0===c&&(c={});var f=c.precision,_=c.coordinates,b=c.mutate;if(f=null==f||isNaN(f)?6:f,_=null==_||isNaN(_)?3:_,!a)throw new Error("<geojson> is required");if("number"!=typeof f)throw new Error("<precision> must be a number");if("number"!=typeof _)throw new Error("<coordinates> must be a number");!1!==b&&void 0!==b||(a=JSON.parse(JSON.stringify(a)));var k=Math.pow(10,f);return uo(a,function(O){!function(A,F,U){A.length>U&&A.splice(U,A.length);for(var te=0;te<A.length;te++)A[te]=Math.round(A[te]*F)/F}(O,k,_)}),a}(c,{precision:7});switch(_){case"Point":return jo(a,b);case"MultiPoint":return ms(a,b);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return ms(a,br(a,b))}}(te,a.toGeoJSON(15));(Q&&Q.features.length>0?L.geoJSON(Q):L.geoJSON(te)).getLayers().forEach(function(le){(function Ma(a,c){var f=vr(a),_=vr(c),b=f.type,k=_.type,O=f.coordinates,A=_.coordinates;switch(b){case"Point":if("Point"===k)return Wr(O,A);throw new Error("feature2 "+k+" geometry not supported");case"MultiPoint":switch(k){case"Point":return function(F,U){var te,Q=!1;for(te=0;te<F.coordinates.length;te++)if(Wr(F.coordinates[te],U.coordinates)){Q=!0;break}return Q}(f,_);case"MultiPoint":return function(F,U){for(var te=0,Q=U.coordinates;te<Q.length;te++){for(var le=Q[te],_e=!1,Ee=0,Ke=F.coordinates;Ee<Ke.length;Ee++)if(Wr(le,Ke[Ee])){_e=!0;break}if(!_e)return!1}return!0}(f,_);default:throw new Error("feature2 "+k+" geometry not supported")}case"LineString":switch(k){case"Point":return Bi(_,f,{ignoreEndVertices:!0});case"LineString":return function(F,U){for(var te=!1,Q=0,le=U.coordinates;Q<le.length;Q++){var _e=le[Q];if(Bi({type:"Point",coordinates:_e},F,{ignoreEndVertices:!0})&&(te=!0),!Bi({type:"Point",coordinates:_e},F,{ignoreEndVertices:!1}))return!1}return te}(f,_);case"MultiPoint":return function(F,U){for(var te=!1,Q=0,le=U.coordinates;Q<le.length;Q++){var _e=le[Q];if(Bi(_e,F,{ignoreEndVertices:!0})&&(te=!0),!Bi(_e,F))return!1}return!!te}(f,_);default:throw new Error("feature2 "+k+" geometry not supported")}case"Polygon":switch(k){case"Point":return co(_,f,{ignoreBoundary:!0});case"LineString":return function(F,U){var te=!1,Q=0;if(!ho(mi(F),mi(U)))return!1;for(;Q<U.coordinates.length-1;Q++)if(co({type:"Point",coordinates:Ho(U.coordinates[Q],U.coordinates[Q+1])},F,{ignoreBoundary:!0})){te=!0;break}return te}(f,_);case"Polygon":return function(F,U){if("Feature"===F.type&&null===F.geometry||"Feature"===U.type&&null===U.geometry)return!1;if(!ho(mi(F),mi(U)))return!1;for(var _e=0,Ee=vr(U).coordinates;_e<Ee.length;_e++)for(var Ke=0,ut=Ee[_e];Ke<ut.length;Ke++)if(!co(ut[Ke],F))return!1;return!0}(f,_);case"MultiPoint":return function(F,U){for(var te=0,Q=U.coordinates;te<Q.length;te++)if(!co(Q[te],F,{ignoreBoundary:!0}))return!1;return!0}(f,_);default:throw new Error("feature2 "+k+" geometry not supported")}default:throw new Error("feature1 "+b+" geometry not supported")}})(a.toGeoJSON(15),le.toGeoJSON(15))||le.addTo(F)})}),f=U.length>1?function Ht(a){var c=[];return a.eachLayer(function(f){c.push(ji(f.toGeoJSON(15)))}),Ge({type:"MultiLineString",coordinates:c})}(F):F.toGeoJSON(15)}return f},_change:L.Util.falseFn}),$.Text=$.extend({initialize:function(a){this._map=a,this._shape="Text",this.toolbarButtonName="drawText"},enable:function(a){L.Util.setOptions(this,a),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(je("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(a){this.enabled()?this.disable():this.enable(a)},_syncHintMarker:function(a){if(this._hintMarker.setLatLng(a.latlng),this.options.snappable){var c=a;c.target=this._hintMarker,this._handleSnapping(c)}},_createMarker:function(a){var c;if(a.latlng&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){this._hintMarker._snapped||this._hintMarker.setLatLng(a.latlng);var f=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),null!==(c=this.options.textOptions)&&void 0!==c&&c.className){var _,b=this.options.textOptions.className.split(" ");(_=this.textArea.classList).add.apply(_,function Fe(a){return function(c){if(Array.isArray(c))return zi(c)}(a)||function(c){if(typeof Symbol<"u"&&null!=c[Symbol.iterator]||null!=c["@@iterator"])return Array.from(c)}(a)||function(c,f){if(c){if("string"==typeof c)return zi(c,f);var _=Object.prototype.toString.call(c).slice(8,-1);if("Object"===_&&c.constructor&&(_=c.constructor.name),"Map"===_||"Set"===_)return Array.from(c);if("Arguments"===_||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return zi(c,f)}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(b))}var k=this._createTextIcon(this.textArea),O=new L.Marker(f,{textMarker:!0,_textMarkerOverPM:!0,icon:k});if(this._setPane(O,"markerPane"),this._finishLayer(O),O.pm||(O.options.draggable=!1),O.addTo(this._map.pm._getContainingLayer()),O.pm){var A,F,U,te,Q;O.pm.textArea=this.textArea,L.setOptions(O.pm,{removeIfEmpty:null===(A=null===(F=this.options.textOptions)||void 0===F?void 0:F.removeIfEmpty)||void 0===A||A});var le=null===(U=null===(te=this.options.textOptions)||void 0===te?void 0:te.focusAfterDraw)||void 0===U||U;O.pm._createTextMarker(le),null!==(Q=this.options.textOptions)&&void 0!==Q&&Q.text&&O.pm.setText(this.options.textOptions.text)}this._fireCreate(O),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}},_createTextArea:function(){var a=document.createElement("textarea");return a.autofocus=!0,a.readOnly=!0,a.classList.add("pm-textarea","pm-disabled"),a},_createTextIcon:function(a){return L.divIcon({className:"pm-text-marker",html:a})}});const vi={enableLayerDrag:function(){if(this.options.draggable&&this._layer._map){this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,Ye(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;var a=this._getDOMElem();a&&(Ye(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(a)):L.DomEvent.on(a,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()}},disableLayerDrag:function(){this._layerDragEnabled=!1,Ye(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();var a=this._getDOMElem();a&&(Ye(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(a)):L.DomEvent.off(a,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging:function(){return this._dragging},layerDragEnabled:function(){return!!this._layerDragEnabled},_simulateMouseDownEvent:function(a){var c=a.touches?a.touches[0]:a,f={originalEvent:c,target:this._layer};return f.containerPoint=this._map.mouseEventToContainerPoint(c),f.latlng=this._map.containerPointToLatLng(f.containerPoint),this._dragMixinOnMouseDown(f),!1},_simulateMouseMoveEvent:function(a){var c=a.touches?a.touches[0]:a,f={originalEvent:c,target:this._layer};return f.containerPoint=this._map.mouseEventToContainerPoint(c),f.latlng=this._map.containerPointToLatLng(f.containerPoint),this._dragMixinOnMouseMove(f),!1},_simulateMouseUpEvent:function(a){var c={originalEvent:a.touches?a.touches[0]:a,target:this._layer};return-1===a.type.indexOf("touch")&&(c.containerPoint=this._map.mouseEventToContainerPoint(a),c.latlng=this._map.containerPointToLatLng(c.containerPoint)),this._dragMixinOnMouseUp(c),!1},_dragMixinOnMouseDown:function(a){if(!(a.originalEvent.button>0)){this._overwriteEventIfItComesFromMarker(a);var c=a._fromLayerSync,f=this._syncLayers("_dragMixinOnMouseDown",a);this._layer instanceof L.Marker&&(!this.options.snappable||c||f?this._disableSnapping():this._initSnappableMarkers()),this._layer instanceof L.CircleMarker&&!(this._layer instanceof L.Circle)&&(!this.options.snappable||c||f?this._layer.pm.options.editable?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag():this._layer.pm.options.editable||this._initSnappableMarkersDrag()),this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=a.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)}},_dragMixinOnMouseMove:function(a){this._overwriteEventIfItComesFromMarker(a);var c=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",a),this._dragging||(this._dragging=!0,L.DomUtil.addClass(c,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=a.latlng),this._onLayerDrag(a),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp:function(a){var c=this,f=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",a),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),!!this._dragging&&(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout(function(){c._dragging=!1,f&&L.DomUtil.removeClass(f,"leaflet-pm-dragging"),c._fireDragEnd(),c._fireEdit(),c._layerEdited=!0},10),!0)},_onLayerDrag:function(a){var c=a.latlng,f=c.lat-this._tempDragCoord.lat,_=c.lng-this._tempDragCoord.lng,b=function te(Q){return Q.map(function(le){if(Array.isArray(le))return te(le);var _e={lat:le.lat+f,lng:le.lng+_};return(le.alt||0===le.alt)&&(_e.alt=le.alt),_e})};if(this._layer instanceof L.Circle||this._layer instanceof L.CircleMarker&&this._layer.options.editable){var k=b([this._layer.getLatLng()]);this._layer.setLatLng(k[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){var O=this._layer.getLatLng();this._layer._snapped&&(O=this._layer._orgLatLng);var A=b([O]);this._layer.setLatLng(A[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){var F=b([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(F),this._fireChange(this._layer.getBounds(),"Edit")}else{var U=b(this._layer.getLatLngs());this._layer.setLatLngs(U),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=c,a.layer=this._layer,this._fireDrag(a)},addDraggingClass:function(){var a=this._getDOMElem();a&&L.DomUtil.addClass(a,"leaflet-pm-draggable")},removeDraggingClass:function(){var a=this._getDOMElem();a&&L.DomUtil.removeClass(a,"leaflet-pm-draggable")},_getDOMElem:function(){var a=null;return this._layer._path?a=this._layer._path:this._layer._renderer&&this._layer._renderer._container?a=this._layer._renderer._container:this._layer._image?a=this._layer._image:this._layer._icon&&(a=this._layer._icon),a},_overwriteEventIfItComesFromMarker:function(a){a.target.getLatLng&&(!a.target._radius||a.target._radius<=10)&&(a.containerPoint=this._map.mouseEventToContainerPoint(a.originalEvent),a.latlng=this._map.containerPointToLatLng(a.containerPoint))},_syncLayers:function(a,c){var f=this;if(this.enabled())return!1;if(!c._fromLayerSync&&this._layer===c.target&&this.options.syncLayersOnDrag){c._fromLayerSync=!0;var _=[];if(L.Util.isArray(this.options.syncLayersOnDrag))_=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach(function(O){O instanceof L.LayerGroup&&(_=_.concat(O.pm.getLayers(!0)))});else if(!0===this.options.syncLayersOnDrag&&this._parentLayerGroup)for(var b in this._parentLayerGroup){var k=this._parentLayerGroup[b];k.pm&&(_=k.pm.getLayers(!0))}return L.Util.isArray(_)&&_.length>0&&(_=_.filter(function(O){return!!O.pm}).filter(function(O){return!!O.pm.options.draggable})).forEach(function(O){O!==f._layer&&O.pm[a]&&(O._snapped=!1,O.pm[a](c))}),_.length>0}return!1},_stopDOMImageDrag:function(a){return a.preventDefault(),!1}};function Yr(a,c,f){var A,F,_=f.getMaxZoom();if(_===1/0&&(_=f.getZoom()),L.Util.isArray(a)){var b=[];return a.forEach(function(k){b.push(Yr(k,c,f))}),b}return a instanceof L.LatLng?(A=f).unproject(c.transform(A.project(a,F=_)),F):null}function jt(a,c){c instanceof L.Layer&&(c=c.getLatLng());var f=a.getMaxZoom();return f===1/0&&(f=a.getZoom()),a.project(c,f)}function we(a,c){var f=a.getMaxZoom();return f===1/0&&(f=a.getZoom()),a.unproject(c,f)}var Rr={_onRotateStart:function(a){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=jt(this._map,this._rotationOriginLatLng),this._rotationStartPoint=jt(this._map,a.target.getLatLng()),this._initialRotateLatLng=wt(this._layer),this._startAngle=this.getAngle();var c=wt(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,c),this._fireRotationStart(this._map,c)},_onRotate:function(a){var c=jt(this._map,a.target.getLatLng()),f=this._rotationStartPoint,_=this._rotationOriginPoint,b=Math.atan2(c.y-_.y,c.x-_.x)-Math.atan2(f.y-_.y,f.x-_.x);this._layer.setLatLngs(this._rotateLayer(b,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));var k=this;!function U(te){var Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],le=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(le>-1&&Q.push(le),L.Util.isArray(te[0]))te.forEach(function(Ee,Ke){return U(Ee,Q.slice(),Ke)});else{var _e=Se()(k._markers,Q);te.forEach(function(Ee,Ke){_e[Ke].setLatLng(Ee)})}}(this._layer.getLatLngs());var O=wt(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer(b,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));var A=180*b/Math.PI,F=(A=A<0?A+360:A)+this._startAngle;this._setAngle(F),this._rotationLayer.pm._setAngle(F),this._fireRotation(this._rotationLayer,A,O),this._fireRotation(this._map,A,O),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd:function(){var a=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;var c=wt(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=wt(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,a,c),this._fireRotationEnd(this._map,a,c),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer:function(a,c,f,_,b){var k=jt(b,f);return this._matrix=_.clone().rotate(a,k).flip(),Yr(c,this._matrix,b)},_setAngle:function(a){this._angle=(a=a<0?a+360:a)%360},_getRotationCenter:function(){var a=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),c=a.getCenter();return a.removeFrom(this._layer._map),c},enableRotate:function(){this.options.allowRotation?(this.rotateEnabled()&&this.disableRotate(),this._rotatePoly=L.polygon(this._layer.getLatLngs(),{fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0}),this._rotatePoly._pmTempLayer=!0,this._rotatePoly.addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=wt(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)):this.disableRotate()},disableRotate:function(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled:function(){return this._rotateEnabled},rotateLayer:function(a){var c=this.getAngle(),f=this._layer.getLatLngs(),_=a*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(_,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+a),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(_,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());var b=this.getAngle()-c;b=b<0?b+360:b,this._startAngle=c,this._fireRotation(this._layer,b,f,this._layer),this._fireRotation(this._map||this._layer._map,b,f,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle:function(a){var c=a-this.getAngle();this.rotateLayer(c)},getAngle:function(){return this._angle||0},setInitAngle:function(a){this._setAngle(a)}};const We=L.Class.extend({includes:[vi,R,Rr,Be],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0},setOptions:function(a){L.Util.setOptions(this,a)},getOptions:function(){return this.options},applyOptions:function(){},isPolygon:function(){return this._layer instanceof L.Polygon},getShape:function(){return this._shape},_setPane:function(a,c){"layerPane"===c?a.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":"vertexPane"===c?a.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":"markerPane"===c&&(a.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove:function(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation:function(a,c){var f=c.target,b="";return"move"===a?b="moveVertexValidation":"add"===a?b="addVertexValidation":"remove"===a&&(b="removeVertexValidation"),this.options[b]&&"function"==typeof this.options[b]&&!this.options[b]({layer:this._layer,marker:f,event:c})?("move"===a&&(f._cancelDragEventChain=f.getLatLng()),!1):(f._cancelDragEventChain=null,!0)},_vertexValidationDrag:function(a){return!a._cancelDragEventChain||(a._latlng=a._cancelDragEventChain,a.update(),!1)},_vertexValidationDragEnd:function(a){return!a._cancelDragEventChain||(a._cancelDragEventChain=null,!1)}});function Or(a){return function(c){if(Array.isArray(c))return fo(c)}(a)||function(c){if(typeof Symbol<"u"&&null!=c[Symbol.iterator]||null!=c["@@iterator"])return Array.from(c)}(a)||function(c,f){if(c){if("string"==typeof c)return fo(c,f);var _=Object.prototype.toString.call(c).slice(8,-1);if("Object"===_&&c.constructor&&(_=c.constructor.name),"Map"===_||"Set"===_)return Array.from(c);if("Arguments"===_||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return fo(c,f)}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fo(a,c){(null==c||c>a.length)&&(c=a.length);for(var f=0,_=new Array(c);f<c;f++)_[f]=a[f];return _}function gn(a,c){(null==c||c>a.length)&&(c=a.length);for(var f=0,_=new Array(c);f<c;f++)_[f]=a[f];return _}function bi(a,c){(null==c||c>a.length)&&(c=a.length);for(var f=0,_=new Array(c);f<c;f++)_[f]=a[f];return _}We.LayerGroup=L.Class.extend({initialize:function(a){var c=this;this._layerGroup=a,this._layers=this.getLayers(),this._getMap(),this._layers.forEach(function(f){return c._initLayer(f)}),this._layerGroup.on("layeradd",L.Util.throttle(function(f){if(!f.layer._pmTempLayer){c._layers=c.getLayers();var _=c._layers.filter(function(b){return!b.pm._parentLayerGroup||!(c._layerGroup._leaflet_id in b.pm._parentLayerGroup)});_.forEach(function(b){c._initLayer(b)}),_.length>0&&c._getMap()&&c._getMap().pm.globalEditModeEnabled()&&c.enabled()&&c.enable(c.getOptions())}},100,this),this),this._layerGroup.on("layerremove",function(f){c._removeLayerFromGroup(f.target)},this),this._layerGroup.on("layerremove",L.Util.throttle(function(f){f.target._pmTempLayer||(c._layers=c.getLayers())},100,this),this)},enable:function(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];0===c.length&&(this._layers=this.getLayers()),this._options=a,this._layers.forEach(function(f){f instanceof L.LayerGroup?-1===c.indexOf(f._leaflet_id)&&(c.push(f._leaflet_id),f.pm.enable(a,c)):f.pm.enable(a)})},disable:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];0===a.length&&(this._layers=this.getLayers()),this._layers.forEach(function(c){c instanceof L.LayerGroup?-1===a.indexOf(c._leaflet_id)&&(a.push(c._leaflet_id),c.pm.disable(a)):c.pm.disable()})},enabled:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return 0===a.length&&(this._layers=this.getLayers()),!!this._layers.find(function(f){return f instanceof L.LayerGroup?-1===a.indexOf(f._leaflet_id)&&(a.push(f._leaflet_id),f.pm.enabled(a)):f.pm.enabled()})},toggleEdit:function(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];0===c.length&&(this._layers=this.getLayers()),this._options=a,this._layers.forEach(function(f){f instanceof L.LayerGroup?-1===c.indexOf(f._leaflet_id)&&(c.push(f._leaflet_id),f.pm.toggleEdit(a,c)):f.pm.toggleEdit(a)})},_initLayer:function(a){var c=L.Util.stamp(this._layerGroup);a.pm._parentLayerGroup||(a.pm._parentLayerGroup={}),a.pm._parentLayerGroup[c]=this._layerGroup},_removeLayerFromGroup:function(a){if(a.pm&&a.pm._layerGroup){var c=L.Util.stamp(this._layerGroup);delete a.pm._layerGroup[c]}},dragging:function(){return this._layers=this.getLayers(),!!this._layers&&!!this._layers.find(function(c){return c.pm.dragging()})},getOptions:function(){return this.options},_getMap:function(){var a;return this._map||(null===(a=this._layers.find(function(c){return!!c._map}))||void 0===a?void 0:a._map)||null},getLayers:function(){var c=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],f=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],_=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],b=[];return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this._layerGroup.getLayers().forEach(function(k){b.push(k),k instanceof L.LayerGroup&&-1===_.indexOf(k._leaflet_id)&&(_.push(k._leaflet_id),b=b.concat(k.pm.getLayers(!0,!0,!0,_)))}):b=this._layerGroup.getLayers(),f&&(b=b.filter(function(k){return!(k instanceof L.LayerGroup)})),c&&(b=(b=(b=b.filter(function(k){return!!k.pm})).filter(function(k){return!k._pmTempLayer})).filter(function(k){return!L.PM.optIn&&!k.options.pmIgnore||L.PM.optIn&&!1===k.options.pmIgnore})),b},setOptions:function(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];0===c.length&&(this._layers=this.getLayers()),this.options=a,this._layers.forEach(function(f){f.pm&&(f instanceof L.LayerGroup?-1===c.indexOf(f._leaflet_id)&&(c.push(f._leaflet_id),f.pm.setOptions(a,c)):f.pm.setOptions(a))})}}),We.Marker=We.extend({_shape:"Marker",initialize:function(a){this._layer=a,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable:function(){L.Util.setOptions(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{draggable:!0}),this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._fireEnable()):this.disable()},disable:function(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled:function(){return this._enabled},toggleEdit:function(a){this.enabled()?this.disable():this.enable(a)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker:function(a){var c=a.target;c.remove(),this._fireRemove(c),this._fireRemove(this._map,c)},_onDragEnd:function(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers:function(){var a=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=void 0===this.options.snapSegment||this.options.snapSegment,a.off("pm:drag",this._handleSnapping,this),a.on("pm:drag",this._handleSnapping,this),a.off("pm:dragend",this._cleanupSnapping,this),a.on("pm:dragend",this._cleanupSnapping,this),a.off("pm:dragstart",this._unsnap,this),a.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var a=this._layer;a.off("pm:drag",this._handleSnapping,this),a.off("pm:dragend",this._cleanupSnapping,this),a.off("pm:dragstart",this._unsnap,this)}}),We.Line=We.extend({includes:[{filterMarkerGroup:function(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents:function(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache:function(){var a=[].concat(Or(this._markerGroup.getLayers()),Or(this.markerCache));this.markerCache=a.filter(function(c,f,_){return _.indexOf(c)===f})},renderLimits:function(a){var c=this;this.markerCache.forEach(function(f){a.includes(f)?c._markerGroup.addLayer(f):c._markerGroup.removeLayer(f)})},applyLimitFilters:function(a){var c=a.latlng;if(!this._preventRenderMarkers){var _=Or(this._filterClosestMarkers(void 0===c?{lat:0,lng:0}:c));this.renderLimits(_)}},_filterClosestMarkers:function(a){var c=Or(this.markerCache),f=this.options.limitMarkersToCount;return-1===f?c:(c.sort(function(_,b){return _._latlng.distanceTo(a)-b._latlng.distanceTo(a)}),c.filter(function(_,b){return!(f>-1)||b<f}))},_preventRenderMarkers:!1,_preventRenderingMarkers:function(a){this._preventRenderMarkers=!!a}}],_shape:"Line",initialize:function(a){this._layer=a,this._enabled=!1},enable:function(a){L.Util.setOptions(this,a),this._map=this._layer._map,this._map&&(this.options.allowEditing?(this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:("#f00000ff"!==this._layer.options.color?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()):this.disable())},disable:function(){if(this.enabled()&&!this._dragging){this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);var a=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(a,"leaflet-pm-draggable"),this._map.hasLayer(this._layer)&&!this.hasSelfIntersection()||L.DomUtil.removeClass(a,"leaflet-pm-invalid"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()}},enabled:function(){return this._enabled},toggleEdit:function(a){return this.enabled()?this.disable():this.enable(a),this.enabled()},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers:function(){var a=this,c=this._map,f=this._layer.getLatLngs();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,this._markers=function _(b){if(Array.isArray(b[0]))return b.map(_,a);var k=b.map(a._createMarker,a);return!0!==a.options.hideMiddleMarkers&&b.map(function(O,A){var F=a.isPolygon()?(A+1)%b.length:A+1;return a._createMiddleMarker(k[A],k[F])}),k}(f),this.filterMarkerGroup(),c.addLayer(this._markerGroup)},_createMarker:function(a){var c=new L.Marker(a,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(c,"vertexPane"),c._pmTempLayer=!0,this.options.rotate?(c.on("dragstart",this._onRotateStart,this),c.on("drag",this._onRotate,this),c.on("dragend",this._onRotateEnd,this)):(c.on("click",this._onVertexClick,this),c.on("dragstart",this._onMarkerDragStart,this),c.on("move",this._onMarkerDrag,this),c.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||c.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(c),c},_createMiddleMarker:function(a,c){if(!a||!c)return!1;var f=L.PM.Utils.calcMiddleLatLng(this._map,a.getLatLng(),c.getLatLng()),_=this._createMarker(f),b=L.divIcon({className:"marker-icon marker-icon-middle"});return _.setIcon(b),_.leftM=a,_.rightM=c,a._middleMarkerNext=_,c._middleMarkerPrev=_,_.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),_.on("movestart",this._onMiddleMarkerMoveStart,this),_},_onMiddleMarkerClick:function(a){var c=a.target;if(this._vertexValidation("add",a)){var f=L.divIcon({className:"marker-icon"});c.setIcon(f),this._addMarker(c,c.leftM,c.rightM)}},_onMiddleMarkerMoveStart:function(a){var c=a.target;c.on("moveend",this._onMiddleMarkerMoveEnd,this),this._vertexValidation("add",a)?(c._dragging=!0,this._addMarker(c,c.leftM,c.rightM)):c.on("move",this._onMiddleMarkerMovePrevent,this)},_onMiddleMarkerMovePrevent:function(a){this._vertexValidationDrag(a.target)},_onMiddleMarkerMoveEnd:function(a){var c=a.target;if(c.off("move",this._onMiddleMarkerMovePrevent,this),c.off("moveend",this._onMiddleMarkerMoveEnd,this),this._vertexValidationDragEnd(c)){var f=L.divIcon({className:"marker-icon"});c.setIcon(f),setTimeout(function(){delete c._dragging},100)}},_addMarker:function(a,c,f){a.off("movestart",this._onMiddleMarkerMoveStart,this),a.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);var _=a.getLatLng(),b=this._layer._latlngs;delete a.leftM,delete a.rightM;var k=L.PM.Utils.findDeepMarkerIndex(this._markers,c),O=k.indexPath,A=k.index,F=k.parentPath,U=O.length>1?Se()(b,F):b,te=O.length>1?Se()(this._markers,F):this._markers;U.splice(A+1,0,_),te.splice(A+1,0,a),this._layer.setLatLngs(b),!0!==this.options.hideMiddleMarkers&&(this._createMiddleMarker(c,a),this._createMiddleMarker(a,f)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(a,L.PM.Utils.findDeepMarkerIndex(this._markers,a).indexPath,_),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection:function(){return Yt(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval:function(){this._handleLayerStyle(!0),this.hasSelfIntersection()&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle:function(a){var c=this._layer;if(this.hasSelfIntersection()){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return;a?this._flashLayer():(c.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(Yt(this._layer.toGeoJSON(15)))}else c.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1)},_flashLayer:function(){var a=this;this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout(function(){a._layer.setStyle({color:a.cachedColor}),a.isRed=!1},200)},_updateDisabledMarkerStyle:function(a,c){var f=this;a.forEach(function(_){Array.isArray(_)?f._updateDisabledMarkerStyle(_,c):_._icon&&(c&&!f._checkMarkerAllowedToDrag(_)?L.DomUtil.addClass(_._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(_._icon,"vertexmarker-disabled"))})},_removeMarker:function(a){var c=a.target;if(this._vertexValidation("remove",a)){this.options.allowSelfIntersection||(this._coordsBeforeEdit=wt(this._layer,this._layer.getLatLngs()));var f=this._layer.getLatLngs(),_=L.PM.Utils.findDeepMarkerIndex(this._markers,c),b=_.indexPath,k=_.index,O=_.parentPath;if(b){var A=b.length>1?Se()(f,O):f,F=b.length>1?Se()(this._markers,O):this._markers;if(this.options.removeLayerBelowMinVertexCount||!(A.length<=2||this.isPolygon()&&A.length<=3)){A.splice(k,1),this._layer.setLatLngs(f),this.isPolygon()&&A.length<=2&&A.splice(0,A.length);var te,Q,U=!1;if(A.length<=1&&(A.splice(0,A.length),O.length>1&&b.length>1&&(f=Qt(f)),this._layer.setLatLngs(f),this._initMarkers(),U=!0),gt(f)||this._layer.remove(),f=Qt(f),this._layer.setLatLngs(f),this._markers=Qt(this._markers),!U&&(F=b.length>1?Se()(this._markers,O):this._markers,c._middleMarkerPrev&&this._markerGroup.removeLayer(c._middleMarkerPrev),c._middleMarkerNext&&this._markerGroup.removeLayer(c._middleMarkerNext),this._markerGroup.removeLayer(c),F))this.isPolygon()?(te=(k+1)%F.length,Q=(k+(F.length-1))%F.length):(Q=k-1<0?void 0:k-1,te=k+1>=F.length?void 0:k+1),te!==Q&&!0!==this.options.hideMiddleMarkers&&this._createMiddleMarker(F[Q],F[te]),F.splice(k,1);this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(c,b),this._fireChange(this._layer.getLatLngs(),"Edit")}else this._flashLayer()}}},updatePolygonCoordsFromMarkerDrag:function(a){var c=this._layer.getLatLngs(),f=a.getLatLng(),_=L.PM.Utils.findDeepMarkerIndex(this._markers,a),k=_.index,O=_.parentPath;(_.indexPath.length>1?Se()(c,O):c).splice(k,1,f),this._layer.setLatLngs(c)},_getNeighborMarkers:function(a){var c=L.PM.Utils.findDeepMarkerIndex(this._markers,a),_=c.index,b=c.parentPath,k=c.indexPath.length>1?Se()(this._markers,b):this._markers;return{prevMarker:k[(_+(k.length-1))%k.length],nextMarker:k[(_+1)%k.length]}},_checkMarkerAllowedToDrag:function(a){var c=this._getNeighborMarkers(a),_=c.nextMarker,b=L.polyline([c.prevMarker.getLatLng(),a.getLatLng()]),k=L.polyline([a.getLatLng(),_.getLatLng()]),O=br(this._layer.toGeoJSON(15),b.toGeoJSON(15)).features.length,A=br(this._layer.toGeoJSON(15),k.toGeoJSON(15)).features.length;return a.getLatLng()===this._markers[0][0].getLatLng()?A+=1:a.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(O+=1),!(O<=2&&A<=2)},_onMarkerDragStart:function(a){var c=a.target;if(this.cachedColor||(this.cachedColor=this._layer.options.color),this._vertexValidation("move",a)){var f=L.PM.Utils.findDeepMarkerIndex(this._markers,c).indexPath;this._fireMarkerDragStart(a,f),this.options.allowSelfIntersection||(this._coordsBeforeEdit=wt(this._layer,this._layer.getLatLngs())),this._markerAllowedToDrag=!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._checkMarkerAllowedToDrag(c):null}},_onMarkerDrag:function(a){var c=a.target;if(this._vertexValidationDrag(c)){var f=L.PM.Utils.findDeepMarkerIndex(this._markers,c),_=f.indexPath,b=f.index,k=f.parentPath;if(_){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&!1===this._markerAllowedToDrag)return this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),void this._handleLayerStyle();this.updatePolygonCoordsFromMarkerDrag(c);var O=_.length>1?Se()(this._markers,k):this._markers,A=(b+1)%O.length,F=(b+(O.length-1))%O.length,U=c.getLatLng(),te=O[F].getLatLng(),Q=O[A].getLatLng();if(c._middleMarkerNext){var le=L.PM.Utils.calcMiddleLatLng(this._map,U,Q);c._middleMarkerNext.setLatLng(le)}if(c._middleMarkerPrev){var _e=L.PM.Utils.calcMiddleLatLng(this._map,U,te);c._middleMarkerPrev.setLatLng(_e)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(a,_),this._fireChange(this._layer.getLatLngs(),"Edit")}}},_onMarkerDragEnd:function(a){var c=a.target;if(this._vertexValidationDragEnd(c)){var f=L.PM.Utils.findDeepMarkerIndex(this._markers,c).indexPath,_=this.hasSelfIntersection();_&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(_=!1);var b=!this.options.allowSelfIntersection&&_;if(this._fireMarkerDragEnd(a,f,b),b)return this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),void this._fireLayerReset(a,f);!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")}},_onVertexClick:function(a){var c=a.target;if(!c._dragging){var f=L.PM.Utils.findDeepMarkerIndex(this._markers,c).indexPath;this._fireVertexClick(a,f)}}}),We.Polygon=We.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag:function(a){var c=this._getNeighborMarkers(a),_=c.nextMarker,b=L.polyline([c.prevMarker.getLatLng(),a.getLatLng()]),k=L.polyline([a.getLatLng(),_.getLatLng()]),O=br(this._layer.toGeoJSON(15),b.toGeoJSON(15)).features.length,A=br(this._layer.toGeoJSON(15),k.toGeoJSON(15)).features.length;return!(O<=2&&A<=2)}}),We.Rectangle=We.Polygon.extend({_shape:"Rectangle",_initMarkers:function(){var a=this,c=this._map,f=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,c.addLayer(this._markerGroup),this._markers=[],this._markers[0]=f.map(this._createMarker,this);var _=function Jr(a,c){return function(f){if(Array.isArray(f))return f}(a)||function(f,_){var b=null==f?null:typeof Symbol<"u"&&f[Symbol.iterator]||f["@@iterator"];if(null!=b){var k,O,A=[],F=!0,U=!1;try{for(b=b.call(f);!(F=(k=b.next()).done)&&(A.push(k.value),!_||A.length!==_);F=!0);}catch(te){U=!0,O=te}finally{try{F||null==b.return||b.return()}finally{if(U)throw O}}return A}}(a,c)||function(f,_){if(f){if("string"==typeof f)return gn(f,_);var b=Object.prototype.toString.call(f).slice(8,-1);if("Object"===b&&f.constructor&&(b=f.constructor.name),"Map"===b||"Set"===b)return Array.from(f);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return gn(f,_)}}(a,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this._markers,1);this._cornerMarkers=_[0],this._layer.getLatLngs()[0].forEach(function(b,k){var O=a._cornerMarkers.find(function(A){return A._index===k});O&&O.setLatLng(b)})},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker:function(a,c){var f=new L.Marker(a,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(f,"vertexPane"),f._origLatLng=a,f._index=c,f._pmTempLayer=!0,this._markerGroup.addLayer(f),f},_addMarkerEvents:function(){var a=this;this._markers[0].forEach(function(c){c.on("dragstart",a._onMarkerDragStart,a),c.on("drag",a._onMarkerDrag,a),c.on("dragend",a._onMarkerDragEnd,a),a.options.preventMarkerRemoval||c.on("contextmenu",a._removeMarker,a)})},_removeMarker:function(){return null},_onMarkerDragStart:function(a){if(this._vertexValidation("move",a)){var c=a.target;c._oppositeCornerLatLng=this._cornerMarkers.find(function(_){return _._index===(c._index+2)%4}).getLatLng(),c._snapped=!1,this._fireMarkerDragStart(a)}},_onMarkerDrag:function(a){var c=a.target;this._vertexValidationDrag(c)&&void 0!==c._index&&(this._adjustRectangleForMarkerMove(c),this._fireMarkerDrag(a),this._fireChange(this._layer.getLatLngs(),"Edit"))},_onMarkerDragEnd:function(a){this._vertexValidationDragEnd(a.target)&&(this._cornerMarkers.forEach(function(f){delete f._oppositeCornerLatLng}),this._fireMarkerDragEnd(a),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"))},_adjustRectangleForMarkerMove:function(a){L.extend(a._origLatLng,a._latlng);var c=L.PM.Utils._getRotatedRectangle(a.getLatLng(),a._oppositeCornerLatLng,this._angle||0,this._map);this._layer.setLatLngs(c),this._adjustAllMarkers(),this._layer.redraw()},_adjustAllMarkers:function(){var a=this,c=this._layer.getLatLngs()[0];c&&4!==c.length&&c.length>0?(c.forEach(function(f,_){a._cornerMarkers[_].setLatLng(f)}),this._cornerMarkers.slice(c.length).forEach(function(f){f.setLatLng(c[0])})):c&&c.length?this._cornerMarkers.forEach(function(f){f.setLatLng(c[f._index])}):console.error("The layer has no LatLngs")},_findCorners:function(){var a=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(a[0],a[2],this._angle||0,this._map)}}),We.Circle=We.extend({_shape:"Circle",initialize:function(a){this._layer=a,this._enabled=!1,this._updateHiddenPolyCircle()},enable:function(a){L.Util.setOptions(this,a),this._map=this._layer._map,this.options.allowEditing?(this.enabled()||this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._updateHiddenPolyCircle(),this._fireEnable()):this.disable()},disable:function(){this.enabled()&&!this._dragging&&(this._centerMarker.off("dragstart",this._onCircleDragStart,this),this._centerMarker.off("drag",this._onCircleDrag,this),this._centerMarker.off("dragend",this._onCircleDragEnd,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this),this._layer.off("remove",this.disable,this),this._enabled=!1,this._helperLayers.clearLayers(),L.DomUtil.removeClass(this._layer._path?this._layer._path:this._layer._renderer._container,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable())},enabled:function(){return this._enabled},toggleEdit:function(a){this.enabled()?this.disable():this.enable(a)},_initMarkers:function(){var a=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(a);var c=this._layer.getLatLng(),_=this._getLatLngOnCircle(c,this._layer._radius);this._centerMarker=this._createCenterMarker(c),this._outerMarker=this._createOuterMarker(_),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},applyOptions:function(){this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this),this._centerMarker.on("move",this._moveCircle,this)):this._disableSnapping()},_createHintLine:function(a,c){var f=a.getLatLng(),_=c.getLatLng();this._hintline=L.polyline([f,_],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(a){var c=this._createMarker(a);return L.DomUtil.addClass(c._icon,"leaflet-pm-draggable"),c.on("drag",this._moveCircle,this),c.on("dragstart",this._onCircleDragStart,this),c.on("drag",this._onCircleDrag,this),c.on("dragend",this._onCircleDragEnd,this),c},_createOuterMarker:function(a){var c=this._createMarker(a);return c.on("drag",this._resizeCircle,this),c},_createMarker:function(a){var c=new L.Marker(a,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(c,"vertexPane"),c._origLatLng=a,c._pmTempLayer=!0,c.on("dragstart",this._onMarkerDragStart,this),c.on("drag",this._onMarkerDrag,this),c.on("dragend",this._onMarkerDragEnd,this),this._helperLayers.addLayer(c),c},_resizeCircle:function(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_moveCircle:function(a){if(!a.target._cancelDragEventChain){var c=a.latlng;this._layer.setLatLng(c);var _=this._getLatLngOnCircle(c,this._layer._radius);this._outerMarker._latlng=_,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")}},_syncCircleRadius:function(){var a=this._centerMarker.getLatLng(),c=this._outerMarker.getLatLng(),f=this._map.distance(a,c);this._layer.setRadius(this.options.minRadiusCircle&&f<this.options.minRadiusCircle?this.options.minRadiusCircle:this.options.maxRadiusCircle&&f>this.options.maxRadiusCircle?this.options.maxRadiusCircle:f),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine:function(){var a=this._centerMarker.getLatLng(),c=this._outerMarker.getLatLng();this._hintline.setLatLngs([a,c])},_disableSnapping:function(){var a=this;this._markers.forEach(function(c){c.off("move",a._syncHintLine,a),c.off("move",a._syncCircleRadius,a),c.off("drag",a._handleSnapping,a),c.off("dragend",a._cleanupSnapping,a)}),this._layer.off("pm:dragstart",this._unsnap,this)},_onMarkerDragStart:function(a){this._vertexValidation("move",a)&&this._fireMarkerDragStart(a)},_onMarkerDrag:function(a){this._vertexValidationDrag(a.target)&&this._fireMarkerDrag(a)},_onMarkerDragEnd:function(a){this._vertexValidationDragEnd(a.target)&&(this._fireEdit(),this._layerEdited=!0,this._fireMarkerDragEnd(a))},_onCircleDragStart:function(a){this._vertexValidationDrag(a.target)?(delete this._vertexValidationReset,this._fireDragStart()):this._vertexValidationReset=!0},_onCircleDrag:function(a){this._vertexValidationReset||this._fireDrag(a)},_onCircleDragEnd:function(){this._vertexValidationReset?delete this._vertexValidationReset:this._fireDragEnd()},_updateHiddenPolyCircle:function(){var a=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!a).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!a),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_getLatLngOnCircle:function(a,c){var f=this._map.project(a),_=L.point(f.x+c,f.y);return this._map.unproject(_)},_getNewDestinationOfOuterMarker:function(){var a=this._centerMarker.getLatLng(),c=this._outerMarker.getLatLng(),f=this._map.distance(a,c);return this.options.minRadiusCircle&&f<this.options.minRadiusCircle?c=bt(this._map,a,c,this.options.minRadiusCircle):this.options.maxRadiusCircle&&f>this.options.maxRadiusCircle&&(c=bt(this._map,a,c,this.options.maxRadiusCircle)),c},_handleOuterMarkerSnapping:function(){if(this._outerMarker._snapped){var a=this._centerMarker.getLatLng(),c=this._outerMarker.getLatLng(),f=this._map.distance(a,c);(this.options.minRadiusCircle&&f<this.options.minRadiusCircle||this.options.maxRadiusCircle&&f>this.options.maxRadiusCircle)&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())}}),We.CircleMarker=We.extend({_shape:"CircleMarker",initialize:function(a){this._layer=a,this._enabled=!1,this._updateHiddenPolyCircle()},enable:function(){L.Util.setOptions(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{draggable:!0,snappable:!0}),this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this),this._updateHiddenPolyCircle(),this._fireEnable()):this.disable()},disable:function(){this._dragging||(this._helperLayers&&this._helperLayers.clearLayers(),this._map||(this._map=this._layer._map),this._map||(this.options.editable?(this._map.off("move",this._syncMarkers,this),this._outerMarker&&this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this)),this.disableLayerDrag(),this._layer.off("contextmenu",this._removeMarker,this),this._layer.off("remove",this.disable,this),this.enabled()&&(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},enabled:function(){return this._enabled},toggleEdit:function(a){this.enabled()?this.disable():this.enable(a)},applyOptions:function(){!this.options.editable&&this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.editable?(this._initMarkers(),this._map.on("move",this._syncMarkers,this)):this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this.options.editable?(this._initSnappableMarkers(),this._centerMarker.on("drag",this._moveCircle,this),this.options.editable&&this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this)):this._initSnappableMarkersDrag():this.options.editable?this._disableSnapping():this._disableSnappingDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers:function(){var a=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(a);var c=this._layer.getLatLng(),_=this._getLatLngOnCircle(c,this._layer._radius);this._centerMarker=this._createCenterMarker(c),this._outerMarker=this._createOuterMarker(_),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle:function(a,c){var f=this._map.project(a),_=L.point(f.x+c,f.y);return this._map.unproject(_)},_createHintLine:function(a,c){var f=a.getLatLng(),_=c.getLatLng();this._hintline=L.polyline([f,_],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(a){var c=this._createMarker(a);return this.options.draggable?L.DomUtil.addClass(c._icon,"leaflet-pm-draggable"):c.dragging.disable(),c},_createOuterMarker:function(a){var c=this._createMarker(a);return c.on("drag",this._resizeCircle,this),c},_createMarker:function(a){var c=new L.Marker(a,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(c,"vertexPane"),c._origLatLng=a,c._pmTempLayer=!0,c.on("dragstart",this._onMarkerDragStart,this),c.on("drag",this._onMarkerDrag,this),c.on("dragend",this._onMarkerDragEnd,this),this._helperLayers.addLayer(c),c},_moveCircle:function(){var a=this._centerMarker.getLatLng();this._layer.setLatLng(a);var f=this._getLatLngOnCircle(a,this._layer._radius);this._outerMarker._latlng=f,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")},_syncMarkers:function(){var a=this._layer.getLatLng(),f=this._getLatLngOnCircle(a,this._layer._radius);this._outerMarker.setLatLng(f),this._centerMarker.setLatLng(a),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle:function(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius:function(){var a=this._centerMarker.getLatLng(),c=this._outerMarker.getLatLng(),f=this._map.project(a).distanceTo(this._map.project(c));this._layer.setRadius(this.options.minRadiusCircleMarker&&f<this.options.minRadiusCircleMarker?this.options.minRadiusCircleMarker:this.options.maxRadiusCircleMarker&&f>this.options.maxRadiusCircleMarker?this.options.maxRadiusCircleMarker:f),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine:function(){var a=this._centerMarker.getLatLng(),c=this._outerMarker.getLatLng();this._hintline.setLatLngs([a,c])},_removeMarker:function(){this.options.editable&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart:function(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart:function(a){this._vertexValidation("move",a)&&this._fireMarkerDragStart(a)},_onMarkerDrag:function(a){var c=a.target;c instanceof L.Marker&&!this._vertexValidationDrag(c)||this._fireMarkerDrag(a)},_onMarkerDragEnd:function(a){this._map.pm.Draw.CircleMarker._layerIsDragging=!1,this._vertexValidationDragEnd(a.target)&&(this.options.editable&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(a))},_initSnappableMarkersDrag:function(){var a=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=void 0===this.options.snapSegment||this.options.snapSegment,a.off("pm:drag",this._handleSnapping,this),a.on("pm:drag",this._handleSnapping,this),a.off("pm:dragend",this._cleanupSnapping,this),a.on("pm:dragend",this._cleanupSnapping,this),a.off("pm:dragstart",this._unsnap,this),a.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag:function(){var a=this._layer;a.off("pm:drag",this._handleSnapping,this),a.off("pm:dragend",this._cleanupSnapping,this),a.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle:function(){var a=this._layer._map||this._map;if(a){var c=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),a,this._layer.getLatLng()),f=L.circle(this._layer.getLatLng(),this._layer.options);f.setRadius(c);var _=a&&a.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(f,200,!_).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(f,200,!_),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker:function(){var a=this._centerMarker.getLatLng(),c=this._outerMarker.getLatLng(),f=this._map.project(a).distanceTo(this._map.project(c));return this.options.minRadiusCircleMarker&&f<this.options.minRadiusCircleMarker?c=bt(this._map,a,c,L.PM.Utils.pxRadiusToMeterRadius(this.options.minRadiusCircleMarker,this._map,a)):this.options.maxRadiusCircleMarker&&f>this.options.maxRadiusCircleMarker&&(c=bt(this._map,a,c,L.PM.Utils.pxRadiusToMeterRadius(this.options.maxRadiusCircleMarker,this._map,a))),c},_handleOuterMarkerSnapping:function(){if(this._outerMarker._snapped){var a=this._centerMarker.getLatLng(),c=this._outerMarker.getLatLng(),f=this._map.project(a).distanceTo(this._map.project(c));(this.options.minRadiusCircleMarker&&f<this.options.minRadiusCircleMarker||this.options.maxRadiusCircleMarker&&f>this.options.maxRadiusCircleMarker)&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())}}),We.ImageOverlay=We.extend({_shape:"ImageOverlay",initialize:function(a){this._layer=a,this._enabled=!1},toggleEdit:function(a){this.enabled()?this.disable():this.enable(a)},enabled:function(){return this._enabled},enable:function(){L.Util.setOptions(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{draggable:!0,snappable:!0}),this._map=this._layer._map,this._map&&(this.options.allowEditing?(this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()):this.disable())},disable:function(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners:function(){var a=this._layer.getBounds();return[a.getNorthWest(),a.getNorthEast(),a.getSouthEast(),a.getSouthWest()]}}),We.Text=We.extend({_shape:"Text",initialize:function(a){this._layer=a,this._enabled=!1},enable:function(a){L.Util.setOptions(this,a),this.textArea&&(this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._safeToCacheDragState=!0,this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()):this.disable())},disable:function(){if(this.enabled()){this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),L.DomEvent.off(document,"click",this._documentClick,this),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");var a=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),a.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1}},enabled:function(){return this._enabled},toggleEdit:function(a){this.enabled()?this.disable():this.enable(a)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers:function(){var a=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=void 0===this.options.snapSegment||this.options.snapSegment,a.off("pm:drag",this._handleSnapping,this),a.on("pm:drag",this._handleSnapping,this),a.off("pm:dragend",this._cleanupSnapping,this),a.on("pm:dragend",this._cleanupSnapping,this),a.off("pm:dragstart",this._unsnap,this),a.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var a=this._layer;a.off("pm:drag",this._handleSnapping,this),a.off("pm:dragend",this._cleanupSnapping,this),a.off("pm:dragstart",this._unsnap,this)},_autoResize:function(){this.textArea.style.height="1px",this.textArea.style.width="1px";var c=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height="".concat(this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,"px"),this.textArea.style.width="".concat(c,"px"),this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur:function(){var a=this;this._disableOnBlurActive=!0,setTimeout(function(){a.enabled()&&L.DomEvent.on(document,"click",a._documentClick,a)},100)},_documentClick:function(a){a.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange:function(){var c=this._hasFocus;this._hasFocus="focus"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).type,!c!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus:function(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus:function(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus:function(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur:function(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus:function(){return this._hasFocus},getElement:function(){return this.textArea},setText:function(a){this.textArea.value=a,this._autoResize()},getText:function(){return this.textArea.value},_initTextMarker:function(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){var a,c=this.options.className.split(" ");(a=this.textArea.classList).add.apply(a,function vs(a){return function(c){if(Array.isArray(c))return bi(c)}(a)||function(c){if(typeof Symbol<"u"&&null!=c[Symbol.iterator]||null!=c["@@iterator"])return Array.from(c)}(a)||function(c,f){if(c){if("string"==typeof c)return bi(c,f);var _=Object.prototype.toString.call(c).slice(8,-1);if("Object"===_&&c.constructor&&(_=c.constructor.name),"Map"===_||"Set"===_)return Array.from(c);if("Arguments"===_||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return bi(c,f)}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(c))}var f=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(f),this._layer.once("add",this._createTextMarker,this)},_createTextMarker:function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),!0===a&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection:function(a){a.preventDefault()}});var Go=function(a,c,f,_,b,k){this._matrix=[a,c,f,_,b,k]};Go.init=function(){return new L.PM.Matrix(1,0,0,1,0,0)},Go.prototype={transform:function(a){return this._transform(a.clone())},_transform:function(a){var c=this._matrix,f=a.x,_=a.y;return a.x=c[0]*f+c[1]*_+c[4],a.y=c[2]*f+c[3]*_+c[5],a},untransform:function(a){var c=this._matrix;return new L.Point((a.x/c[0]-c[4])/c[0],(a.y/c[2]-c[5])/c[2])},clone:function(){var a=this._matrix;return new L.PM.Matrix(a[0],a[1],a[2],a[3],a[4],a[5])},translate:function(a){return void 0===a?new L.Point(this._matrix[4],this._matrix[5]):("number"==typeof a?(c=a,f=a):(c=a.x,f=a.y),this._add(1,0,0,1,c,f));var c,f},scale:function(a,c){return void 0===a?new L.Point(this._matrix[0],this._matrix[3]):(c=c||L.point(0,0),"number"==typeof a?(f=a,_=a):(f=a.x,_=a.y),this._add(f,0,0,_,c.x,c.y)._add(1,0,0,1,-c.x,-c.y));var f,_},rotate:function(a,c){var f=Math.cos(a),_=Math.sin(a);return c=c||new L.Point(0,0),this._add(f,_,-_,f,c.x,c.y)._add(1,0,0,1,-c.x,-c.y)},flip:function(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add:function(a,c,f,_,b,k){var O,A=[[],[],[]],F=this._matrix,U=[[F[0],F[2],F[4]],[F[1],F[3],F[5]],[0,0,1]],te=[[a,f,b],[c,_,k],[0,0,1]];a&&a instanceof L.PM.Matrix&&(te=[[(F=a._matrix)[0],F[2],F[4]],[F[1],F[3],F[5]],[0,0,1]]);for(var Q=0;Q<3;Q+=1)for(var le=0;le<3;le+=1){O=0;for(var _e=0;_e<3;_e+=1)O+=U[Q][_e]*te[_e][le];A[Q][le]=O}return this._matrix=[A[0][0],A[1][0],A[0][1],A[1][1],A[0][2],A[1][2]],this}};var Al={calcMiddleLatLng:function(a,c,f){var _=a.project(c),b=a.project(f);return a.unproject(_._add(b)._divideBy(2))},findLayers:function(a){var c=[];return a.eachLayer(function(f){(f instanceof L.Polyline||f instanceof L.Marker||f instanceof L.Circle||f instanceof L.CircleMarker||f instanceof L.ImageOverlay)&&c.push(f)}),c=(c=(c=c.filter(function(f){return!!f.pm})).filter(function(f){return!f._pmTempLayer})).filter(function(f){return!L.PM.optIn&&!f.options.pmIgnore||L.PM.optIn&&!1===f.options.pmIgnore})},circleToPolygon:function(a){for(var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,f=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],k=Lt(a.getLatLng(),a.getRadius(),c,0,f),O=[],A=0;A<k.length;A+=1)O.push([k[A].lat,k[A].lng]);return L.polygon(O,a.options)},disablePopup:function(a){a.getPopup()&&(a._tempPopupCopy=a.getPopup(),a.unbindPopup())},enablePopup:function(a){a._tempPopupCopy&&(a.bindPopup(a._tempPopupCopy),delete a._tempPopupCopy)},_fireEvent:function(a,c,f){var _=arguments.length>3&&void 0!==arguments[3]&&arguments[3];a.fire(c,f,_),this.getAllParentGroups(a).groups.forEach(function(O){O.fire(c,f,_)})},getAllParentGroups:function(a){var c=[],f=[];return!a._pmLastGroupFetch||!a._pmLastGroupFetch.time||(new Date).getTime()-a._pmLastGroupFetch.time>1e3?(function _(b){for(var k in b._eventParents)if(-1===c.indexOf(k)){c.push(k);var O=b._eventParents[k];f.push(O),_(O)}}(a),a._pmLastGroupFetch={time:(new Date).getTime(),groups:f,groupIds:c},{groupIds:c,groups:f}):{groups:a._pmLastGroupFetch.groups,groupIds:a._pmLastGroupFetch.groupIds}},createGeodesicPolygon:Lt,getTranslation:je,findDeepCoordIndex:function(a,c){var f,_=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];a.some(function O(A){return function(F,U){var te=A.concat(U);if(_){if(F.lat&&F.lat===c.lat&&F.lng===c.lng)return f=te,!0}else if(F.lat&&L.latLng(F).equals(c))return f=te,!0;return Array.isArray(F)&&F.some(O(te))}}([]));var k={};return f&&(k={indexPath:f,index:f[f.length-1],parentPath:f.slice(0,f.length-1)}),k},findDeepMarkerIndex:function(a,c){var f;a.some(function b(k){return function(O,A){var F=k.concat(A);return O._leaflet_id===c._leaflet_id?(f=F,!0):Array.isArray(O)&&O.some(b(F))}}([]));var _={};return f&&(_={indexPath:f,index:f[f.length-1],parentPath:f.slice(0,f.length-1)}),_},_getIndexFromSegment:function(a,c){if(c&&2===c.length){var f=this.findDeepCoordIndex(a,c[0]),_=this.findDeepCoordIndex(a,c[1]),b=Math.max(f.index,_.index);return 0!==f.index&&0!==_.index||1===b||(b+=1),{indexA:f,indexB:_,newIndex:b,indexPath:f.indexPath,parentPath:f.parentPath}}return null},_getRotatedRectangle:function(a,c,f,_){var b=jt(_,a),k=jt(_,c),O=f*Math.PI/180,A=Math.cos(O),F=Math.sin(O),U=(k.x-b.x)*A+(k.y-b.y)*F,te=(k.y-b.y)*A-(k.x-b.x)*F,Q=U*A+b.x,le=U*F+b.y,_e=-te*F+b.x,Ee=te*A+b.y;return[we(_,b),we(_,{x:Q,y:le}),we(_,k),we(_,{x:_e,y:Ee})]},pxRadiusToMeterRadius:function(a,c,f){var _=c.project(f),b=L.point(_.x+a,_.y);return c.distance(c.unproject(b),f)}};L.PM=L.PM||{version:"2.14.2",Map:Gr,Toolbar:lo,Draw:$,Edit:We,Utils:Al,Matrix:Go,activeLang:"en",optIn:!1,initialize:function(a){this.addInitHooks(a)},setOptIn:function(a){this.optIn=!!a},addInitHooks:function(){L.Map.addInitHook(function(){this.pm=void 0,L.PM.optIn?!1===this.options.pmIgnore&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})}),L.LayerGroup.addInitHook(function(){this.pm=void 0,L.PM.optIn?!1===this.options.pmIgnore&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}),L.Marker.addInitHook(function(){this.pm=void 0,L.PM.optIn?!1===this.options.pmIgnore&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))}),L.CircleMarker.addInitHook(function(){this.pm=void 0,L.PM.optIn?!1===this.options.pmIgnore&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}),L.Polyline.addInitHook(function(){this.pm=void 0,L.PM.optIn?!1===this.options.pmIgnore&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}),L.Polygon.addInitHook(function(){this.pm=void 0,L.PM.optIn?!1===this.options.pmIgnore&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}),L.Rectangle.addInitHook(function(){this.pm=void 0,L.PM.optIn?!1===this.options.pmIgnore&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}),L.Circle.addInitHook(function(){this.pm=void 0,L.PM.optIn?!1===this.options.pmIgnore&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}),L.ImageOverlay.addInitHook(function(){this.pm=void 0,L.PM.optIn?!1===this.options.pmIgnore&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))})},reInitLayer:function(a){var c=this;a instanceof L.LayerGroup&&a.eachLayer(function(f){c.reInitLayer(f)}),a.pm||L.PM.optIn&&!1!==a.options.pmIgnore||a.options.pmIgnore||(a instanceof L.Map?a.pm=new L.PM.Map(a):a instanceof L.Marker?a.options.textMarker?(a.pm=new L.PM.Edit.Text(a),a.pm._initTextMarker(),a.pm._createTextMarker(!1)):a.pm=new L.PM.Edit.Marker(a):a instanceof L.Circle?a.pm=new L.PM.Edit.Circle(a):a instanceof L.CircleMarker?a.pm=new L.PM.Edit.CircleMarker(a):a instanceof L.Rectangle?a.pm=new L.PM.Edit.Rectangle(a):a instanceof L.Polygon?a.pm=new L.PM.Edit.Polygon(a):a instanceof L.Polyline?a.pm=new L.PM.Edit.Line(a):a instanceof L.LayerGroup?a.pm=new L.PM.Edit.LayerGroup(a):a instanceof L.ImageOverlay&&(a.pm=new L.PM.Edit.ImageOverlay(a)))}},"1.7.1"===L.version&&L.Canvas.include({_onClick:function(a){for(var c,f,_=this._map.mouseEventToLayerPoint(a),b=this._drawFirst;b;b=b.next)(c=b.layer).options.interactive&&c._containsPoint(_)&&("click"!==a.type&&"preclick"!==a.type||!this._map._draggableMoved(c))&&(f=c);f&&(L.DomEvent.fakeStop(a),this._fireEvent([f],a))}}),L.PM.initialize()},7107:()=>{Array.prototype.findIndex=Array.prototype.findIndex||function(x){if(null===this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof x)throw new TypeError("callback must be a function");for(var S=Object(this),C=S.length>>>0,P=arguments[1],I=0;I<C;I++)if(x.call(P,S[I],I,S))return I;return-1},Array.prototype.find=Array.prototype.find||function(x){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof x)throw new TypeError("callback must be a function");for(var S=Object(this),C=S.length>>>0,P=arguments[1],I=0;I<C;I++){var j=S[I];if(x.call(P,j,I,S))return j}},"function"!=typeof Object.assign&&(Object.assign=function(x){"use strict";if(null==x)throw new TypeError("Cannot convert undefined or null to object");x=Object(x);for(var S=1;S<arguments.length;S++){var C=arguments[S];if(null!=C)for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&(x[P]=C[P])}return x}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(x){x.hasOwnProperty("remove")||Object.defineProperty(x,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(x,S){if(null==this)throw new TypeError('"this" is null or not defined');var C=Object(this),P=C.length>>>0;if(0===P)return!1;for(var I,j,B=0|S,W=Math.max(B>=0?B:P-Math.abs(B),0);W<P;){if((I=C[W])===(j=x)||"number"==typeof I&&"number"==typeof j&&isNaN(I)&&isNaN(j))return!0;W++}return!1}})},1787:(x,S,C)=>{var P=C(2582),I=C(4102),j=C(1540),B=C(9705).Z,W=j.featureEach,re=I.featureCollection;function ue(be){var ie=new P(be);return ie.insert=function(q){if("Feature"!==q.type)throw new Error("invalid feature");return q.bbox=q.bbox?q.bbox:B(q),P.prototype.insert.call(this,q)},ie.load=function(q){var se=[];return Array.isArray(q)?q.forEach(function(Y){if("Feature"!==Y.type)throw new Error("invalid features");Y.bbox=Y.bbox?Y.bbox:B(Y),se.push(Y)}):W(q,function(Y){if("Feature"!==Y.type)throw new Error("invalid features");Y.bbox=Y.bbox?Y.bbox:B(Y),se.push(Y)}),P.prototype.load.call(this,se)},ie.remove=function(q,se){if("Feature"!==q.type)throw new Error("invalid feature");return q.bbox=q.bbox?q.bbox:B(q),P.prototype.remove.call(this,q,se)},ie.clear=function(){return P.prototype.clear.call(this)},ie.search=function(q){var se=P.prototype.search.call(this,this.toBBox(q));return re(se)},ie.collides=function(q){return P.prototype.collides.call(this,this.toBBox(q))},ie.all=function(){var q=P.prototype.all.call(this);return re(q)},ie.toJSON=function(){return P.prototype.toJSON.call(this)},ie.fromJSON=function(q){return P.prototype.fromJSON.call(this,q)},ie.toBBox=function(q){var se;if(q.bbox)se=q.bbox;else if(Array.isArray(q)&&4===q.length)se=q;else if(Array.isArray(q)&&6===q.length)se=[q[0],q[1],q[3],q[4]];else if("Feature"===q.type)se=B(q);else{if("FeatureCollection"!==q.type)throw new Error("invalid geojson");se=B(q)}return{minX:se[0],minY:se[1],maxX:se[2],maxY:se[3]}},ie}x.exports=ue,x.exports.default=ue},1989:(x,S,C)=>{var P=C(1789),I=C(401),j=C(7667),B=C(1327),W=C(1866);function re(ue){var be=-1,ie=null==ue?0:ue.length;for(this.clear();++be<ie;){var q=ue[be];this.set(q[0],q[1])}}re.prototype.clear=P,re.prototype.delete=I,re.prototype.get=j,re.prototype.has=B,re.prototype.set=W,x.exports=re},8407:(x,S,C)=>{var P=C(7040),I=C(4125),j=C(2117),B=C(7518),W=C(4705);function re(ue){var be=-1,ie=null==ue?0:ue.length;for(this.clear();++be<ie;){var q=ue[be];this.set(q[0],q[1])}}re.prototype.clear=P,re.prototype.delete=I,re.prototype.get=j,re.prototype.has=B,re.prototype.set=W,x.exports=re},7071:(x,S,C)=>{var P=C(852)(C(5639),"Map");x.exports=P},3369:(x,S,C)=>{var P=C(4785),I=C(1285),j=C(6e3),B=C(9916),W=C(5265);function re(ue){var be=-1,ie=null==ue?0:ue.length;for(this.clear();++be<ie;){var q=ue[be];this.set(q[0],q[1])}}re.prototype.clear=P,re.prototype.delete=I,re.prototype.get=j,re.prototype.has=B,re.prototype.set=W,x.exports=re},6384:(x,S,C)=>{var P=C(8407),I=C(7465),j=C(3779),B=C(7599),W=C(4758),re=C(4309);function ue(be){var ie=this.__data__=new P(be);this.size=ie.size}ue.prototype.clear=I,ue.prototype.delete=j,ue.prototype.get=B,ue.prototype.has=W,ue.prototype.set=re,x.exports=ue},2705:(x,S,C)=>{var P=C(5639).Symbol;x.exports=P},1149:(x,S,C)=>{var P=C(5639).Uint8Array;x.exports=P},6874:x=>{x.exports=function(S,C,P){switch(P.length){case 0:return S.call(C);case 1:return S.call(C,P[0]);case 2:return S.call(C,P[0],P[1]);case 3:return S.call(C,P[0],P[1],P[2])}return S.apply(C,P)}},4636:(x,S,C)=>{var P=C(2545),I=C(5694),j=C(1469),B=C(4144),W=C(5776),re=C(6719),ue=Object.prototype.hasOwnProperty;x.exports=function(be,ie){var q=j(be),se=!q&&I(be),Y=!q&&!se&&B(be),X=!q&&!se&&!Y&&re(be),J=q||se||Y||X,N=J?P(be.length,String):[],G=N.length;for(var ee in be)!ie&&!ue.call(be,ee)||J&&("length"==ee||Y&&("offset"==ee||"parent"==ee)||X&&("buffer"==ee||"byteLength"==ee||"byteOffset"==ee)||W(ee,G))||N.push(ee);return N}},9932:x=>{x.exports=function(S,C){for(var P=-1,I=null==S?0:S.length,j=Array(I);++P<I;)j[P]=C(S[P],P,S);return j}},6556:(x,S,C)=>{var P=C(9465),I=C(7813);x.exports=function(j,B,W){(void 0!==W&&!I(j[B],W)||void 0===W&&!(B in j))&&P(j,B,W)}},4865:(x,S,C)=>{var P=C(9465),I=C(7813),j=Object.prototype.hasOwnProperty;x.exports=function(B,W,re){var ue=B[W];j.call(B,W)&&I(ue,re)&&(void 0!==re||W in B)||P(B,W,re)}},8470:(x,S,C)=>{var P=C(7813);x.exports=function(I,j){for(var B=I.length;B--;)if(P(I[B][0],j))return B;return-1}},9465:(x,S,C)=>{var P=C(8777);x.exports=function(I,j,B){"__proto__"==j&&P?P(I,j,{configurable:!0,enumerable:!0,value:B,writable:!0}):I[j]=B}},3118:(x,S,C)=>{var P=C(3218),I=Object.create,j=function(){function B(){}return function(W){if(!P(W))return{};if(I)return I(W);B.prototype=W;var re=new B;return B.prototype=void 0,re}}();x.exports=j},8483:(x,S,C)=>{var P=C(5063)();x.exports=P},7786:(x,S,C)=>{var P=C(1811),I=C(327);x.exports=function(j,B){for(var W=0,re=(B=P(B,j)).length;null!=j&&W<re;)j=j[I(B[W++])];return W&&W==re?j:void 0}},4239:(x,S,C)=>{var P=C(2705),I=C(9607),j=C(2333),B=P?P.toStringTag:void 0;x.exports=function(W){return null==W?void 0===W?"[object Undefined]":"[object Null]":B&&B in Object(W)?I(W):j(W)}},8565:x=>{var S=Object.prototype.hasOwnProperty;x.exports=function(C,P){return null!=C&&S.call(C,P)}},9454:(x,S,C)=>{var P=C(4239),I=C(7005);x.exports=function(j){return I(j)&&"[object Arguments]"==P(j)}},8458:(x,S,C)=>{var P=C(3560),I=C(5346),j=C(3218),B=C(346),W=/^\[object .+?Constructor\]$/,q=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");x.exports=function(se){return!(!j(se)||I(se))&&(P(se)?q:W).test(B(se))}},8749:(x,S,C)=>{var P=C(4239),I=C(1780),j=C(7005),B={};B["[object Float32Array]"]=B["[object Float64Array]"]=B["[object Int8Array]"]=B["[object Int16Array]"]=B["[object Int32Array]"]=B["[object Uint8Array]"]=B["[object Uint8ClampedArray]"]=B["[object Uint16Array]"]=B["[object Uint32Array]"]=!0,B["[object Arguments]"]=B["[object Array]"]=B["[object ArrayBuffer]"]=B["[object Boolean]"]=B["[object DataView]"]=B["[object Date]"]=B["[object Error]"]=B["[object Function]"]=B["[object Map]"]=B["[object Number]"]=B["[object Object]"]=B["[object RegExp]"]=B["[object Set]"]=B["[object String]"]=B["[object WeakMap]"]=!1,x.exports=function(W){return j(W)&&I(W.length)&&!!B[P(W)]}},313:(x,S,C)=>{var P=C(3218),I=C(5726),j=C(3498),B=Object.prototype.hasOwnProperty;x.exports=function(W){if(!P(W))return j(W);var re=I(W),ue=[];for(var be in W)("constructor"!=be||!re&&B.call(W,be))&&ue.push(be);return ue}},2980:(x,S,C)=>{var P=C(6384),I=C(6556),j=C(8483),B=C(9783),W=C(3218),re=C(1704),ue=C(6390);x.exports=function be(ie,q,se,Y,X){ie!==q&&j(q,function(J,N){if(X||(X=new P),W(J))B(ie,q,N,se,be,Y,X);else{var G=Y?Y(ue(ie,N),J,N+"",ie,q,X):void 0;void 0===G&&(G=J),I(ie,N,G)}},re)}},9783:(x,S,C)=>{var P=C(6556),I=C(4626),j=C(7133),B=C(278),W=C(8517),re=C(5694),ue=C(1469),be=C(9246),ie=C(4144),q=C(3560),se=C(3218),Y=C(8630),X=C(6719),J=C(6390),N=C(9881);x.exports=function(G,ee,me,De,Me,Le,ke){var Pe=J(G,me),Ae=J(ee,me),at=ke.get(Ae);if(at)P(G,me,at);else{var Be=Le?Le(Pe,Ae,me+"",G,ee,ke):void 0,$e=void 0===Be;if($e){var At=ue(Ae),Se=!At&&ie(Ae),it=!At&&!Se&&X(Ae);Be=Ae,At||Se||it?ue(Pe)?Be=Pe:be(Pe)?Be=B(Pe):Se?($e=!1,Be=I(Ae,!0)):it?($e=!1,Be=j(Ae,!0)):Be=[]:Y(Ae)||re(Ae)?(Be=Pe,re(Pe)?Be=N(Pe):se(Pe)&&!q(Pe)||(Be=W(Ae))):$e=!1}$e&&(ke.set(Ae,Be),Me(Be,Ae,De,Le,ke),ke.delete(Ae)),P(G,me,Be)}}},5976:(x,S,C)=>{var P=C(6557),I=C(5357),j=C(61);x.exports=function(B,W){return j(I(B,W,P),B+"")}},6560:(x,S,C)=>{var P=C(5703),I=C(8777),j=C(6557);x.exports=I?function(W,re){return I(W,"toString",{configurable:!0,enumerable:!1,value:P(re),writable:!0})}:j},2545:x=>{x.exports=function(S,C){for(var P=-1,I=Array(S);++P<S;)I[P]=C(P);return I}},531:(x,S,C)=>{var P=C(2705),I=C(9932),j=C(1469),B=C(3448),W=P?P.prototype:void 0,re=W?W.toString:void 0;x.exports=function ue(be){if("string"==typeof be)return be;if(j(be))return I(be,ue)+"";if(B(be))return re?re.call(be):"";var ie=be+"";return"0"==ie&&1/be==-1/0?"-0":ie}},1717:x=>{x.exports=function(S){return function(C){return S(C)}}},1811:(x,S,C)=>{var P=C(1469),I=C(5403),j=C(5514),B=C(9833);x.exports=function(W,re){return P(W)?W:I(W,re)?[W]:j(B(W))}},4318:(x,S,C)=>{var P=C(1149);x.exports=function(I){var j=new I.constructor(I.byteLength);return new P(j).set(new P(I)),j}},4626:(x,S,C)=>{x=C.nmd(x);var P=C(5639),I=S&&!S.nodeType&&S,j=I&&x&&!x.nodeType&&x,B=j&&j.exports===I?P.Buffer:void 0,W=B?B.allocUnsafe:void 0;x.exports=function(re,ue){if(ue)return re.slice();var be=re.length,ie=W?W(be):new re.constructor(be);return re.copy(ie),ie}},7133:(x,S,C)=>{var P=C(4318);x.exports=function(I,j){var B=j?P(I.buffer):I.buffer;return new I.constructor(B,I.byteOffset,I.length)}},278:x=>{x.exports=function(S,C){var P=-1,I=S.length;for(C||(C=Array(I));++P<I;)C[P]=S[P];return C}},8363:(x,S,C)=>{var P=C(4865),I=C(9465);x.exports=function(j,B,W,re){var ue=!W;W||(W={});for(var be=-1,ie=B.length;++be<ie;){var q=B[be],se=re?re(W[q],j[q],q,W,j):void 0;void 0===se&&(se=j[q]),ue?I(W,q,se):P(W,q,se)}return W}},4429:(x,S,C)=>{var P=C(5639)["__core-js_shared__"];x.exports=P},1463:(x,S,C)=>{var P=C(5976),I=C(6612);x.exports=function(j){return P(function(B,W){var re=-1,ue=W.length,be=ue>1?W[ue-1]:void 0,ie=ue>2?W[2]:void 0;for(be=j.length>3&&"function"==typeof be?(ue--,be):void 0,ie&&I(W[0],W[1],ie)&&(be=ue<3?void 0:be,ue=1),B=Object(B);++re<ue;){var q=W[re];q&&j(B,q,re,be)}return B})}},5063:x=>{x.exports=function(S){return function(C,P,I){for(var j=-1,B=Object(C),W=I(C),re=W.length;re--;){var ue=W[S?re:++j];if(!1===P(B[ue],ue,B))break}return C}}},8777:(x,S,C)=>{var P=C(852),I=function(){try{var j=P(Object,"defineProperty");return j({},"",{}),j}catch{}}();x.exports=I},1957:(x,S,C)=>{x.exports="object"==typeof C.g&&C.g&&C.g.Object===Object&&C.g},5050:(x,S,C)=>{var P=C(7019);x.exports=function(I,j){var B=I.__data__;return P(j)?B["string"==typeof j?"string":"hash"]:B.map}},852:(x,S,C)=>{var P=C(8458),I=C(7801);x.exports=function(j,B){var W=I(j,B);return P(W)?W:void 0}},5924:(x,S,C)=>{var P=C(5569)(Object.getPrototypeOf,Object);x.exports=P},9607:(x,S,C)=>{var P=C(2705),I=Object.prototype,j=I.hasOwnProperty,B=I.toString,W=P?P.toStringTag:void 0;x.exports=function(re){var ue=j.call(re,W),be=re[W];try{re[W]=void 0;var ie=!0}catch{}var q=B.call(re);return ie&&(ue?re[W]=be:delete re[W]),q}},7801:x=>{x.exports=function(S,C){return S?.[C]}},222:(x,S,C)=>{var P=C(1811),I=C(5694),j=C(1469),B=C(5776),W=C(1780),re=C(327);x.exports=function(ue,be,ie){for(var q=-1,se=(be=P(be,ue)).length,Y=!1;++q<se;){var X=re(be[q]);if(!(Y=null!=ue&&ie(ue,X)))break;ue=ue[X]}return Y||++q!=se?Y:!!(se=null==ue?0:ue.length)&&W(se)&&B(X,se)&&(j(ue)||I(ue))}},1789:(x,S,C)=>{var P=C(4536);x.exports=function(){this.__data__=P?P(null):{},this.size=0}},401:x=>{x.exports=function(S){var C=this.has(S)&&delete this.__data__[S];return this.size-=C?1:0,C}},7667:(x,S,C)=>{var P=C(4536),I=Object.prototype.hasOwnProperty;x.exports=function(j){var B=this.__data__;if(P){var W=B[j];return"__lodash_hash_undefined__"===W?void 0:W}return I.call(B,j)?B[j]:void 0}},1327:(x,S,C)=>{var P=C(4536),I=Object.prototype.hasOwnProperty;x.exports=function(j){var B=this.__data__;return P?void 0!==B[j]:I.call(B,j)}},1866:(x,S,C)=>{var P=C(4536);x.exports=function(I,j){var B=this.__data__;return this.size+=this.has(I)?0:1,B[I]=P&&void 0===j?"__lodash_hash_undefined__":j,this}},8517:(x,S,C)=>{var P=C(3118),I=C(5924),j=C(5726);x.exports=function(B){return"function"!=typeof B.constructor||j(B)?{}:P(I(B))}},5776:x=>{var S=/^(?:0|[1-9]\d*)$/;x.exports=function(C,P){var I=typeof C;return!!(P=P??9007199254740991)&&("number"==I||"symbol"!=I&&S.test(C))&&C>-1&&C%1==0&&C<P}},6612:(x,S,C)=>{var P=C(7813),I=C(8612),j=C(5776),B=C(3218);x.exports=function(W,re,ue){if(!B(ue))return!1;var be=typeof re;return!!("number"==be?I(ue)&&j(re,ue.length):"string"==be&&re in ue)&&P(ue[re],W)}},5403:(x,S,C)=>{var P=C(1469),I=C(3448),j=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,B=/^\w*$/;x.exports=function(W,re){if(P(W))return!1;var ue=typeof W;return!("number"!=ue&&"symbol"!=ue&&"boolean"!=ue&&null!=W&&!I(W))||B.test(W)||!j.test(W)||null!=re&&W in Object(re)}},7019:x=>{x.exports=function(S){var C=typeof S;return"string"==C||"number"==C||"symbol"==C||"boolean"==C?"__proto__"!==S:null===S}},5346:(x,S,C)=>{var P,I=C(4429),j=(P=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||""))?"Symbol(src)_1."+P:"";x.exports=function(B){return!!j&&j in B}},5726:x=>{var S=Object.prototype;x.exports=function(C){var P=C&&C.constructor;return C===("function"==typeof P&&P.prototype||S)}},7040:x=>{x.exports=function(){this.__data__=[],this.size=0}},4125:(x,S,C)=>{var P=C(8470),I=Array.prototype.splice;x.exports=function(j){var B=this.__data__,W=P(B,j);return!(W<0||(W==B.length-1?B.pop():I.call(B,W,1),--this.size,0))}},2117:(x,S,C)=>{var P=C(8470);x.exports=function(I){var j=this.__data__,B=P(j,I);return B<0?void 0:j[B][1]}},7518:(x,S,C)=>{var P=C(8470);x.exports=function(I){return P(this.__data__,I)>-1}},4705:(x,S,C)=>{var P=C(8470);x.exports=function(I,j){var B=this.__data__,W=P(B,I);return W<0?(++this.size,B.push([I,j])):B[W][1]=j,this}},4785:(x,S,C)=>{var P=C(1989),I=C(8407),j=C(7071);x.exports=function(){this.size=0,this.__data__={hash:new P,map:new(j||I),string:new P}}},1285:(x,S,C)=>{var P=C(5050);x.exports=function(I){var j=P(this,I).delete(I);return this.size-=j?1:0,j}},6e3:(x,S,C)=>{var P=C(5050);x.exports=function(I){return P(this,I).get(I)}},9916:(x,S,C)=>{var P=C(5050);x.exports=function(I){return P(this,I).has(I)}},5265:(x,S,C)=>{var P=C(5050);x.exports=function(I,j){var B=P(this,I),W=B.size;return B.set(I,j),this.size+=B.size==W?0:1,this}},4523:(x,S,C)=>{var P=C(8306);x.exports=function(I){var j=P(I,function(W){return 500===B.size&&B.clear(),W}),B=j.cache;return j}},4536:(x,S,C)=>{var P=C(852)(Object,"create");x.exports=P},3498:x=>{x.exports=function(S){var C=[];if(null!=S)for(var P in Object(S))C.push(P);return C}},1167:(x,S,C)=>{x=C.nmd(x);var P=C(1957),I=S&&!S.nodeType&&S,j=I&&x&&!x.nodeType&&x,B=j&&j.exports===I&&P.process,W=function(){try{return j&&j.require&&j.require("util").types||B&&B.binding&&B.binding("util")}catch{}}();x.exports=W},2333:x=>{var S=Object.prototype.toString;x.exports=function(C){return S.call(C)}},5569:x=>{x.exports=function(S,C){return function(P){return S(C(P))}}},5357:(x,S,C)=>{var P=C(6874),I=Math.max;x.exports=function(j,B,W){return B=I(void 0===B?j.length-1:B,0),function(){for(var re=arguments,ue=-1,be=I(re.length-B,0),ie=Array(be);++ue<be;)ie[ue]=re[B+ue];ue=-1;for(var q=Array(B+1);++ue<B;)q[ue]=re[ue];return q[B]=W(ie),P(j,this,q)}}},5639:(x,S,C)=>{var P=C(1957),I="object"==typeof self&&self&&self.Object===Object&&self,j=P||I||Function("return this")();x.exports=j},6390:x=>{x.exports=function(S,C){if(("constructor"!==C||"function"!=typeof S[C])&&"__proto__"!=C)return S[C]}},61:(x,S,C)=>{var P=C(6560),I=C(1275)(P);x.exports=I},1275:x=>{var S=Date.now;x.exports=function(C){var P=0,I=0;return function(){var j=S(),B=16-(j-I);if(I=j,B>0){if(++P>=800)return arguments[0]}else P=0;return C.apply(void 0,arguments)}}},7465:(x,S,C)=>{var P=C(8407);x.exports=function(){this.__data__=new P,this.size=0}},3779:x=>{x.exports=function(S){var C=this.__data__,P=C.delete(S);return this.size=C.size,P}},7599:x=>{x.exports=function(S){return this.__data__.get(S)}},4758:x=>{x.exports=function(S){return this.__data__.has(S)}},4309:(x,S,C)=>{var P=C(8407),I=C(7071),j=C(3369);x.exports=function(B,W){var re=this.__data__;if(re instanceof P){var ue=re.__data__;if(!I||ue.length<199)return ue.push([B,W]),this.size=++re.size,this;re=this.__data__=new j(ue)}return re.set(B,W),this.size=re.size,this}},5514:(x,S,C)=>{var P=C(4523),I=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,j=/\\(\\)?/g,B=P(function(W){var re=[];return 46===W.charCodeAt(0)&&re.push(""),W.replace(I,function(ue,be,ie,q){re.push(ie?q.replace(j,"$1"):be||ue)}),re});x.exports=B},327:(x,S,C)=>{var P=C(3448);x.exports=function(I){if("string"==typeof I||P(I))return I;var j=I+"";return"0"==j&&1/I==-1/0?"-0":j}},346:x=>{var S=Function.prototype.toString;x.exports=function(C){if(null!=C){try{return S.call(C)}catch{}try{return C+""}catch{}}return""}},5703:x=>{x.exports=function(S){return function(){return S}}},7813:x=>{x.exports=function(S,C){return S===C||S!=S&&C!=C}},7361:(x,S,C)=>{var P=C(7786);x.exports=function(I,j,B){var W=null==I?void 0:P(I,j);return void 0===W?B:W}},8721:(x,S,C)=>{var P=C(8565),I=C(222);x.exports=function(j,B){return null!=j&&I(j,B,P)}},6557:x=>{x.exports=function(S){return S}},5694:(x,S,C)=>{var P=C(9454),I=C(7005),j=Object.prototype,B=j.hasOwnProperty,W=j.propertyIsEnumerable,re=P(function(){return arguments}())?P:function(ue){return I(ue)&&B.call(ue,"callee")&&!W.call(ue,"callee")};x.exports=re},1469:x=>{x.exports=Array.isArray},8612:(x,S,C)=>{var P=C(3560),I=C(1780);x.exports=function(j){return null!=j&&I(j.length)&&!P(j)}},9246:(x,S,C)=>{var P=C(8612),I=C(7005);x.exports=function(j){return I(j)&&P(j)}},4144:(x,S,C)=>{x=C.nmd(x);var P=C(5639),I=C(5062),j=S&&!S.nodeType&&S,B=j&&x&&!x.nodeType&&x,W=B&&B.exports===j?P.Buffer:void 0;x.exports=(W?W.isBuffer:void 0)||I},3560:(x,S,C)=>{var P=C(4239),I=C(3218);x.exports=function(j){if(!I(j))return!1;var B=P(j);return"[object Function]"==B||"[object GeneratorFunction]"==B||"[object AsyncFunction]"==B||"[object Proxy]"==B}},1780:x=>{x.exports=function(S){return"number"==typeof S&&S>-1&&S%1==0&&S<=9007199254740991}},3218:x=>{x.exports=function(S){var C=typeof S;return null!=S&&("object"==C||"function"==C)}},7005:x=>{x.exports=function(S){return null!=S&&"object"==typeof S}},8630:(x,S,C)=>{var P=C(4239),I=C(5924),j=C(7005),re=Function.prototype.toString,ue=Object.prototype.hasOwnProperty,be=re.call(Object);x.exports=function(ie){if(!j(ie)||"[object Object]"!=P(ie))return!1;var q=I(ie);if(null===q)return!0;var se=ue.call(q,"constructor")&&q.constructor;return"function"==typeof se&&se instanceof se&&re.call(se)==be}},3448:(x,S,C)=>{var P=C(4239),I=C(7005);x.exports=function(j){return"symbol"==typeof j||I(j)&&"[object Symbol]"==P(j)}},6719:(x,S,C)=>{var P=C(8749),I=C(1717),j=C(1167),B=j&&j.isTypedArray,W=B?I(B):P;x.exports=W},1704:(x,S,C)=>{var P=C(4636),I=C(313),j=C(8612);x.exports=function(B){return j(B)?P(B,!0):I(B)}},8306:(x,S,C)=>{var P=C(3369);function I(j,B){if("function"!=typeof j||null!=B&&"function"!=typeof B)throw new TypeError("Expected a function");var W=function(){var re=arguments,ue=B?B.apply(this,re):re[0],be=W.cache;if(be.has(ue))return be.get(ue);var ie=j.apply(this,re);return W.cache=be.set(ue,ie)||be,ie};return W.cache=new(I.Cache||P),W}I.Cache=P,x.exports=I},2492:(x,S,C)=>{var P=C(2980),I=C(1463)(function(j,B,W){P(j,B,W)});x.exports=I},5062:x=>{x.exports=function(){return!1}},9881:(x,S,C)=>{var P=C(8363),I=C(1704);x.exports=function(j){return P(j,I(j))}},9833:(x,S,C)=>{var P=C(531);x.exports=function(I){return null==I?"":P(I)}},2676:function(x){x.exports=function(){"use strict";function S(V,w){if(!(V instanceof w))throw new TypeError("Cannot call a class as a function")}function C(V,w){for(var E=0;E<w.length;E++){var R=w[E];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(V,R.key,R)}}function P(V,w,E){return w&&C(V.prototype,w),E&&C(V,E),V}var I=function V(w,E){this.next=null,this.key=w,this.data=E,this.left=null,this.right=null};function j(V,w){return V>w?1:V<w?-1:0}function B(V,w,E){for(var R=new I(null,null),$=R,Z=R;;){var he=E(V,w.key);if(he<0){if(null===w.left)break;if(E(V,w.left.key)<0){var ce=w.left;if(w.left=ce.right,ce.right=w,null===(w=ce).left)break}Z.left=w,Z=w,w=w.left}else{if(!(he>0)||null===w.right||E(V,w.right.key)>0&&(w.right=(ce=w.right).left,ce.left=w,null===(w=ce).right))break;$.right=w,$=w,w=w.right}}return $.right=w.left,Z.left=w.right,w.left=R.right,w.right=R.left,w}function W(V,w,E,R){var $=new I(V,w);if(null===E)return $.left=$.right=null,$;var Z=R(V,(E=B(V,E,R)).key);return Z<0?($.left=E.left,$.right=E,E.left=null):Z>=0&&($.right=E.right,$.left=E,E.right=null),$}function re(V,w,E){var R=null,$=null;if(w){var Z=E((w=B(V,w,E)).key,V);0===Z?(R=w.left,$=w.right):Z<0?($=w.right,w.right=null,R=w):(R=w.left,w.left=null,$=w)}return{left:R,right:$}}function be(V,w,E,R,$){if(V){R(w+(E?"\u2514\u2500\u2500 ":"\u251c\u2500\u2500 ")+$(V)+"\n");var Z=w+(E?"    ":"\u2502   ");V.left&&be(V.left,Z,!1,R,$),V.right&&be(V.right,Z,!0,R,$)}}var ie=function(){function V(w){void 0===w&&(w=j),this._root=null,this._size=0,this._comparator=w}return V.prototype.insert=function(w,E){return this._size++,this._root=W(w,E,this._root,this._comparator)},V.prototype.add=function(w,E){var R=new I(w,E);null===this._root&&(R.left=R.right=null,this._size++,this._root=R);var $=this._comparator,Z=B(w,this._root,$),he=$(w,Z.key);return 0===he?this._root=Z:(he<0?(R.left=Z.left,R.right=Z,Z.left=null):he>0&&(R.right=Z.right,R.left=Z,Z.right=null),this._size++,this._root=R),this._root},V.prototype.remove=function(w){this._root=this._remove(w,this._root,this._comparator)},V.prototype._remove=function(w,E,R){var $;return null===E?null:0===R(w,(E=B(w,E,R)).key)?(null===E.left?$=E.right:($=B(w,E.left,R)).right=E.right,this._size--,$):E},V.prototype.pop=function(){var w=this._root;if(w){for(;w.left;)w=w.left;return this._root=B(w.key,this._root,this._comparator),this._root=this._remove(w.key,this._root,this._comparator),{key:w.key,data:w.data}}return null},V.prototype.findStatic=function(w){for(var E=this._root,R=this._comparator;E;){var $=R(w,E.key);if(0===$)return E;E=$<0?E.left:E.right}return null},V.prototype.find=function(w){return this._root&&(this._root=B(w,this._root,this._comparator),0!==this._comparator(w,this._root.key))?null:this._root},V.prototype.contains=function(w){for(var E=this._root,R=this._comparator;E;){var $=R(w,E.key);if(0===$)return!0;E=$<0?E.left:E.right}return!1},V.prototype.forEach=function(w,E){for(var R=this._root,$=[],Z=!1;!Z;)null!==R?($.push(R),R=R.left):0!==$.length?(R=$.pop(),w.call(E,R),R=R.right):Z=!0;return this},V.prototype.range=function(w,E,R,$){for(var Z=[],he=this._comparator,ce=this._root;0!==Z.length||ce;)if(ce)Z.push(ce),ce=ce.left;else{if(he((ce=Z.pop()).key,E)>0)break;if(he(ce.key,w)>=0&&R.call($,ce))return this;ce=ce.right}return this},V.prototype.keys=function(){var w=[];return this.forEach(function(E){return w.push(E.key)}),w},V.prototype.values=function(){var w=[];return this.forEach(function(E){return w.push(E.data)}),w},V.prototype.min=function(){return this._root?this.minNode(this._root).key:null},V.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},V.prototype.minNode=function(w){if(void 0===w&&(w=this._root),w)for(;w.left;)w=w.left;return w},V.prototype.maxNode=function(w){if(void 0===w&&(w=this._root),w)for(;w.right;)w=w.right;return w},V.prototype.at=function(w){for(var E=this._root,R=!1,$=0,Z=[];!R;)if(E)Z.push(E),E=E.left;else if(Z.length>0){if(E=Z.pop(),$===w)return E;$++,E=E.right}else R=!0;return null},V.prototype.next=function(w){var E=this._root,R=null;if(w.right){for(R=w.right;R.left;)R=R.left;return R}for(var $=this._comparator;E;){var Z=$(w.key,E.key);if(0===Z)break;Z<0?(R=E,E=E.left):E=E.right}return R},V.prototype.prev=function(w){var E=this._root,R=null;if(null!==w.left){for(R=w.left;R.right;)R=R.right;return R}for(var $=this._comparator;E;){var Z=$(w.key,E.key);if(0===Z)break;Z<0?E=E.left:(R=E,E=E.right)}return R},V.prototype.clear=function(){return this._root=null,this._size=0,this},V.prototype.toList=function(){return function Y(V){for(var w=V,E=[],R=!1,$=new I(null,null),Z=$;!R;)w?(E.push(w),w=w.left):E.length>0?w=(w=Z=Z.next=E.pop()).right:R=!0;return Z.next=null,$.next}(this._root)},V.prototype.load=function(w,E,R){void 0===E&&(E=[]),void 0===R&&(R=!1);var $=w.length,Z=this._comparator;if(R&&N(w,E,0,$-1,Z),null===this._root)this._root=q(w,E,0,$),this._size=$;else{var he=function J(V,w,E){for(var R=new I(null,null),$=R,Z=V,he=w;null!==Z&&null!==he;)E(Z.key,he.key)<0?($.next=Z,Z=Z.next):($.next=he,he=he.next),$=$.next;return null!==Z?$.next=Z:null!==he&&($.next=he),R.next}(this.toList(),function se(V,w){for(var E=new I(null,null),R=E,$=0;$<V.length;$++)R=R.next=new I(V[$],w[$]);return R.next=null,E.next}(w,E),Z);this._root=X({head:he},0,$=this._size+$)}return this},V.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(V.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),V.prototype.toString=function(w){void 0===w&&(w=function(R){return String(R.key)});var E=[];return be(this._root,"",!0,function(R){return E.push(R)},w),E.join("")},V.prototype.update=function(w,E,R){var $=this._comparator,Z=re(w,this._root,$),he=Z.left,ce=Z.right;$(w,E)<0?ce=W(E,R,ce,$):he=W(E,R,he,$),this._root=function ue(V,w,E){return null===w?V:(null===V||((w=B(V.key,w,E)).left=V),w)}(he,ce,$)},V.prototype.split=function(w){return re(w,this._root,this._comparator)},V}();function q(V,w,E,R){var $=R-E;if($>0){var Z=E+Math.floor($/2),Ce=new I(V[Z],w[Z]);return Ce.left=q(V,w,E,Z),Ce.right=q(V,w,Z+1,R),Ce}return null}function X(V,w,E){var R=E-w;if(R>0){var $=w+Math.floor(R/2),Z=X(V,w,$),he=V.head;return he.left=Z,V.head=V.head.next,he.right=X(V,$+1,E),he}return null}function N(V,w,E,R,$){if(!(E>=R)){for(var Z=V[E+R>>1],he=E-1,ce=R+1;;){do{he++}while($(V[he],Z)<0);do{ce--}while($(V[ce],Z)>0);if(he>=ce)break;var Ce=V[he];V[he]=V[ce],V[ce]=Ce,Ce=w[he],w[he]=w[ce],w[ce]=Ce}N(V,w,E,ce,$),N(V,w,ce+1,R,$)}}var G=function(V,w){return V.ll.x<=w.x&&w.x<=V.ur.x&&V.ll.y<=w.y&&w.y<=V.ur.y},ee=function(V,w){return w.ur.x<V.ll.x||V.ur.x<w.ll.x||w.ur.y<V.ll.y||V.ur.y<w.ll.y?null:{ll:{x:V.ll.x<w.ll.x?w.ll.x:V.ll.x,y:V.ll.y<w.ll.y?w.ll.y:V.ll.y},ur:{x:V.ur.x<w.ur.x?V.ur.x:w.ur.x,y:V.ur.y<w.ur.y?V.ur.y:w.ur.y}}},me=Number.EPSILON;void 0===me&&(me=Math.pow(2,-52));var De=me*me,Me=function(V,w){if(-me<V&&V<me&&-me<w&&w<me)return 0;var E=V-w;return E*E<De*V*w?0:V<w?-1:1},Le=function(){function V(){S(this,V),this.reset()}return P(V,[{key:"reset",value:function(){this.xRounder=new ke,this.yRounder=new ke}},{key:"round",value:function(w,E){return{x:this.xRounder.round(w),y:this.yRounder.round(E)}}}]),V}(),ke=function(){function V(){S(this,V),this.tree=new ie,this.round(0)}return P(V,[{key:"round",value:function(w){var E=this.tree.add(w),R=this.tree.prev(E);if(null!==R&&0===Me(E.key,R.key))return this.tree.remove(w),R.key;var $=this.tree.next(E);return null!==$&&0===Me(E.key,$.key)?(this.tree.remove(w),$.key):w}}]),V}(),Pe=new Le,Ae=function(V,w){return V.x*w.y-V.y*w.x},at=function(V,w){return V.x*w.x+V.y*w.y},Be=function(V,w,E){var Z=Ae({x:w.x-V.x,y:w.y-V.y},{x:E.x-V.x,y:E.y-V.y});return Me(Z,0)},$e=function(V){return Math.sqrt(at(V,V))},At=function(V,w,E){var R={x:w.x-V.x,y:w.y-V.y},$={x:E.x-V.x,y:E.y-V.y};return Ae($,R)/$e($)/$e(R)},Se=function(V,w,E){var R={x:w.x-V.x,y:w.y-V.y},$={x:E.x-V.x,y:E.y-V.y};return at($,R)/$e($)/$e(R)},it=function(V,w,E){return 0===w.y?null:{x:V.x+w.x/w.y*(E-V.y),y:E}},ze=function(V,w,E){return 0===w.x?null:{x:E,y:V.y+w.y/w.x*(E-V.x)}},gt=function(){function V(w,E){S(this,V),void 0===w.events?w.events=[this]:w.events.push(this),this.point=w,this.isLeft=E}return P(V,null,[{key:"compare",value:function(w,E){var R=V.comparePoints(w.point,E.point);return 0!==R?R:(w.point!==E.point&&w.link(E),w.isLeft!==E.isLeft?w.isLeft?1:-1:St.compare(w.segment,E.segment))}},{key:"comparePoints",value:function(w,E){return w.x<E.x?-1:w.x>E.x?1:w.y<E.y?-1:w.y>E.y?1:0}}]),P(V,[{key:"link",value:function(w){if(w.point===this.point)throw new Error("Tried to link already linked events");for(var E=w.point.events,R=0,$=E.length;R<$;R++){var Z=E[R];this.point.events.push(Z),Z.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var w=this.point.events.length,E=0;E<w;E++){var R=this.point.events[E];if(void 0===R.segment.consumedBy)for(var $=E+1;$<w;$++){var Z=this.point.events[$];void 0===Z.consumedBy&&R.otherSE.point.events===Z.otherSE.point.events&&R.segment.consume(Z.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var w=[],E=0,R=this.point.events.length;E<R;E++){var $=this.point.events[E];$!==this&&!$.segment.ringOut&&$.segment.isInResult()&&w.push($)}return w}},{key:"getLeftmostComparator",value:function(w){var E=this,R=new Map,$=function(Z){var he=Z.otherSE;R.set(Z,{sine:At(E.point,w.point,he.point),cosine:Se(E.point,w.point,he.point)})};return function(Z,he){R.has(Z)||$(Z),R.has(he)||$(he);var ce=R.get(Z),Ce=ce.sine,qe=ce.cosine,ht=R.get(he),Ct=ht.sine,ot=ht.cosine;return Ce>=0&&Ct>=0?qe<ot?1:qe>ot?-1:0:Ce<0&&Ct<0?qe<ot?-1:qe>ot?1:0:Ct<Ce?-1:Ct>Ce?1:0}}}]),V}(),Qt=0,St=function(){function V(w,E,R,$){S(this,V),this.id=++Qt,this.leftSE=w,w.segment=this,w.otherSE=E,this.rightSE=E,E.segment=this,E.otherSE=w,this.rings=R,this.windings=$}return P(V,null,[{key:"compare",value:function(w,E){var R=w.leftSE.point.x,$=E.leftSE.point.x,Z=w.rightSE.point.x,he=E.rightSE.point.x;if(he<R)return 1;if(Z<$)return-1;var ce=w.leftSE.point.y,Ce=E.leftSE.point.y,qe=w.rightSE.point.y,ht=E.rightSE.point.y;if(R<$){if(Ce<ce&&Ce<qe)return 1;if(Ce>ce&&Ce>qe)return-1;var Ct=w.comparePoint(E.leftSE.point);if(Ct<0)return 1;if(Ct>0)return-1;var ot=E.comparePoint(w.rightSE.point);return 0!==ot?ot:-1}if(R>$){if(ce<Ce&&ce<ht)return-1;if(ce>Ce&&ce>ht)return 1;var zt=E.comparePoint(w.leftSE.point);if(0!==zt)return zt;var mt=w.comparePoint(E.rightSE.point);return mt<0?1:mt>0?-1:1}if(ce<Ce)return-1;if(ce>Ce)return 1;if(Z<he){var Ft=E.comparePoint(w.rightSE.point);if(0!==Ft)return Ft}if(Z>he){var Yt=w.comparePoint(E.rightSE.point);if(Yt<0)return 1;if(Yt>0)return-1}if(Z!==he){var sn=qe-ce,nn=Z-R,En=ht-Ce,xn=he-$;if(sn>nn&&En<xn)return 1;if(sn<nn&&En>xn)return-1}return Z>he?1:Z<he||qe<ht?-1:qe>ht?1:w.id<E.id?-1:w.id>E.id?1:0}}]),P(V,[{key:"replaceRightSE",value:function(w){this.rightSE=w,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var w=this.leftSE.point.y,E=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:w<E?w:E},ur:{x:this.rightSE.point.x,y:w>E?w:E}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(w){return w.x===this.leftSE.point.x&&w.y===this.leftSE.point.y||w.x===this.rightSE.point.x&&w.y===this.rightSE.point.y}},{key:"comparePoint",value:function(w){if(this.isAnEndpoint(w))return 0;var E=this.leftSE.point,R=this.rightSE.point,$=this.vector();if(E.x===R.x)return w.x===E.x?0:w.x<E.x?1:-1;if(w.x===E.x+(w.y-E.y)/$.y*$.x)return 0;var Ce=E.y+(w.x-E.x)/$.x*$.y;return w.y===Ce?0:w.y<Ce?-1:1}},{key:"getIntersection",value:function(w){var E=this.bbox(),R=w.bbox(),$=ee(E,R);if(null===$)return null;var Z=this.leftSE.point,he=this.rightSE.point,ce=w.leftSE.point,Ce=w.rightSE.point,qe=G(E,ce)&&0===this.comparePoint(ce),ht=G(R,Z)&&0===w.comparePoint(Z),Ct=G(E,Ce)&&0===this.comparePoint(Ce),ot=G(R,he)&&0===w.comparePoint(he);if(ht&&qe)return ot&&!Ct?he:!ot&&Ct?Ce:null;if(ht)return Ct&&Z.x===Ce.x&&Z.y===Ce.y?null:Z;if(qe)return ot&&he.x===ce.x&&he.y===ce.y?null:ce;if(ot&&Ct)return null;if(ot)return he;if(Ct)return Ce;var zt=function(V,w,E,R){if(0===w.x)return ze(E,R,V.x);if(0===R.x)return ze(V,w,E.x);if(0===w.y)return it(E,R,V.y);if(0===R.y)return it(V,w,E.y);var $=Ae(w,R);if(0==$)return null;var Z={x:E.x-V.x,y:E.y-V.y},he=Ae(Z,w)/$,ce=Ae(Z,R)/$;return{x:(V.x+ce*w.x+(E.x+he*R.x))/2,y:(V.y+ce*w.y+(E.y+he*R.y))/2}}(Z,this.vector(),ce,w.vector());return null===zt?null:G($,zt)?Pe.round(zt.x,zt.y):null}},{key:"split",value:function(w){var E=[],R=void 0!==w.events,$=new gt(w,!0),Z=new gt(w,!1),he=this.rightSE;this.replaceRightSE(Z),E.push(Z),E.push($);var ce=new V($,he,this.rings.slice(),this.windings.slice());return gt.comparePoints(ce.leftSE.point,ce.rightSE.point)>0&&ce.swapEvents(),gt.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),R&&($.checkForConsuming(),Z.checkForConsuming()),E}},{key:"swapEvents",value:function(){var w=this.rightSE;this.rightSE=this.leftSE,this.leftSE=w,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var E=0,R=this.windings.length;E<R;E++)this.windings[E]*=-1}},{key:"consume",value:function(w){for(var E=this,R=w;E.consumedBy;)E=E.consumedBy;for(;R.consumedBy;)R=R.consumedBy;var $=V.compare(E,R);if(0!==$){if($>0){var Z=E;E=R,R=Z}if(E.prev===R){var he=E;E=R,R=he}for(var ce=0,Ce=R.rings.length;ce<Ce;ce++){var qe=R.rings[ce],ht=R.windings[ce],Ct=E.rings.indexOf(qe);-1===Ct?(E.rings.push(qe),E.windings.push(ht)):E.windings[Ct]+=ht}R.rings=null,R.windings=null,R.consumedBy=E,R.leftSE.consumedBy=E.leftSE,R.rightSE.consumedBy=E.rightSE}}},{key:"prevInResult",value:function(){return void 0!==this._prevInResult||(this._prevInResult=this.prev?this.prev.isInResult()?this.prev:this.prev.prevInResult():null),this._prevInResult}},{key:"beforeState",value:function(){return void 0!==this._beforeState||(this._beforeState=this.prev?(this.prev.consumedBy||this.prev).afterState():{rings:[],windings:[],multiPolys:[]}),this._beforeState}},{key:"afterState",value:function(){if(void 0!==this._afterState)return this._afterState;var w=this.beforeState();this._afterState={rings:w.rings.slice(0),windings:w.windings.slice(0),multiPolys:[]};for(var E=this._afterState.rings,R=this._afterState.windings,$=this._afterState.multiPolys,Z=0,he=this.rings.length;Z<he;Z++){var ce=this.rings[Z],Ce=this.windings[Z],qe=E.indexOf(ce);-1===qe?(E.push(ce),R.push(Ce)):R[qe]+=Ce}for(var ht=[],Ct=[],ot=0,zt=E.length;ot<zt;ot++)if(0!==R[ot]){var mt=E[ot],Ft=mt.poly;if(-1===Ct.indexOf(Ft))if(mt.isExterior)ht.push(Ft);else{-1===Ct.indexOf(Ft)&&Ct.push(Ft);var Yt=ht.indexOf(mt.poly);-1!==Yt&&ht.splice(Yt,1)}}for(var sn=0,nn=ht.length;sn<nn;sn++){var En=ht[sn].multiPoly;-1===$.indexOf(En)&&$.push(En)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var w=this.beforeState().multiPolys,E=this.afterState().multiPolys;switch(kn.type){case"union":this._isInResult=0===w.length!=(0===E.length);break;case"intersection":var Z,he;w.length<E.length?(Z=w.length,he=E.length):(Z=E.length,he=w.length),this._isInResult=he===kn.numMultiPolys&&Z<he;break;case"xor":var ce=Math.abs(w.length-E.length);this._isInResult=ce%2==1;break;case"difference":var Ce=function(qe){return 1===qe.length&&qe[0].isSubject};this._isInResult=Ce(w)!==Ce(E);break;default:throw new Error("Unrecognized operation type found ".concat(kn.type))}return this._isInResult}}],[{key:"fromRing",value:function(w,E,R){var $,Z,he,ce=gt.comparePoints(w,E);if(ce<0)$=w,Z=E,he=1;else{if(!(ce>0))throw new Error("Tried to create degenerate segment at [".concat(w.x,", ").concat(w.y,"]"));$=E,Z=w,he=-1}return new V(new gt($,!0),new gt(Z,!1),[R],[he])}}]),V}(),Lt=function(){function V(w,E,R){if(S(this,V),!Array.isArray(w)||0===w.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=E,this.isExterior=R,this.segments=[],"number"!=typeof w[0][0]||"number"!=typeof w[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var $=Pe.round(w[0][0],w[0][1]);this.bbox={ll:{x:$.x,y:$.y},ur:{x:$.x,y:$.y}};for(var Z=$,he=1,ce=w.length;he<ce;he++){if("number"!=typeof w[he][0]||"number"!=typeof w[he][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var Ce=Pe.round(w[he][0],w[he][1]);Ce.x===Z.x&&Ce.y===Z.y||(this.segments.push(St.fromRing(Z,Ce,this)),Ce.x<this.bbox.ll.x&&(this.bbox.ll.x=Ce.x),Ce.y<this.bbox.ll.y&&(this.bbox.ll.y=Ce.y),Ce.x>this.bbox.ur.x&&(this.bbox.ur.x=Ce.x),Ce.y>this.bbox.ur.y&&(this.bbox.ur.y=Ce.y),Z=Ce)}$.x===Z.x&&$.y===Z.y||this.segments.push(St.fromRing(Z,$,this))}return P(V,[{key:"getSweepEvents",value:function(){for(var w=[],E=0,R=this.segments.length;E<R;E++){var $=this.segments[E];w.push($.leftSE),w.push($.rightSE)}return w}}]),V}(),bt=function(){function V(w,E){if(S(this,V),!Array.isArray(w))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Lt(w[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var R=1,$=w.length;R<$;R++){var Z=new Lt(w[R],this,!1);Z.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=Z.bbox.ll.x),Z.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=Z.bbox.ll.y),Z.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=Z.bbox.ur.x),Z.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=Z.bbox.ur.y),this.interiorRings.push(Z)}this.multiPoly=E}return P(V,[{key:"getSweepEvents",value:function(){for(var w=this.exteriorRing.getSweepEvents(),E=0,R=this.interiorRings.length;E<R;E++)for(var $=this.interiorRings[E].getSweepEvents(),Z=0,he=$.length;Z<he;Z++)w.push($[Z]);return w}}]),V}(),Tt=function(){function V(w,E){if(S(this,V),!Array.isArray(w))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof w[0][0][0]&&(w=[w])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var R=0,$=w.length;R<$;R++){var Z=new bt(w[R],this);Z.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=Z.bbox.ll.x),Z.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=Z.bbox.ll.y),Z.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=Z.bbox.ur.x),Z.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=Z.bbox.ur.y),this.polys.push(Z)}this.isSubject=E}return P(V,[{key:"getSweepEvents",value:function(){for(var w=[],E=0,R=this.polys.length;E<R;E++)for(var $=this.polys[E].getSweepEvents(),Z=0,he=$.length;Z<he;Z++)w.push($[Z]);return w}}]),V}(),wt=function(){function V(w){S(this,V),this.events=w;for(var E=0,R=w.length;E<R;E++)w[E].segment.ringOut=this;this.poly=null}return P(V,null,[{key:"factory",value:function(w){for(var E=[],R=0,$=w.length;R<$;R++){var Z=w[R];if(Z.isInResult()&&!Z.ringOut){for(var he=null,ce=Z.leftSE,Ce=Z.rightSE,qe=[ce],ht=ce.point,Ct=[];he=ce,qe.push(ce=Ce),ce.point!==ht;)for(;;){var ot=ce.getAvailableLinkedEvents();if(0===ot.length){var zt=qe[0].point,mt=qe[qe.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(zt.x,",")+" ".concat(zt.y,"]. Last matching segment found ends at")+" [".concat(mt.x,", ").concat(mt.y,"]."))}if(1===ot.length){Ce=ot[0].otherSE;break}for(var Ft=null,Yt=0,sn=Ct.length;Yt<sn;Yt++)if(Ct[Yt].point===ce.point){Ft=Yt;break}if(null===Ft){Ct.push({index:qe.length,point:ce.point});var nn=ce.getLeftmostComparator(he);Ce=ot.sort(nn)[0].otherSE;break}var En=Ct.splice(Ft)[0],xn=qe.splice(En.index);xn.unshift(xn[0].otherSE),E.push(new V(xn.reverse()))}E.push(new V(qe))}}return E}}]),P(V,[{key:"getGeom",value:function(){for(var w=this.events[0].point,E=[w],R=1,$=this.events.length-1;R<$;R++){var Z=this.events[R].point;0!==Be(Z,w,this.events[R+1].point)&&(E.push(Z),w=Z)}if(1===E.length)return null;0===Be(E[0],w,E[1])&&E.shift(),E.push(E[0]);for(var qe=this.isExteriorRing()?1:-1,ht=this.isExteriorRing()?0:E.length-1,Ct=this.isExteriorRing()?E.length:-1,ot=[],zt=ht;zt!=Ct;zt+=qe)ot.push([E[zt].x,E[zt].y]);return ot}},{key:"isExteriorRing",value:function(){if(void 0===this._isExteriorRing){var w=this.enclosingRing();this._isExteriorRing=!w||!w.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var w=this.events[0],E=1,R=this.events.length;E<R;E++){var $=this.events[E];gt.compare(w,$)>0&&(w=$)}for(var Z=w.segment.prevInResult(),he=Z?Z.prevInResult():null;;){if(!Z)return null;if(!he)return Z.ringOut;if(he.ringOut!==Z.ringOut)return he.ringOut.enclosingRing()!==Z.ringOut?Z.ringOut:Z.ringOut.enclosingRing();Z=he.prevInResult(),he=Z?Z.prevInResult():null}}}]),V}(),fi=function(){function V(w){S(this,V),this.exteriorRing=w,w.poly=this,this.interiorRings=[]}return P(V,[{key:"addInterior",value:function(w){this.interiorRings.push(w),w.poly=this}},{key:"getGeom",value:function(){var w=[this.exteriorRing.getGeom()];if(null===w[0])return null;for(var E=0,R=this.interiorRings.length;E<R;E++){var $=this.interiorRings[E].getGeom();null!==$&&w.push($)}return w}}]),V}(),Ye=function(){function V(w){S(this,V),this.rings=w,this.polys=this._composePolys(w)}return P(V,[{key:"getGeom",value:function(){for(var w=[],E=0,R=this.polys.length;E<R;E++){var $=this.polys[E].getGeom();null!==$&&w.push($)}return w}},{key:"_composePolys",value:function(w){for(var E=[],R=0,$=w.length;R<$;R++){var Z=w[R];if(!Z.poly)if(Z.isExteriorRing())E.push(new fi(Z));else{var he=Z.enclosingRing();he.poly||E.push(new fi(he)),he.poly.addInterior(Z)}}return E}}]),V}(),Gr=function(){function V(w){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:St.compare;S(this,V),this.queue=w,this.tree=new ie(E),this.segments=[]}return P(V,[{key:"process",value:function(w){var E=w.segment,R=[];if(w.consumedBy)return w.isLeft?this.queue.remove(w.otherSE):this.tree.remove(E),R;var $=w.isLeft?this.tree.insert(E):this.tree.find(E);if(!$)throw new Error("Unable to find segment #".concat(E.id," ")+"[".concat(E.leftSE.point.x,", ").concat(E.leftSE.point.y,"] -> ")+"[".concat(E.rightSE.point.x,", ").concat(E.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var Z=$,he=$,ce=void 0,Ce=void 0;void 0===ce;)null===(Z=this.tree.prev(Z))?ce=null:void 0===Z.key.consumedBy&&(ce=Z.key);for(;void 0===Ce;)null===(he=this.tree.next(he))?Ce=null:void 0===he.key.consumedBy&&(Ce=he.key);if(w.isLeft){var qe=null;if(ce){var ht=ce.getIntersection(E);if(null!==ht&&(E.isAnEndpoint(ht)||(qe=ht),!ce.isAnEndpoint(ht)))for(var Ct=this._splitSafely(ce,ht),ot=0,zt=Ct.length;ot<zt;ot++)R.push(Ct[ot])}var mt=null;if(Ce){var Ft=Ce.getIntersection(E);if(null!==Ft&&(E.isAnEndpoint(Ft)||(mt=Ft),!Ce.isAnEndpoint(Ft)))for(var Yt=this._splitSafely(Ce,Ft),sn=0,nn=Yt.length;sn<nn;sn++)R.push(Yt[sn])}if(null!==qe||null!==mt){var En;En=null===qe?mt:null===mt||gt.comparePoints(qe,mt)<=0?qe:mt,this.queue.remove(E.rightSE),R.push(E.rightSE);for(var xn=E.split(En),yr=0,sr=xn.length;yr<sr;yr++)R.push(xn[yr])}R.length>0?(this.tree.remove(E),R.push(w)):(this.segments.push(E),E.prev=ce)}else{if(ce&&Ce){var Cn=ce.getIntersection(Ce);if(null!==Cn){if(!ce.isAnEndpoint(Cn))for(var Nn=this._splitSafely(ce,Cn),ar=0,kr=Nn.length;ar<kr;ar++)R.push(Nn[ar]);if(!Ce.isAnEndpoint(Cn))for(var pn=this._splitSafely(Ce,Cn),an=0,vr=pn.length;an<vr;an++)R.push(pn[an])}}this.tree.remove(E)}return R}},{key:"_splitSafely",value:function(w,E){this.tree.remove(w);var R=w.rightSE;this.queue.remove(R);var $=w.split(E);return $.push(R),void 0===w.consumedBy&&this.tree.insert(w),$}}]),V}(),Zr=typeof process<"u"&&process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,qr=typeof process<"u"&&process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,kn=new(function(){function V(){S(this,V)}return P(V,[{key:"run",value:function(w,E,R){kn.type=w,Pe.reset();for(var $=[new Tt(E,!0)],Z=0,he=R.length;Z<he;Z++)$.push(new Tt(R[Z],!1));if(kn.numMultiPolys=$.length,"difference"===kn.type)for(var ce=$[0],Ce=1;Ce<$.length;)null!==ee($[Ce].bbox,ce.bbox)?Ce++:$.splice(Ce,1);if("intersection"===kn.type)for(var qe=0,ht=$.length;qe<ht;qe++)for(var Ct=$[qe],ot=qe+1,zt=$.length;ot<zt;ot++)if(null===ee(Ct.bbox,$[ot].bbox))return[];for(var mt=new ie(gt.compare),Ft=0,Yt=$.length;Ft<Yt;Ft++)for(var sn=$[Ft].getSweepEvents(),nn=0,En=sn.length;nn<En;nn++)if(mt.insert(sn[nn]),mt.size>Zr)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var xn=new Gr(mt),yr=mt.size,sr=mt.pop();sr;){var Cn=sr.key;if(mt.size===yr){var Nn=Cn.segment;throw new Error("Unable to pop() ".concat(Cn.isLeft?"left":"right"," SweepEvent ")+"[".concat(Cn.point.x,", ").concat(Cn.point.y,"] from segment #").concat(Nn.id," ")+"[".concat(Nn.leftSE.point.x,", ").concat(Nn.leftSE.point.y,"] -> ")+"[".concat(Nn.rightSE.point.x,", ").concat(Nn.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(mt.size>Zr)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(xn.segments.length>qr)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var ar=xn.process(Cn),kr=0,pn=ar.length;kr<pn;kr++){var an=ar[kr];void 0===an.consumedBy&&mt.insert(an)}yr=mt.size,sr=mt.pop()}Pe.reset();var vr=wt.factory(xn.segments);return new Ye(vr).getGeom()}}]),V}());return{union:function(V){for(var w=arguments.length,E=new Array(w>1?w-1:0),R=1;R<w;R++)E[R-1]=arguments[R];return kn.run("union",V,E)},intersection:function(V){for(var w=arguments.length,E=new Array(w>1?w-1:0),R=1;R<w;R++)E[R-1]=arguments[R];return kn.run("intersection",V,E)},xor:function(V){for(var w=arguments.length,E=new Array(w>1?w-1:0),R=1;R<w;R++)E[R-1]=arguments[R];return kn.run("xor",V,E)},difference:function(V){for(var w=arguments.length,E=new Array(w>1?w-1:0),R=1;R<w;R++)E[R-1]=arguments[R];return kn.run("difference",V,E)}}}()},2582:function(x){x.exports=function(){"use strict";function S(N,G,ee,me,De){!function Me(Le,ke,Pe,Ae,at){for(;Ae>Pe;){if(Ae-Pe>600){var Be=Ae-Pe+1,$e=ke-Pe+1,At=Math.log(Be),Se=.5*Math.exp(2*At/3),it=.5*Math.sqrt(At*Se*(Be-Se)/Be)*($e-Be/2<0?-1:1);Me(Le,ke,Math.max(Pe,Math.floor(ke-$e*Se/Be+it)),Math.min(Ae,Math.floor(ke+(Be-$e)*Se/Be+it)),at)}var ze=Le[ke],je=Pe,gt=Ae;for(C(Le,Pe,ke),at(Le[Ae],ze)>0&&C(Le,Pe,Ae);je<gt;){for(C(Le,je,gt),je++,gt--;at(Le[je],ze)<0;)je++;for(;at(Le[gt],ze)>0;)gt--}0===at(Le[Pe],ze)?C(Le,Pe,gt):C(Le,++gt,Ae),gt<=ke&&(Pe=gt+1),ke<=gt&&(Ae=gt-1)}}(N,G,ee||0,me||N.length-1,De||P)}function C(N,G,ee){var me=N[G];N[G]=N[ee],N[ee]=me}function P(N,G){return N<G?-1:N>G?1:0}var I=function(N){void 0===N&&(N=9),this._maxEntries=Math.max(4,N),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function j(N,G,ee){if(!ee)return G.indexOf(N);for(var me=0;me<G.length;me++)if(ee(N,G[me]))return me;return-1}function B(N,G){W(N,0,N.children.length,G,N)}function W(N,G,ee,me,De){De||(De=X(null)),De.minX=1/0,De.minY=1/0,De.maxX=-1/0,De.maxY=-1/0;for(var Me=G;Me<ee;Me++){var Le=N.children[Me];re(De,N.leaf?me(Le):Le)}return De}function re(N,G){return N.minX=Math.min(N.minX,G.minX),N.minY=Math.min(N.minY,G.minY),N.maxX=Math.max(N.maxX,G.maxX),N.maxY=Math.max(N.maxY,G.maxY),N}function ue(N,G){return N.minX-G.minX}function be(N,G){return N.minY-G.minY}function ie(N){return(N.maxX-N.minX)*(N.maxY-N.minY)}function q(N){return N.maxX-N.minX+(N.maxY-N.minY)}function se(N,G){return N.minX<=G.minX&&N.minY<=G.minY&&G.maxX<=N.maxX&&G.maxY<=N.maxY}function Y(N,G){return G.minX<=N.maxX&&G.minY<=N.maxY&&G.maxX>=N.minX&&G.maxY>=N.minY}function X(N){return{children:N,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function J(N,G,ee,me,De){for(var Me=[G,ee];Me.length;)if(!((ee=Me.pop())-(G=Me.pop())<=me)){var Le=G+Math.ceil((ee-G)/me/2)*me;S(N,Le,G,ee,De),Me.push(G,Le,Le,ee)}}return I.prototype.all=function(){return this._all(this.data,[])},I.prototype.search=function(N){var G=this.data,ee=[];if(!Y(N,G))return ee;for(var me=this.toBBox,De=[];G;){for(var Me=0;Me<G.children.length;Me++){var Le=G.children[Me],ke=G.leaf?me(Le):Le;Y(N,ke)&&(G.leaf?ee.push(Le):se(N,ke)?this._all(Le,ee):De.push(Le))}G=De.pop()}return ee},I.prototype.collides=function(N){var G=this.data;if(!Y(N,G))return!1;for(var ee=[];G;){for(var me=0;me<G.children.length;me++){var De=G.children[me],Me=G.leaf?this.toBBox(De):De;if(Y(N,Me)){if(G.leaf||se(N,Me))return!0;ee.push(De)}}G=ee.pop()}return!1},I.prototype.load=function(N){if(!N||!N.length)return this;if(N.length<this._minEntries){for(var G=0;G<N.length;G++)this.insert(N[G]);return this}var ee=this._build(N.slice(),0,N.length-1,0);if(this.data.children.length)if(this.data.height===ee.height)this._splitRoot(this.data,ee);else{if(this.data.height<ee.height){var me=this.data;this.data=ee,ee=me}this._insert(ee,this.data.height-ee.height-1,!0)}else this.data=ee;return this},I.prototype.insert=function(N){return N&&this._insert(N,this.data.height-1),this},I.prototype.clear=function(){return this.data=X([]),this},I.prototype.remove=function(N,G){if(!N)return this;for(var ee,me,De,Me=this.data,Le=this.toBBox(N),ke=[],Pe=[];Me||ke.length;){if(Me||(Me=ke.pop(),me=ke[ke.length-1],ee=Pe.pop(),De=!0),Me.leaf){var Ae=j(N,Me.children,G);if(-1!==Ae)return Me.children.splice(Ae,1),ke.push(Me),this._condense(ke),this}De||Me.leaf||!se(Me,Le)?me?(ee++,Me=me.children[ee],De=!1):Me=null:(ke.push(Me),Pe.push(ee),ee=0,me=Me,Me=Me.children[0])}return this},I.prototype.toBBox=function(N){return N},I.prototype.compareMinX=function(N,G){return N.minX-G.minX},I.prototype.compareMinY=function(N,G){return N.minY-G.minY},I.prototype.toJSON=function(){return this.data},I.prototype.fromJSON=function(N){return this.data=N,this},I.prototype._all=function(N,G){for(var ee=[];N;)N.leaf?G.push.apply(G,N.children):ee.push.apply(ee,N.children),N=ee.pop();return G},I.prototype._build=function(N,G,ee,me){var De,Me=ee-G+1,Le=this._maxEntries;if(Me<=Le)return B(De=X(N.slice(G,ee+1)),this.toBBox),De;me||(me=Math.ceil(Math.log(Me)/Math.log(Le)),Le=Math.ceil(Me/Math.pow(Le,me-1))),(De=X([])).leaf=!1,De.height=me;var ke=Math.ceil(Me/Le),Pe=ke*Math.ceil(Math.sqrt(Le));J(N,G,ee,Pe,this.compareMinX);for(var Ae=G;Ae<=ee;Ae+=Pe){var at=Math.min(Ae+Pe-1,ee);J(N,Ae,at,ke,this.compareMinY);for(var Be=Ae;Be<=at;Be+=ke){var $e=Math.min(Be+ke-1,at);De.children.push(this._build(N,Be,$e,me-1))}}return B(De,this.toBBox),De},I.prototype._chooseSubtree=function(N,G,ee,me){for(;me.push(G),!G.leaf&&me.length-1!==ee;){for(var De=1/0,Me=1/0,Le=void 0,ke=0;ke<G.children.length;ke++){var Pe=G.children[ke],Ae=ie(Pe),at=(Be=N,$e=Pe,(Math.max($e.maxX,Be.maxX)-Math.min($e.minX,Be.minX))*(Math.max($e.maxY,Be.maxY)-Math.min($e.minY,Be.minY))-Ae);at<Me?(Me=at,De=Ae<De?Ae:De,Le=Pe):at===Me&&Ae<De&&(De=Ae,Le=Pe)}G=Le||G.children[0]}var Be,$e;return G},I.prototype._insert=function(N,G,ee){var me=ee?N:this.toBBox(N),De=[],Me=this._chooseSubtree(me,this.data,G,De);for(Me.children.push(N),re(Me,me);G>=0&&De[G].children.length>this._maxEntries;)this._split(De,G),G--;this._adjustParentBBoxes(me,De,G)},I.prototype._split=function(N,G){var ee=N[G],me=ee.children.length,De=this._minEntries;this._chooseSplitAxis(ee,De,me);var Me=this._chooseSplitIndex(ee,De,me),Le=X(ee.children.splice(Me,ee.children.length-Me));Le.height=ee.height,Le.leaf=ee.leaf,B(ee,this.toBBox),B(Le,this.toBBox),G?N[G-1].children.push(Le):this._splitRoot(ee,Le)},I.prototype._splitRoot=function(N,G){this.data=X([N,G]),this.data.height=N.height+1,this.data.leaf=!1,B(this.data,this.toBBox)},I.prototype._chooseSplitIndex=function(N,G,ee){for(var me,De,Me,Le,ke,Pe,Ae,at=1/0,Be=1/0,$e=G;$e<=ee-G;$e++){var At=W(N,0,$e,this.toBBox),Se=W(N,$e,ee,this.toBBox),it=(De=At,Me=Se,Le=Math.max(De.minX,Me.minX),ke=Math.max(De.minY,Me.minY),Pe=Math.min(De.maxX,Me.maxX),Ae=Math.min(De.maxY,Me.maxY),Math.max(0,Pe-Le)*Math.max(0,Ae-ke)),ze=ie(At)+ie(Se);it<at?(at=it,me=$e,Be=ze<Be?ze:Be):it===at&&ze<Be&&(Be=ze,me=$e)}return me||ee-G},I.prototype._chooseSplitAxis=function(N,G,ee){var me=N.leaf?this.compareMinX:ue,De=N.leaf?this.compareMinY:be;this._allDistMargin(N,G,ee,me)<this._allDistMargin(N,G,ee,De)&&N.children.sort(me)},I.prototype._allDistMargin=function(N,G,ee,me){N.children.sort(me);for(var De=this.toBBox,Me=W(N,0,G,De),Le=W(N,ee-G,ee,De),ke=q(Me)+q(Le),Pe=G;Pe<ee-G;Pe++){var Ae=N.children[Pe];re(Me,N.leaf?De(Ae):Ae),ke+=q(Me)}for(var at=ee-G-1;at>=G;at--){var Be=N.children[at];re(Le,N.leaf?De(Be):Be),ke+=q(Le)}return ke},I.prototype._adjustParentBBoxes=function(N,G,ee){for(var me=ee;me>=0;me--)re(G[me],N)},I.prototype._condense=function(N){for(var G=N.length-1,ee=void 0;G>=0;G--)0===N[G].children.length?G>0?(ee=N[G-1].children).splice(ee.indexOf(N[G]),1):this.clear():B(N[G],this.toBBox)},I}()}},Ao={};function ve(x){var S=Ao[x];if(void 0!==S)return S.exports;var C=Ao[x]={id:x,loaded:!1,exports:{}};return ps[x].call(C.exports,C,C.exports,ve),C.loaded=!0,C.exports}ve.n=x=>{var S=x&&x.__esModule?()=>x.default:()=>x;return ve.d(S,{a:S}),S},ve.d=(x,S)=>{for(var C in S)ve.o(S,C)&&!ve.o(x,C)&&Object.defineProperty(x,C,{enumerable:!0,get:S[C]})},ve.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),ve.o=(x,S)=>Object.prototype.hasOwnProperty.call(x,S),ve.nmd=x=>(x.paths=[],x.children||(x.children=[]),x),ve(5975)})()},487:(ps,Ao,ve)=>{"use strict";function x(e){return"function"==typeof e}function S(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const C=S(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function P(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class I{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(x(r))try{r()}catch(s){t=s instanceof C?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{W(s)}catch(u){t=t??[],u instanceof C?t=[...t,...u.errors]:t.push(u)}}if(t)throw new C(t)}}add(t){var n;if(t&&t!==this)if(this.closed)W(t);else{if(t instanceof I){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&P(n,t)}remove(t){const{_finalizers:n}=this;n&&P(n,t),t instanceof I&&t._removeParent(this)}}I.EMPTY=(()=>{const e=new I;return e.closed=!0,e})();const j=I.EMPTY;function B(e){return e instanceof I||e&&"closed"in e&&x(e.remove)&&x(e.add)&&x(e.unsubscribe)}function W(e){x(e)?e():e.unsubscribe()}const re={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ue={setTimeout(e,t,...n){const{delegate:r}=ue;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=ue;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function be(e){ue.setTimeout(()=>{const{onUnhandledError:t}=re;if(!t)throw e;t(e)})}function ie(){}const q=X("C",void 0,void 0);function X(e,t,n){return{kind:e,value:t,error:n}}let J=null;function N(e){if(re.useDeprecatedSynchronousErrorHandling){const t=!J;if(t&&(J={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=J;if(J=null,n)throw r}}else e()}class ee extends I{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,B(t)&&t.add(this)):this.destination=at}static create(t,n,r){return new Le(t,n,r)}next(t){this.isStopped?Ae(function Y(e){return X("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Ae(function se(e){return X("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Ae(q,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const me=Function.prototype.bind;function De(e,t){return me.call(e,t)}class Me{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){ke(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){ke(r)}else ke(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){ke(n)}}}class Le extends ee{constructor(t,n,r){let i;if(super(),x(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&re.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&De(t.next,s),error:t.error&&De(t.error,s),complete:t.complete&&De(t.complete,s)}):i=t}this.destination=new Me(i)}}function ke(e){re.useDeprecatedSynchronousErrorHandling?function G(e){re.useDeprecatedSynchronousErrorHandling&&J&&(J.errorThrown=!0,J.error=e)}(e):be(e)}function Ae(e,t){const{onStoppedNotification:n}=re;n&&ue.setTimeout(()=>n(e,t))}const at={closed:!0,next:ie,error:function Pe(e){throw e},complete:ie},Be="function"==typeof Symbol&&Symbol.observable||"@@observable";function $e(e){return e}function Se(e){return 0===e.length?$e:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let it=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function gt(e){return e&&e instanceof ee||function je(e){return e&&x(e.next)&&x(e.error)&&x(e.complete)}(e)&&B(e)}(n)?n:new Le(n,r,i);return N(()=>{const{operator:u,source:h}=this;s.add(u?u.call(s,h):h?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=ze(r))((i,s)=>{const u=new Le({next:h=>{try{n(h)}catch(p){s(p),u.unsubscribe()}},error:s,complete:i});this.subscribe(u)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Be](){return this}pipe(...n){return Se(n)(this)}toPromise(n){return new(n=ze(n))((r,i)=>{let s;this.subscribe(u=>s=u,u=>i(u),()=>r(s))})}}return e.create=t=>new e(t),e})();function ze(e){var t;return null!==(t=e??re.Promise)&&void 0!==t?t:Promise}const Qt=S(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let St=(()=>{class e extends it{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Lt(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Qt}next(n){N(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){N(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){N(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?j:(this.currentObservers=null,s.push(n),new I(()=>{this.currentObservers=null,P(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new it;return n.source=this,n}}return e.create=(t,n)=>new Lt(t,n),e})();class Lt extends St{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:j}}function bt(e){return x(e?.lift)}function Tt(e){return t=>{if(bt(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function wt(e,t,n,r,i){return new fi(e,t,n,r,i)}class fi extends ee{constructor(t,n,r,i,s,u){super(t),this.onFinalize=s,this.shouldUnsubscribe=u,this._next=n?function(h){try{n(h)}catch(p){t.error(p)}}:super._next,this._error=i?function(h){try{i(h)}catch(p){t.error(p)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(h){t.error(h)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Ye(e,t){return Tt((n,r)=>{let i=0;n.subscribe(wt(r,s=>{r.next(e.call(t,s,i++))}))})}function ot(e){return this instanceof ot?(this.v=e,this):new ot(e)}function Ft(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function ce(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(u){return new Promise(function(h,p){!function i(s,u,h,p){Promise.resolve(p).then(function(m){s({value:m,done:h})},u)}(h,p,(u=e[s](u)).done,u.value)})}}}const Cn=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Nn(e){return x(e?.then)}function ar(e){return x(e[Be])}function kr(e){return Symbol.asyncIterator&&x(e?.[Symbol.asyncIterator])}function pn(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const vr=function an(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ni(e){return x(e?.[vr])}function uo(e){return function zt(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),s=[];return i={},u("next"),u("throw"),u("return"),i[Symbol.asyncIterator]=function(){return this},i;function u(T){r[T]&&(i[T]=function(z){return new Promise(function(K,ae){s.push([T,z,K,ae])>1||h(T,z)})})}function h(T,z){try{!function p(T){T.value instanceof ot?Promise.resolve(T.value.v).then(m,v):M(s[0][2],T)}(r[T](z))}catch(K){M(s[0][3],K)}}function m(T){h("next",T)}function v(T){h("throw",T)}function M(T,z){T(z),s.shift(),s.length&&h(s[0][0],s[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield ot(n.read());if(i)return yield ot(void 0);yield yield ot(r)}}finally{n.releaseLock()}})}function gi(e){return x(e?.getReader)}function $n(e){if(e instanceof it)return e;if(null!=e){if(ar(e))return function Fo(e){return new it(t=>{const n=e[Be]();if(x(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Cn(e))return function Fn(e){return new it(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(Nn(e))return function Ue(e){return new it(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,be)})}(e);if(kr(e))return br(e);if(Ni(e))return function Bo(e){return new it(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(gi(e))return function Pr(e){return br(uo(e))}(e)}throw pn(e)}function br(e){return new it(t=>{(function gs(e,t){var n,r,i,s;return function R(e,t,n,r){return new(n||(n=Promise))(function(s,u){function h(v){try{m(r.next(v))}catch(M){u(M)}}function p(v){try{m(r.throw(v))}catch(M){u(M)}}function m(v){v.done?s(v.value):function i(s){return s instanceof n?s:new n(function(u){u(s)})}(v.value).then(h,p)}m((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Ft(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(u){i={error:u}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Pn(e,t,n,r=0,i=!1){const s=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}function Zt(e,t,n=1/0){return x(t)?Zt((r,i)=>Ye((s,u)=>t(r,s,i,u))($n(e(r,i))),n):("number"==typeof t&&(n=t),Tt((r,i)=>function mi(e,t,n,r,i,s,u,h){const p=[];let m=0,v=0,M=!1;const T=()=>{M&&!p.length&&!m&&t.complete()},z=ae=>m<r?K(ae):p.push(ae),K=ae=>{s&&t.next(ae),m++;let de=!1;$n(n(ae,v++)).subscribe(wt(t,pe=>{i?.(pe),s?z(pe):t.next(pe)},()=>{de=!0},void 0,()=>{if(de)try{for(m--;p.length&&m<r;){const pe=p.shift();u?Pn(t,u,()=>K(pe)):K(pe)}T()}catch(pe){t.error(pe)}}))};return e.subscribe(wt(t,z,()=>{M=!0,T()})),()=>{h?.()}}(r,i,e,n)))}function Tr(e=1/0){return Zt($e,e)}const Gn=new it(e=>e.complete());function Fi(e){return e[e.length-1]}function Ir(e){return function jo(e){return e&&x(e.schedule)}(Fi(e))?e.pop():void 0}function Uo(e,t=0){return Tt((n,r)=>{n.subscribe(wt(r,i=>Pn(r,e,()=>r.next(i),t),()=>Pn(r,e,()=>r.complete(),t),i=>Pn(r,e,()=>r.error(i),t)))})}function _s(e,t=0){return Tt((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Ho(e,t){if(!e)throw new Error("Iterable cannot be null");return new it(n=>{Pn(n,t,()=>{const r=e[Symbol.asyncIterator]();Pn(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Ge(e,t){return t?function _i(e,t){if(null!=e){if(ar(e))return function Bi(e,t){return $n(e).pipe(_s(t),Uo(t))}(e,t);if(Cn(e))return function ho(e,t){return new it(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(Nn(e))return function Ma(e,t){return $n(e).pipe(_s(t),Uo(t))}(e,t);if(kr(e))return Ho(e,t);if(Ni(e))return function Wr(e,t){return new it(n=>{let r;return Pn(n,t,()=>{r=e[vr](),Pn(n,t,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(u){return void n.error(u)}s?n.complete():n.next(i)},0,!0)}),()=>x(r?.return)&&r.return()})}(e,t);if(gi(e))return function ys(e,t){return Ho(uo(e),t)}(e,t)}throw pn(e)}(e,t):$n(e)}function wr(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new Le({next:()=>{r.unsubscribe(),e()}});return $n(t(...n)).subscribe(r)}function Et(e){for(let t in e)if(e[t]===Et)return t;throw Error("Could not find renamed property on target object.")}function Oe(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Oe).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Ht(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Vo=Et({__forward_ref__:Et});function Kr(e){return e.__forward_ref__=Kr,e.toString=function(){return Oe(this())},e}function Fe(e){return zi(e)?e():e}function zi(e){return"function"==typeof e&&e.hasOwnProperty(Vo)&&e.__forward_ref__===Kr}function vi(e){return e&&!!e.\u0275providers}class we extends Error{constructor(t,n){super(Rr(t,n)),this.code=t}}function Rr(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}function We(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():function Je(e){return"string"==typeof e?e:null==e?"":String(e)}(e)}function Jr(e,t){throw new we(-201,!1)}function O(e,t){null==e&&function A(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Q(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function _e(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ee(e){return ut(e,Rt)||ut(e,ur)}function ut(e,t){return e.hasOwnProperty(t)?e[t]:null}function It(e){return e&&(e.hasOwnProperty(rn)||e.hasOwnProperty(bs))?e[rn]:null}const Rt=Et({\u0275prov:Et}),rn=Et({\u0275inj:Et}),ur=Et({ngInjectableDef:Et}),bs=Et({ngInjectorDef:Et});var Ve=(()=>((Ve=Ve||{})[Ve.Default=0]="Default",Ve[Ve.Host=1]="Host",Ve[Ve.Self=2]="Self",Ve[Ve.SkipSelf=4]="SkipSelf",Ve[Ve.Optional=8]="Optional",Ve))();let Cr;function Tn(e){const t=Cr;return Cr=e,t}function ws(e,t,n){const r=Ee(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Ve.Optional?null:void 0!==t?t:void Jr(Oe(e))}const Ut=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),cr={},Cs="__NG_DI_FLAG__",qo="ngTempTokenPath",Ic="ngTokenPath",Rc=/\n/gm,Da="\u0275",Nl="__source";let go;function Ui(e){const t=go;return go=e,t}function Ms(e,t=Ve.Default){if(void 0===go)throw new we(-203,!1);return null===go?ws(e,void 0,t):go.get(e,t&Ve.Optional?null:void 0,t)}function Ne(e,t=Ve.Default){return(function Zo(){return Cr}()||Ms)(Fe(e),t)}function ct(e,t=Ve.Default){return Ne(e,In(t))}function In(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Ds(e){const t=[];for(let n=0;n<e.length;n++){const r=Fe(e[n]);if(Array.isArray(r)){if(0===r.length)throw new we(900,!1);let i,s=Ve.Default;for(let u=0;u<r.length;u++){const h=r[u],p=Oc(h);"number"==typeof p?-1===p?i=h.token:s|=p:i=h}t.push(Ne(i,s))}else t.push(Ne(r))}return t}function mo(e,t){return e[Cs]=t,e.prototype[Cs]=t,e}function Oc(e){return e[Cs]}function Xr(e){return{toString:e}.toString()}var hr=(()=>((hr=hr||{})[hr.OnPush=0]="OnPush",hr[hr.Default=1]="Default",hr))(),dr=(()=>{return(e=dr||(dr={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",dr;var e})();const Qr={},Ot=[],Wo=Et({\u0275cmp:Et}),La=Et({\u0275dir:Et}),Zn=Et({\u0275pipe:Et}),Hi=Et({\u0275mod:Et}),ei=Et({\u0275fac:Et}),qn=Et({__NG_ELEMENT_ID__:Et});let Ac=0;function ti(e){return Xr(()=>{const t=Ul(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===hr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,data:e.data||{},encapsulation:e.encapsulation||dr.Emulated,id:"c"+Ac++,styles:e.styles||Ot,_:null,schemas:e.schemas||null,tView:null};Ar(n);const r=e.dependencies;return n.directiveDefs=Vi(r,!1),n.pipeDefs=Vi(r,!0),n})}function Ko(e){return kt(e)||Sn(e)}function zl(e){return null!==e}function Dr(e){return Xr(()=>({type:e.type,bootstrap:e.bootstrap||Ot,declarations:e.declarations||Ot,imports:e.imports||Ot,exports:e.exports||Ot,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function ni(e,t){if(null==e)return Qr;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,t&&(t[i]=s)}return n}function mn(e){return Xr(()=>{const t=Ul(e);return Ar(t),t})}function kt(e){return e[Wo]||null}function Sn(e){return e[La]||null}function Jt(e){return e[Zn]||null}function _n(e,t){const n=e[Hi]||null;if(!n&&!0===t)throw new Error(`Type ${Oe(e)} does not have '\u0275mod' property.`);return n}function Ul(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,exportAs:e.exportAs||null,standalone:!0===e.standalone,selectors:e.selectors||Ot,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ni(e.inputs,t),outputs:ni(e.outputs)}}function Ar(e){e.features?.forEach(t=>t(e))}function Vi(e,t){if(!e)return null;const n=t?Jt:Ko;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(zl)}const Nr=0,Ie=1,st=2,qt=3,jn=4,fr=5,ln=6,wi=7,Xt=8,Ls=9,$i=10,yt=11,Es=12,Yo=13,Ea=14,yo=15,Vt=16,Ci=17,vo=18,Wn=19,Jo=20,xa=21,$t=22,Sa=1,Gi=2,Xo=7,Qo=8,bo=9,Kt=10;function zn(e){return Array.isArray(e)&&"object"==typeof e[Sa]}function Rn(e){return Array.isArray(e)&&!0===e[Sa]}function ka(e){return 0!=(4&e.flags)}function Mi(e){return e.componentOffset>-1}function Di(e){return 1==(1&e.flags)}function pr(e){return!!e.template}function Hl(e){return 0!=(256&e[st])}function xe(e,t){return e.hasOwnProperty(ei)?e[ei]:null}class rt{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function dt(){return Kn}function Kn(e){return e.type.prototype.ngOnChanges&&(e.setInput=Ss),Zi}function Zi(){const e=ks(this),t=e?.current;if(t){const n=e.previous;if(n===Qr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Ss(e,t,n,r){const i=this.declaredInputs[n],s=ks(e)||function $c(e,t){return e[ri]=t}(e,{previous:Qr,current:null}),u=s.current||(s.current={}),h=s.previous,p=h[i];u[i]=new rt(p&&p.currentValue,t,h===Qr),e[r]=t}dt.ngInherit=!0;const ri="__ngSimpleChanges__";function ks(e){return e[ri]||null}const Yn=function(e,t,n){};function Mt(e){for(;Array.isArray(e);)e=e[Nr];return e}function Jn(e,t){return Mt(t[e.index])}function Is(e,t){return e.data[t]}function Xn(e,t){const n=t[e];return zn(n)?n:n[Nr]}function Zl(e){return 64==(64&e[st])}function wo(e,t){return null==t?null:e[t]}function Sp(e){e[vo]=0}function qc(e,t){e[fr]+=t;let n=e,r=e[qt];for(;null!==r&&(1===t&&1===n[fr]||-1===t&&0===n[fr]);)r[fr]+=t,n=r,r=r[qt]}const ft={lFrame:Bp(null),bindingsEnabled:!0};function Pp(){return ft.bindingsEnabled}function ge(){return ft.lFrame.lView}function Pt(){return ft.lFrame.tView}function Wc(e){return ft.lFrame.contextLView=e,e[Xt]}function Kc(e){return ft.lFrame.contextLView=null,e}function On(){let e=Tp();for(;null!==e&&64===e.type;)e=e.parent;return e}function Tp(){return ft.lFrame.currentTNode}function Li(e,t){const n=ft.lFrame;n.currentTNode=e,n.isParent=t}function Yc(){return ft.lFrame.isParent}function k0(e,t){const n=ft.lFrame;n.bindingIndex=n.bindingRootIndex=e,Xc(t)}function Xc(e){ft.lFrame.currentDirectiveIndex=e}function eh(e){ft.lFrame.currentQueryIndex=e}function T0(e){const t=e[Ie];return 2===t.type?t.declTNode:1===t.type?e[ln]:null}function Np(e,t,n){if(n&Ve.SkipSelf){let i=t,s=e;for(;!(i=i.parent,null!==i||n&Ve.Host||(i=T0(s),null===i||(s=s[yo],10&i.type))););if(null===i)return!1;t=i,e=s}const r=ft.lFrame=Fp();return r.currentTNode=t,r.lView=e,!0}function th(e){const t=Fp(),n=e[Ie];ft.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Fp(){const e=ft.lFrame,t=null===e?null:e.child;return null===t?Bp(e):t}function Bp(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function jp(){const e=ft.lFrame;return ft.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const zp=jp;function nh(){const e=jp();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function er(){return ft.lFrame.selectedIndex}function es(e){ft.lFrame.selectedIndex=e}function ql(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const s=e.data[n].type.prototype,{ngAfterContentInit:u,ngAfterContentChecked:h,ngAfterViewInit:p,ngAfterViewChecked:m,ngOnDestroy:v}=s;u&&(e.contentHooks||(e.contentHooks=[])).push(-n,u),h&&((e.contentHooks||(e.contentHooks=[])).push(n,h),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,h)),p&&(e.viewHooks||(e.viewHooks=[])).push(-n,p),m&&((e.viewHooks||(e.viewHooks=[])).push(n,m),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,m)),null!=v&&(e.destroyHooks||(e.destroyHooks=[])).push(n,v)}}function Wl(e,t,n){Up(e,t,3,n)}function Kl(e,t,n,r){(3&e[st])===n&&Up(e,t,n,r)}function rh(e,t){let n=e[st];(3&n)===t&&(n&=2047,n+=1,e[st]=n)}function Up(e,t,n,r){const s=r??-1,u=t.length-1;let h=0;for(let p=void 0!==r?65535&e[vo]:0;p<u;p++)if("number"==typeof t[p+1]){if(h=t[p],null!=r&&h>=r)break}else t[p]<0&&(e[vo]+=65536),(h<s||-1==s)&&(z0(e,n,t,p),e[vo]=(4294901760&e[vo])+p+2),p++}function z0(e,t,n,r){const i=n[r]<0,s=n[r+1],h=e[i?-n[r]:n[r]];if(i){if(e[st]>>11<e[vo]>>16&&(3&e[st])===t){e[st]+=2048,Yn(4,h,s);try{s.call(h)}finally{Yn(5,h,s)}}}else{Yn(4,h,s);try{s.call(h)}finally{Yn(5,h,s)}}}const Os=-1;class Ra{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function oh(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],u=n[r++],h=n[r++];e.setAttribute(t,u,h,s)}else{const s=i,u=n[++r];Vp(s)?e.setProperty(t,s,u):e.setAttribute(t,s,u),r++}}return r}function Hp(e){return 3===e||4===e||6===e}function Vp(e){return 64===e.charCodeAt(0)}function Oa(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||$p(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function $p(e,t,n,r,i){let s=0,u=e.length;if(-1===t)u=-1;else for(;s<e.length;){const h=e[s++];if("number"==typeof h){if(h===t){u=-1;break}if(h>t){u=s-1;break}}}for(;s<e.length;){const h=e[s];if("number"==typeof h)break;if(h===n){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==u&&(e.splice(u,0,t),s=u+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}function Gp(e){return e!==Os}function Yl(e){return 32767&e}function Jl(e,t){let n=function $0(e){return e>>16}(e),r=t;for(;n>0;)r=r[yo],n--;return r}let sh=!0;function Xl(e){const t=sh;return sh=e,t}const Zp=255,qp=5;let G0=0;const Ei={};function Ql(e,t){const n=Wp(e,t);if(-1!==n)return n;const r=t[Ie];r.firstCreatePass&&(e.injectorIndex=t.length,ah(r.data,e),ah(t,null),ah(r.blueprint,null));const i=lh(e,t),s=e.injectorIndex;if(Gp(i)){const u=Yl(i),h=Jl(i,t),p=h[Ie].data;for(let m=0;m<8;m++)t[s+m]=h[u+m]|p[u+m]}return t[s+8]=i,s}function ah(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Wp(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function lh(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=ng(i),null===r)return Os;if(n++,i=i[yo],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Os}function uh(e,t,n){!function Z0(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(qn)&&(r=n[qn]),null==r&&(r=n[qn]=G0++);const i=r&Zp;t.data[e+(i>>qp)]|=1<<i}(e,t,n)}function Kp(e,t,n){if(n&Ve.Optional||void 0!==e)return e;Jr()}function Yp(e,t,n,r){if(n&Ve.Optional&&void 0===r&&(r=null),!(n&(Ve.Self|Ve.Host))){const i=e[Ls],s=Tn(void 0);try{return i?i.get(t,r,n&Ve.Optional):ws(t,r,n&Ve.Optional)}finally{Tn(s)}}return Kp(r,0,n)}function Jp(e,t,n,r=Ve.Default,i){if(null!==e){if(1024&t[st]){const u=function J0(e,t,n,r,i){let s=e,u=t;for(;null!==s&&null!==u&&1024&u[st]&&!(256&u[st]);){const h=Xp(s,u,n,r|Ve.Self,Ei);if(h!==Ei)return h;let p=s.parent;if(!p){const m=u[xa];if(m){const v=m.get(n,Ei,r);if(v!==Ei)return v}p=ng(u),u=u[yo]}s=p}return i}(e,t,n,r,Ei);if(u!==Ei)return u}const s=Xp(e,t,n,r,Ei);if(s!==Ei)return s}return Yp(t,n,r,i)}function Xp(e,t,n,r,i){const s=function K0(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(qn)?e[qn]:void 0;return"number"==typeof t?t>=0?t&Zp:Y0:t}(n);if("function"==typeof s){if(!Np(t,e,r))return r&Ve.Host?Kp(i,0,r):Yp(t,n,r,i);try{const u=s(r);if(null!=u||r&Ve.Optional)return u;Jr()}finally{zp()}}else if("number"==typeof s){let u=null,h=Wp(e,t),p=Os,m=r&Ve.Host?t[Vt][ln]:null;for((-1===h||r&Ve.SkipSelf)&&(p=-1===h?lh(e,t):t[h+8],p!==Os&&eg(r,!1)?(u=t[Ie],h=Yl(p),t=Jl(p,t)):h=-1);-1!==h;){const v=t[Ie];if(Qp(s,h,v.data)){const M=W0(h,t,n,u,r,m);if(M!==Ei)return M}p=t[h+8],p!==Os&&eg(r,t[Ie].data[h+8]===m)&&Qp(s,h,t)?(u=v,h=Yl(p),t=Jl(p,t)):h=-1}}return i}function W0(e,t,n,r,i,s){const u=t[Ie],h=u.data[e+8],v=function eu(e,t,n,r,i){const s=e.providerIndexes,u=t.data,h=1048575&s,p=e.directiveStart,v=s>>20,T=i?h+v:e.directiveEnd;for(let z=r?h:h+v;z<T;z++){const K=u[z];if(z<p&&n===K||z>=p&&K.type===n)return z}if(i){const z=u[p];if(z&&pr(z)&&z.type===n)return p}return null}(h,u,n,null==r?Mi(h)&&sh:r!=u&&0!=(3&h.type),i&Ve.Host&&s===h);return null!==v?ts(t,u,v,h):Ei}function ts(e,t,n,r){let i=e[n];const s=t.data;if(function U0(e){return e instanceof Ra}(i)){const u=i;u.resolving&&function Or(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new we(-200,`Circular dependency in DI detected for ${e}${n}`)}(We(s[n]));const h=Xl(u.canSeeViewProviders);u.resolving=!0;const p=u.injectImpl?Tn(u.injectImpl):null;Np(e,r,Ve.Default);try{i=e[n]=u.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function j0(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const u=Kn(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,u),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,u)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{null!==p&&Tn(p),Xl(h),u.resolving=!1,zp()}}return i}function Qp(e,t,n){return!!(n[t+(e>>qp)]&1<<e)}function eg(e,t){return!(e&Ve.Self||e&Ve.Host&&t)}class As{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Jp(this._tNode,this._lView,t,In(r),n)}}function Y0(){return new As(On(),ge())}function ch(e){return zi(e)?()=>{const t=ch(Fe(e));return t&&t()}:xe(e)}function ng(e){const t=e[Ie],n=t.type;return 2===n?t.declTNode:1===n?e[ln]:null}const Fs="__parameters__";function js(e,t,n){return Xr(()=>{const r=function hh(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...s){if(this instanceof i)return r.apply(this,s),this;const u=new i(...s);return h.annotation=u,h;function h(p,m,v){const M=p.hasOwnProperty(Fs)?p[Fs]:Object.defineProperty(p,Fs,{value:[]})[Fs];for(;M.length<=v;)M.push(null);return(M[v]=M[v]||[]).push(u),p}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class Ze{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Q({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ns(e,t){e.forEach(n=>Array.isArray(n)?ns(n,t):t(n))}function ig(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function nu(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Lr(e,t,n){let r=zs(e,t);return r>=0?e[1|r]=n:(r=~r,function tC(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function fh(e,t){const n=zs(e,t);if(n>=0)return e[1|n]}function zs(e,t){return function og(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const s=r+(i-r>>1),u=e[s<<n];if(t===u)return s<<n;u>t?i=s:r=s+1}return~(i<<n)}(e,t,1)}const Ba=mo(js("Optional"),8),ja=mo(js("SkipSelf"),4);var gr=(()=>((gr=gr||{})[gr.Important=1]="Important",gr[gr.DashCase=2]="DashCase",gr))();const vh=new Map;let MC=0;const wh="__ngContext__";function Un(e,t){zn(t)?(e[wh]=t[Jo],function LC(e){vh.set(e[Jo],e)}(t)):e[wh]=t}let Ch;function Mh(e,t){return Ch(e,t)}function Va(e){const t=e[qt];return Rn(t)?t[qt]:t}function Dh(e){return Lg(e[Yo])}function Lh(e){return Lg(e[jn])}function Lg(e){for(;null!==e&&!Rn(e);)e=e[jn];return e}function Hs(e,t,n,r,i){if(null!=r){let s,u=!1;Rn(r)?s=r:zn(r)&&(u=!0,r=r[Nr]);const h=Mt(r);0===e&&null!==n?null==i?Tg(t,n,h):rs(t,n,h,i||null,!0):1===e&&null!==n?rs(t,n,h,i||null,!0):2===e?function Ih(e,t,n){const r=su(e,t);r&&function GC(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,h,u):3===e&&t.destroyNode(h),null!=s&&function WC(e,t,n,r,i){const s=n[Xo];s!==Mt(n)&&Hs(t,e,r,s,i);for(let h=Kt;h<n.length;h++){const p=n[h];$a(p[Ie],p,e,t,r,s)}}(t,e,s,n,i)}}function xh(e,t,n){return e.createElement(t,n)}function xg(e,t){const n=e[bo],r=n.indexOf(t),i=t[qt];512&t[st]&&(t[st]&=-513,qc(i,-1)),n.splice(r,1)}function Sh(e,t){if(e.length<=Kt)return;const n=Kt+t,r=e[n];if(r){const i=r[Ci];null!==i&&i!==e&&xg(i,r),t>0&&(e[n-1][jn]=r[jn]);const s=nu(e,Kt+t);!function FC(e,t){$a(e,t,t[yt],2,null,null),t[Nr]=null,t[ln]=null}(r[Ie],r);const u=s[Wn];null!==u&&u.detachView(s[Ie]),r[qt]=null,r[jn]=null,r[st]&=-65}return r}function Sg(e,t){if(!(128&t[st])){const n=t[yt];n.destroyNode&&$a(e,t,n,3,null,null),function zC(e){let t=e[Yo];if(!t)return kh(e[Ie],e);for(;t;){let n=null;if(zn(t))n=t[Yo];else{const r=t[Kt];r&&(n=r)}if(!n){for(;t&&!t[jn]&&t!==e;)zn(t)&&kh(t[Ie],t),t=t[qt];null===t&&(t=e),zn(t)&&kh(t[Ie],t),n=t&&t[jn]}t=n}}(t)}}function kh(e,t){if(!(128&t[st])){t[st]&=-65,t[st]|=128,function $C(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof Ra)){const s=n[r+1];if(Array.isArray(s))for(let u=0;u<s.length;u+=2){const h=i[s[u]],p=s[u+1];Yn(4,h,p);try{p.call(h)}finally{Yn(5,h,p)}}else{Yn(4,i,s);try{s.call(i)}finally{Yn(5,i,s)}}}}}(e,t),function VC(e,t){const n=e.cleanup,r=t[wi];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const u=n[s+3];u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const u=r[i=n[s+1]];n[s].call(u)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();t[wi]=null}}(e,t),1===t[Ie].type&&t[yt].destroy();const n=t[Ci];if(null!==n&&Rn(t[qt])){n!==t[qt]&&xg(n,t);const r=t[Wn];null!==r&&r.detachView(e)}!function EC(e){vh.delete(e[Jo])}(t)}}function kg(e,t,n){return function Pg(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[Nr];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=e.data[r.directiveStart+i];if(s===dr.None||s===dr.Emulated)return null}return Jn(r,n)}}(e,t.parent,n)}function rs(e,t,n,r,i){e.insertBefore(t,n,r,i)}function Tg(e,t,n){e.appendChild(t,n)}function Ig(e,t,n,r,i){null!==r?rs(e,t,n,r,i):Tg(e,t,n)}function su(e,t){return e.parentNode(t)}let Ph,Ah,Ag=function Og(e,t,n){return 40&e.type?Jn(e,n):null};function au(e,t,n,r){const i=kg(e,r,t),s=t[yt],h=function Rg(e,t,n){return Ag(e,t,n)}(r.parent||t[ln],r,t);if(null!=i)if(Array.isArray(n))for(let p=0;p<n.length;p++)Ig(s,i,n[p],h,!1);else Ig(s,i,n,h,!1);void 0!==Ph&&Ph(s,r,t,n,i)}function lu(e,t){if(null!==t){const n=t.type;if(3&n)return Jn(t,e);if(4&n)return Th(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return lu(e,r);{const i=e[t.index];return Rn(i)?Th(-1,i):Mt(i)}}if(32&n)return Mh(t,e)()||Mt(e[t.index]);{const r=Fg(e,t);return null!==r?Array.isArray(r)?r[0]:lu(Va(e[Vt]),r):lu(e,t.next)}}return null}function Fg(e,t){return null!==t?e[Vt][ln].projection[t.projection]:null}function Th(e,t){const n=Kt+e+1;if(n<t.length){const r=t[n],i=r[Ie].firstChild;if(null!==i)return lu(r,i)}return t[Xo]}function Rh(e,t,n,r,i,s,u){for(;null!=n;){const h=r[n.index],p=n.type;if(u&&0===t&&(h&&Un(Mt(h),r),n.flags|=2),32!=(32&n.flags))if(8&p)Rh(e,t,n.child,r,i,s,!1),Hs(t,e,i,h,s);else if(32&p){const m=Mh(n,r);let v;for(;v=m();)Hs(t,e,i,v,s);Hs(t,e,i,h,s)}else 16&p?Bg(e,t,r,n,i,s):Hs(t,e,i,h,s);n=u?n.projectionNext:n.next}}function $a(e,t,n,r,i,s){Rh(n,r,e.firstChild,t,i,s,!1)}function Bg(e,t,n,r,i,s){const u=n[Vt],p=u[ln].projection[r.projection];if(Array.isArray(p))for(let m=0;m<p.length;m++)Hs(t,e,i,p[m],s);else Rh(e,t,p,u[qt],i,s,!0)}function jg(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function zg(e,t,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&oh(e,t,r),null!==i&&jg(e,t,i),null!==s&&function YC(e,t,n){e.setAttribute(t,"style",n)}(e,t,s)}class Gg{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const du=new Ze("ENVIRONMENT_INITIALIZER"),tm=new Ze("INJECTOR",-1),nm=new Ze("INJECTOR_DEF_TYPES");class rm{get(t,n=cr){if(n===cr){const r=new Error(`NullInjectorError: No provider for ${Oe(t)}!`);throw r.name="NullInjectorError",r}return n}}function DM(...e){return{\u0275providers:im(0,e),\u0275fromNgModule:!0}}function im(e,...t){const n=[],r=new Set;let i;return ns(t,s=>{const u=s;Uh(u,n,[],r)&&(i||(i=[]),i.push(u))}),void 0!==i&&om(i,n),n}function om(e,t){for(let n=0;n<e.length;n++){const{providers:i}=e[n];Hh(i,s=>{t.push(s)})}}function Uh(e,t,n,r){if(!(e=Fe(e)))return!1;let i=null,s=It(e);const u=!s&&kt(e);if(s||u){if(u&&!u.standalone)return!1;i=e}else{const p=e.ngModule;if(s=It(p),!s)return!1;i=p}const h=r.has(i);if(u){if(h)return!1;if(r.add(i),u.dependencies){const p="function"==typeof u.dependencies?u.dependencies():u.dependencies;for(const m of p)Uh(m,t,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!h){let m;r.add(i);try{ns(s.imports,v=>{Uh(v,t,n,r)&&(m||(m=[]),m.push(v))})}finally{}void 0!==m&&om(m,t)}if(!h){const m=xe(i)||(()=>new i);t.push({provide:i,useFactory:m,deps:Ot},{provide:nm,useValue:i,multi:!0},{provide:du,useValue:()=>Ne(i),multi:!0})}const p=s.providers;null==p||h||Hh(p,v=>{t.push(v)})}}return i!==e&&void 0!==e.providers}function Hh(e,t){for(let n of e)vi(n)&&(n=n.\u0275providers),Array.isArray(n)?Hh(n,t):t(n)}const LM=Et({provide:String,useValue:Et});function Vh(e){return null!==e&&"object"==typeof e&&LM in e}function is(e){return"function"==typeof e}const $h=new Ze("Set Injector scope."),fu={},xM={};let Gh;function pu(){return void 0===Gh&&(Gh=new rm),Gh}class xi{}class lm extends xi{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,qh(t,u=>this.processProvider(u)),this.records.set(tm,$s(void 0,this)),i.has("environment")&&this.records.set(xi,$s(void 0,this));const s=this.records.get($h);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(nm.multi,Ot,Ve.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=Ui(this),r=Tn(void 0);try{return t()}finally{Ui(n),Tn(r)}}get(t,n=cr,r=Ve.Default){this.assertNotDestroyed(),r=In(r);const i=Ui(this),s=Tn(void 0);try{if(!(r&Ve.SkipSelf)){let h=this.records.get(t);if(void 0===h){const p=function IM(e){return"function"==typeof e||"object"==typeof e&&e instanceof Ze}(t)&&Ee(t);h=p&&this.injectableDefInScope(p)?$s(Zh(t),fu):null,this.records.set(t,h)}if(null!=h)return this.hydrate(t,h)}return(r&Ve.Self?pu():this.parent).get(t,n=r&Ve.Optional&&n===cr?null:n)}catch(u){if("NullInjectorError"===u.name){if((u[qo]=u[qo]||[]).unshift(Oe(t)),i)throw u;return function Bl(e,t,n,r){const i=e[qo];throw t[Nl]&&i.unshift(t[Nl]),e.message=function jl(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==Da?e.slice(2):e;let i=Oe(t);if(Array.isArray(t))i=t.map(Oe).join(" -> ");else if("object"==typeof t){let s=[];for(let u in t)if(t.hasOwnProperty(u)){let h=t[u];s.push(u+":"+("string"==typeof h?JSON.stringify(h):Oe(h)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(Rc,"\n  ")}`}("\n"+e.message,i,n,r),e[Ic]=i,e[qo]=null,e}(u,t,"R3InjectorError",this.source)}throw u}finally{Tn(s),Ui(i)}}resolveInjectorInitializers(){const t=Ui(this),n=Tn(void 0);try{const r=this.get(du.multi,Ot,Ve.Self);for(const i of r)i()}finally{Ui(t),Tn(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Oe(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processProvider(t){let n=is(t=Fe(t))?t:Fe(t&&t.provide);const r=function kM(e){return Vh(e)?$s(void 0,e.useValue):$s(function um(e,t,n){let r;if(is(e)){const i=Fe(e);return xe(i)||Zh(i)}if(Vh(e))r=()=>Fe(e.useValue);else if(function am(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Ds(e.deps||[]));else if(function sm(e){return!(!e||!e.useExisting)}(e))r=()=>Ne(Fe(e.useExisting));else{const i=Fe(e&&(e.useClass||e.provide));if(!function PM(e){return!!e.deps}(e))return xe(i)||Zh(i);r=()=>new i(...Ds(e.deps))}return r}(e),fu)}(t);if(is(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=$s(void 0,fu,!0),i.factory=()=>Ds(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===fu&&(n.value=xM,n.value=n.factory()),"object"==typeof n.value&&n.value&&function TM(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Fe(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function Zh(e){const t=Ee(e),n=null!==t?t.factory:xe(e);if(null!==n)return n;if(e instanceof Ze)throw new we(204,!1);if(e instanceof Function)return function SM(e){const t=e.length;if(t>0)throw function Fa(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new we(204,!1);const n=function Nt(e){const t=e&&(e[Rt]||e[ur]);return t?(function He(e){if(e.hasOwnProperty("name"))return e.name;(""+e).match(/^function\s*([^\s(]+)/)}(e),t):null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new we(204,!1)}function $s(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function qh(e,t){for(const n of e)Array.isArray(n)?qh(n,t):n&&vi(n)?qh(n.\u0275providers,t):t(n)}class RM{}class cm{}class AM{resolveComponentFactory(t){throw function OM(e){const t=Error(`No component factory found for ${Oe(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let Wa=(()=>{class e{}return e.NULL=new AM,e})();function NM(){return Gs(On(),ge())}function Gs(e,t){return new Mo(Jn(e,t))}let Mo=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=NM,e})();class dm{}let jM=(()=>{class e{}return e.\u0275prov=Q({token:e,providedIn:"root",factory:()=>null}),e})();class mu{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const zM=new mu("15.2.4"),Wh={},Kh="ngOriginalError";function Yh(e){return e[Kh]}class Zs{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Yh(t);for(;n&&Yh(n);)n=Yh(n);return n||null}}function Ji(e){return e instanceof Function?e():e}function pm(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const s=t.length;if(i+s===r||e.charCodeAt(i+s)<=32)return i}n=i+1}}const gm="ng-template";function JM(e,t,n){let r=0,i=!0;for(;r<e.length;){let s=e[r++];if("string"==typeof s&&i){const u=e[r++];if(n&&"class"===s&&-1!==pm(u.toLowerCase(),t,0))return!0}else{if(1===s){for(;r<e.length&&"string"==typeof(s=e[r++]);)if(s.toLowerCase()===t)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function mm(e){return 4===e.type&&e.value!==gm}function XM(e,t,n){return t===(4!==e.type||n?e.value:gm)}function QM(e,t,n){let r=4;const i=e.attrs||[],s=function nD(e){for(let t=0;t<e.length;t++)if(Hp(e[t]))return t;return e.length}(i);let u=!1;for(let h=0;h<t.length;h++){const p=t[h];if("number"!=typeof p){if(!u)if(4&r){if(r=2|1&r,""!==p&&!XM(e,p,n)||""===p&&1===t.length){if(ii(r))return!1;u=!0}}else{const m=8&r?p:t[++h];if(8&r&&null!==e.attrs){if(!JM(e.attrs,m,n)){if(ii(r))return!1;u=!0}continue}const M=eD(8&r?"class":p,i,mm(e),n);if(-1===M){if(ii(r))return!1;u=!0;continue}if(""!==m){let T;T=M>s?"":i[M+1].toLowerCase();const z=8&r?T:null;if(z&&-1!==pm(z,m,0)||2&r&&m!==T){if(ii(r))return!1;u=!0}}}}else{if(!u&&!ii(r)&&!ii(p))return!1;if(u&&ii(p))continue;u=!1,r=p|1&r}}return ii(r)||u}function ii(e){return 0==(1&e)}function eD(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let s=!1;for(;i<t.length;){const u=t[i];if(u===e)return i;if(3===u||6===u)s=!0;else{if(1===u||2===u){let h=t[++i];for(;"string"==typeof h;)h=t[++i];continue}if(4===u)break;if(0===u){i+=4;continue}}i+=s?1:2}return-1}return function rD(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function _m(e,t,n=!1){for(let r=0;r<t.length;r++)if(QM(e,t[r],n))return!0;return!1}function ym(e,t){return e?":not("+t.trim()+")":t}function oD(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let u=e[n];if("string"==typeof u)if(2&r){const h=e[++n];i+="["+u+(h.length>0?'="'+h+'"':"")+"]"}else 8&r?i+="."+u:4&r&&(i+=" "+u);else""!==i&&!ii(u)&&(t+=ym(s,i),i=""),r=u,s=s||!ii(r);n++}return""!==i&&(t+=ym(s,i)),t}const pt={};function Do(e){vm(Pt(),ge(),er()+e,!1)}function vm(e,t,n,r){if(!r)if(3==(3&t[st])){const s=e.preOrderCheckHooks;null!==s&&Wl(t,s,n)}else{const s=e.preOrderHooks;null!==s&&Kl(t,s,0,n)}es(n)}function Mm(e,t=null,n=null,r){const i=Dm(e,t,n,r);return i.resolveInjectorInitializers(),i}function Dm(e,t=null,n=null,r,i=new Set){const s=[n||Ot,DM(e)];return r=r||("object"==typeof e?void 0:Oe(e)),new lm(s,t||pu(),r||null,i)}let Xi=(()=>{class e{static create(n,r){if(Array.isArray(n))return Mm({name:""},r,n,"");{const i=n.name??"";return Mm({name:i},n.parent,n.providers,i)}}}return e.THROW_IF_NOT_FOUND=cr,e.NULL=new rm,e.\u0275prov=Q({token:e,providedIn:"any",factory:()=>Ne(tm)}),e.__NG_ELEMENT_ID__=-1,e})();function tt(e,t=Ve.Default){const n=ge();return null===n?Ne(e,t):Jp(On(),n,Fe(e),t)}function Im(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const u=e.data[s];eh(n[r]),u.contentQueries(2,t[s],s)}}}function yu(e,t,n,r,i,s,u,h,p,m,v){const M=t.blueprint.slice();return M[Nr]=i,M[st]=76|r,(null!==v||e&&1024&e[st])&&(M[st]|=1024),Sp(M),M[qt]=M[yo]=e,M[Xt]=n,M[$i]=u||e&&e[$i],M[yt]=h||e&&e[yt],M[Es]=p||e&&e[Es]||null,M[Ls]=m||e&&e[Ls]||null,M[ln]=s,M[Jo]=function DC(){return MC++}(),M[xa]=v,M[Vt]=2==t.type?e[Vt]:M,M}function Ks(e,t,n,r,i){let s=e.data[t];if(null===s)s=function td(e,t,n,r,i){const s=Tp(),u=Yc(),p=e.data[t]=function TD(e,t,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,u?s:s&&s.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=p),null!==s&&(u?null==s.child&&null!==p.parent&&(s.child=p):null===s.next&&(s.next=p,p.prev=s)),p}(e,t,n,r,i),function S0(){return ft.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const u=function Ia(){const e=ft.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===u?-1:u.injectorIndex}return Li(s,!0),s}function Ka(e,t,n,r){if(0===n)return-1;const i=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function nd(e,t,n){th(t);try{const r=e.viewQuery;null!==r&&dd(1,r,n);const i=e.template;null!==i&&Rm(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Im(e,t),e.staticViewQueries&&dd(2,e.viewQuery,n);const s=e.components;null!==s&&function SD(e,t){for(let n=0;n<t.length;n++)YD(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[st]&=-5,nh()}}function vu(e,t,n,r){const i=t[st];if(128!=(128&i)){th(t);try{Sp(t),function Rp(e){return ft.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Rm(e,t,n,2,r);const u=3==(3&i);if(u){const m=e.preOrderCheckHooks;null!==m&&Wl(t,m,null)}else{const m=e.preOrderHooks;null!==m&&Kl(t,m,0,null),rh(t,0)}if(function WD(e){for(let t=Dh(e);null!==t;t=Lh(t)){if(!t[Gi])continue;const n=t[bo];for(let r=0;r<n.length;r++){const i=n[r];512&i[st]||qc(i[qt],1),i[st]|=512}}}(t),function qD(e){for(let t=Dh(e);null!==t;t=Lh(t))for(let n=Kt;n<t.length;n++){const r=t[n],i=r[Ie];Zl(r)&&vu(i,r,i.template,r[Xt])}}(t),null!==e.contentQueries&&Im(e,t),u){const m=e.contentCheckHooks;null!==m&&Wl(t,m)}else{const m=e.contentHooks;null!==m&&Kl(t,m,1),rh(t,1)}!function ED(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)es(~i);else{const s=i,u=n[++r],h=n[++r];k0(u,s),h(2,t[s])}}}finally{es(-1)}}(e,t);const h=e.components;null!==h&&function xD(e,t){for(let n=0;n<t.length;n++)KD(e,t[n])}(t,h);const p=e.viewQuery;if(null!==p&&dd(2,p,r),u){const m=e.viewCheckHooks;null!==m&&Wl(t,m)}else{const m=e.viewHooks;null!==m&&Kl(t,m,2),rh(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[st]&=-41,512&t[st]&&(t[st]&=-513,qc(t[qt],-1))}finally{nh()}}}function Rm(e,t,n,r,i){const s=er(),u=2&r;try{es(-1),u&&t.length>$t&&vm(e,t,$t,!1),Yn(u?2:0,i),n(r,i)}finally{es(s),Yn(u?3:1,i)}}function rd(e,t,n){if(ka(t)){const i=t.directiveEnd;for(let s=t.directiveStart;s<i;s++){const u=e.data[s];u.contentQueries&&u.contentQueries(1,n[s],s)}}}function id(e,t,n){Pp()&&(function FD(e,t,n,r){const i=n.directiveStart,s=n.directiveEnd;Mi(n)&&function $D(e,t,n){const r=Jn(t,e),i=Om(n),s=e[$i],u=bu(e,yu(e,i,null,n.onPush?32:16,r,t,s,s.createRenderer(r,n),null,null,null));e[t.index]=u}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||Ql(n,t),Un(r,t);const u=n.initialInputs;for(let h=i;h<s;h++){const p=e.data[h],m=ts(t,e,h,n);Un(m,t),null!==u&&GD(0,h-i,m,p,0,u),pr(p)&&(Xn(n.index,t)[Xt]=ts(t,e,h,n))}}(e,t,n,Jn(n,t)),64==(64&n.flags)&&zm(e,t,n))}function od(e,t,n=Jn){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const u=r[s+1],h=-1===u?n(t,e):e[u];e[i++]=h}}}function Om(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=sd(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function sd(e,t,n,r,i,s,u,h,p,m){const v=$t+r,M=v+i,T=function kD(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:pt);return n}(v,M),z="function"==typeof m?m():m;return T[Ie]={type:e,blueprint:T,template:n,queries:null,viewQuery:h,declTNode:t,data:T.slice().fill(null,v),bindingStartIndex:v,expandoStartIndex:M,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof u?u():u,firstChild:null,schemas:p,consts:z,incompleteFirstPass:!1}}function Nm(e,t,n,r){for(let i in e)if(e.hasOwnProperty(i)){n=null===n?{}:n;const s=e[i];null===r?Fm(n,t,i,s):r.hasOwnProperty(i)&&Fm(n,t,r[i],s)}return n}function Fm(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function Bm(e,t){const n=Xn(t,e);16&n[st]||(n[st]|=32)}function ad(e,t,n,r){if(Pp()){const i=null===r?null:{"":-1},s=function jD(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const u=n[s];if(_m(t,u.selectors,!1))if(r||(r=[]),pr(u))if(null!==u.findHostDirectiveDefs){const h=[];i=i||new Map,u.findHostDirectiveDefs(u,h,i),r.unshift(...h,u),ld(e,t,h.length)}else r.unshift(u),ld(e,t,0);else i=i||new Map,u.findHostDirectiveDefs?.(u,r,i),r.push(u)}return null===r?null:[r,i]}(e,n);let u,h;null===s?u=h=null:[u,h]=s,null!==u&&jm(e,t,n,u,i,h),i&&function zD(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const s=n[t[i+1]];if(null==s)throw new we(-301,!1);r.push(t[i],s)}}}(n,r,i)}n.mergedAttrs=Oa(n.mergedAttrs,n.attrs)}function jm(e,t,n,r,i,s){for(let m=0;m<r.length;m++)uh(Ql(n,t),e,r[m].type);!function HD(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let m=0;m<r.length;m++){const v=r[m];v.providersResolver&&v.providersResolver(v)}let u=!1,h=!1,p=Ka(e,t,r.length,null);for(let m=0;m<r.length;m++){const v=r[m];n.mergedAttrs=Oa(n.mergedAttrs,v.hostAttrs),VD(e,n,t,p,v),UD(p,v,i),null!==v.contentQueries&&(n.flags|=4),(null!==v.hostBindings||null!==v.hostAttrs||0!==v.hostVars)&&(n.flags|=64);const M=v.type.prototype;!u&&(M.ngOnChanges||M.ngOnInit||M.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),u=!0),!h&&(M.ngOnChanges||M.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),h=!0),p++}!function ID(e,t,n){const i=t.directiveEnd,s=e.data,u=t.attrs,h=[];let p=null,m=null;for(let v=t.directiveStart;v<i;v++){const M=s[v],T=n?n.get(M):null,K=T?T.outputs:null;p=Nm(M.inputs,v,p,T?T.inputs:null),m=Nm(M.outputs,v,m,K);const ae=null===p||null===u||mm(t)?null:ZD(p,v,u);h.push(ae)}null!==p&&(p.hasOwnProperty("class")&&(t.flags|=8),p.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=h,t.inputs=p,t.outputs=m}(e,n,s)}function zm(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,u=function P0(){return ft.lFrame.currentDirectiveIndex}();try{es(s);for(let h=r;h<i;h++){const p=e.data[h],m=t[h];Xc(h),(null!==p.hostBindings||0!==p.hostVars||null!==p.hostAttrs)&&BD(p,m)}}finally{es(-1),Xc(u)}}function BD(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function ld(e,t,n){t.componentOffset=n,(e.components||(e.components=[])).push(t.index)}function UD(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;pr(t)&&(n[""]=e)}}function VD(e,t,n,r,i){e.data[r]=i;const s=i.factory||(i.factory=xe(i.type)),u=new Ra(s,pr(i),tt);e.blueprint[r]=u,n[r]=u,function AD(e,t,n,r,i){const s=i.hostBindings;if(s){let u=e.hostBindingOpCodes;null===u&&(u=e.hostBindingOpCodes=[]);const h=~t.index;(function ND(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(u)!=h&&u.push(h),u.push(n,r,s)}}(e,t,r,Ka(e,n,i.hostVars,pt),i)}function GD(e,t,n,r,i,s){const u=s[t];if(null!==u){const h=r.setInput;for(let p=0;p<u.length;){const m=u[p++],v=u[p++],M=u[p++];null!==h?r.setInput(n,M,m,v):n[v]=M}}}function ZD(e,t,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===r&&(r=[]);const u=e[s];for(let h=0;h<u.length;h+=2)if(u[h]===t){r.push(s,u[h+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Um(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null]}function KD(e,t){const n=Xn(t,e);if(Zl(n)){const r=n[Ie];48&n[st]?vu(r,n,r.template,n[Xt]):n[fr]>0&&cd(n)}}function cd(e){for(let r=Dh(e);null!==r;r=Lh(r))for(let i=Kt;i<r.length;i++){const s=r[i];if(Zl(s))if(512&s[st]){const u=s[Ie];vu(u,s,u.template,s[Xt])}else s[fr]>0&&cd(s)}const n=e[Ie].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Xn(n[r],e);Zl(i)&&i[fr]>0&&cd(i)}}function YD(e,t){const n=Xn(t,e),r=n[Ie];(function JD(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),nd(r,n,n[Xt])}function bu(e,t){return e[Yo]?e[Ea][jn]=t:e[Yo]=t,e[Ea]=t,t}function hd(e){for(;e;){e[st]|=32;const t=Va(e);if(Hl(e)&&!t)return e;e=t}return null}function wu(e,t,n,r=!0){const i=t[$i];i.begin&&i.begin();try{vu(e,t,e.template,n)}catch(u){throw r&&Gm(t,u),u}finally{i.end&&i.end()}}function dd(e,t,n){eh(0),t(e,n)}function Hm(e){return e[wi]||(e[wi]=[])}function Vm(e){return e.cleanup||(e.cleanup=[])}function Gm(e,t){const n=e[Ls],r=n?n.get(Zs,null):null;r&&r.handleError(t)}function fd(e,t,n,r,i){for(let s=0;s<n.length;){const u=n[s++],h=n[s++],p=t[u],m=e.data[u];null!==m.setInput?m.setInput(p,i,r,h):p[h]=i}}function Cu(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(null!==t)for(let u=0;u<t.length;u++){const h=t[u];"number"==typeof h?s=h:1==s?i=Ht(i,h):2==s&&(r=Ht(r,h+": "+t[++u]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function Mu(e,t,n,r,i=!1){for(;null!==n;){const s=t[n.index];if(null!==s&&r.push(Mt(s)),Rn(s))for(let h=Kt;h<s.length;h++){const p=s[h],m=p[Ie].firstChild;null!==m&&Mu(p[Ie],p,m,r)}const u=n.type;if(8&u)Mu(e,t,n.child,r);else if(32&u){const h=Mh(n,t);let p;for(;p=h();)r.push(p)}else if(16&u){const h=Fg(t,n);if(Array.isArray(h))r.push(...h);else{const p=Va(t[Vt]);Mu(p[Ie],p,h,r,!0)}}n=i?n.projectionNext:n.next}return r}class Ya{get rootNodes(){const t=this._lView,n=t[Ie];return Mu(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Xt]}set context(t){this._lView[Xt]=t}get destroyed(){return 128==(128&this._lView[st])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[qt];if(Rn(t)){const n=t[Qo],r=n?n.indexOf(this):-1;r>-1&&(Sh(t,r),nu(n,r))}this._attachedToViewContainer=!1}Sg(this._lView[Ie],this._lView)}onDestroy(t){!function Am(e,t,n,r){const i=Hm(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&Vm(e).push(r,i.length-1))}(this._lView[Ie],this._lView,null,t)}markForCheck(){hd(this._cdRefInjectingView||this._lView)}detach(){this._lView[st]&=-65}reattach(){this._lView[st]|=64}detectChanges(){wu(this._lView[Ie],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function jC(e,t){$a(e,t,t[yt],2,null,null)}(this._lView[Ie],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=t}}class XD extends Ya{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;wu(t[Ie],t,t[Xt],!1)}checkNoChanges(){}get context(){return null}}class Zm extends Wa{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=kt(t);return new Ja(n,this.ngModule)}}function qm(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class eL{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=In(r);const i=this.injector.get(t,Wh,r);return i!==Wh||n===Wh?i:this.parentInjector.get(t,n,r)}}class Ja extends cm{get inputs(){return qm(this.componentDef.inputs)}get outputs(){return qm(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function sD(e){return e.map(oD).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let s=(i=i||this.ngModule)instanceof xi?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const u=s?new eL(t,s):t,h=u.get(dm,null);if(null===h)throw new we(407,!1);const p=u.get(jM,null),m=h.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",M=r?function PD(e,t,n){return e.selectRootElement(t,n===dr.ShadowDom)}(m,r,this.componentDef.encapsulation):xh(m,v,function QD(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(v)),T=this.componentDef.onPush?288:272,z=sd(0,null,null,1,0,null,null,null,null,null),K=yu(null,z,null,T,null,null,h,m,p,u,null);let ae,de;th(K);try{const pe=this.componentDef;let Te,fe=null;pe.findHostDirectiveDefs?(Te=[],fe=new Map,pe.findHostDirectiveDefs(pe,Te,fe),Te.push(pe)):Te=[pe];const et=function nL(e,t){const n=e[Ie],r=$t;return e[r]=t,Ks(n,r,2,"#host",null)}(K,M),Gt=function rL(e,t,n,r,i,s,u,h){const p=i[Ie];!function iL(e,t,n,r){for(const i of e)t.mergedAttrs=Oa(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(Cu(t,t.mergedAttrs,!0),null!==n&&zg(r,n,t))}(r,e,t,u);const m=s.createRenderer(t,n),v=yu(i,Om(n),null,n.onPush?32:16,i[e.index],e,s,m,h||null,null,null);return p.firstCreatePass&&ld(p,e,r.length-1),bu(i,v),i[e.index]=v}(et,M,pe,Te,K,h,m);de=Is(z,$t),M&&function sL(e,t,n,r){if(r)oh(e,n,["ng-version",zM.full]);else{const{attrs:i,classes:s}=function aD(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++r]):8===i&&n.push(s);else{if(!ii(i))break;i=s}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&oh(e,n,i),s&&s.length>0&&jg(e,n,s.join(" "))}}(m,pe,M,r),void 0!==n&&function aL(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(de,this.ngContentSelectors,n),ae=function oL(e,t,n,r,i,s){const u=On(),h=i[Ie],p=Jn(u,i);jm(h,i,u,n,null,r);for(let v=0;v<n.length;v++)Un(ts(i,h,u.directiveStart+v,u),i);zm(h,i,u),p&&Un(p,i);const m=ts(i,h,u.directiveStart+u.componentOffset,u);if(e[Xt]=i[Xt]=m,null!==s)for(const v of s)v(m,t);return rd(h,u,e),m}(Gt,pe,Te,fe,K,[lL]),nd(z,K,null)}finally{nh()}return new tL(this.componentType,ae,Gs(de,K),K,de)}}class tL extends RM{constructor(t,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new XD(i),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){const s=this._rootLView;fd(s[Ie],s,i,t,n),Bm(s,this._tNode.index)}}get injector(){return new As(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function lL(){const e=On();ql(ge()[Ie],e)}function Hn(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function _d(e,t,n){const r=ge();return Hn(r,function Rs(){return ft.lFrame.bindingIndex++}(),t)&&function Er(e,t,n,r,i,s,u,h){const p=Jn(t,n);let v,m=t.inputs;!h&&null!=m&&(v=m[r])?(fd(e,n,v,r,i),Mi(t)&&Bm(n,t.index)):3&t.type&&(r=function RD(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=u?u(i,t.value||"",r):i,s.setProperty(p,r,i))}(Pt(),function en(){const e=ft.lFrame;return Is(e.tView,e.selectedIndex)}(),r,e,t,r[yt],n,!1),_d}function yd(e,t,n,r,i){const u=i?"class":"style";fd(e,n,t.inputs[u],u,r)}function jr(e,t,n,r){const i=ge(),s=Pt(),u=$t+e,h=i[yt],p=s.firstCreatePass?function LL(e,t,n,r,i,s){const u=t.consts,p=Ks(t,e,2,r,wo(u,i));return ad(t,n,p,wo(u,s)),null!==p.attrs&&Cu(p,p.attrs,!1),null!==p.mergedAttrs&&Cu(p,p.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,p),p}(u,s,i,t,n,r):s.data[u],m=i[u]=xh(h,t,function B0(){return ft.lFrame.currentNamespace}()),v=Di(p);return Li(p,!0),zg(h,m,p),32!=(32&p.flags)&&au(s,i,m,p),0===function C0(){return ft.lFrame.elementDepthCount}()&&Un(m,i),function M0(){ft.lFrame.elementDepthCount++}(),v&&(id(s,i,p),rd(s,p,i)),null!==r&&od(i,p),jr}function zr(){let e=On();Yc()?function Jc(){ft.lFrame.isParent=!1}():(e=e.parent,Li(e,!1));const t=e;!function D0(){ft.lFrame.elementDepthCount--}();const n=Pt();return n.firstCreatePass&&(ql(n,e),ka(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function H0(e){return 0!=(8&e.flags)}(t)&&yd(n,t,ge(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function V0(e){return 0!=(16&e.flags)}(t)&&yd(n,t,ge(),t.stylesWithoutHost,!1),zr}function Ur(e,t,n,r){return jr(e,t,n,r),zr(),Ur}function Eu(e){return!!e&&"function"==typeof e.then}const d_=function h_(e){return!!e&&"function"==typeof e.subscribe};function oi(e,t,n,r){const i=ge(),s=Pt(),u=On();return function p_(e,t,n,r,i,s,u){const h=Di(r),m=e.firstCreatePass&&Vm(e),v=t[Xt],M=Hm(t);let T=!0;if(3&r.type||u){const ae=Jn(r,t),de=u?u(ae):ae,pe=M.length,Te=u?et=>u(Mt(et[r.index])):r.index;let fe=null;if(!u&&h&&(fe=function xL(e,t,n,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const u=i[s];if(u===n&&i[s+1]===r){const h=t[wi],p=i[s+2];return h.length>p?h[p]:null}"string"==typeof u&&(s+=2)}return null}(e,t,i,r.index)),null!==fe)(fe.__ngLastListenerFn__||fe).__ngNextListenerFn__=s,fe.__ngLastListenerFn__=s,T=!1;else{s=m_(r,t,v,s,!1);const et=n.listen(de,i,s);M.push(s,et),m&&m.push(i,Te,pe,pe+1)}}else s=m_(r,t,v,s,!1);const z=r.outputs;let K;if(T&&null!==z&&(K=z[i])){const ae=K.length;if(ae)for(let de=0;de<ae;de+=2){const Gt=t[K[de]][K[de+1]].subscribe(s),fn=M.length;M.push(s,Gt),m&&m.push(i,r.index,fn,-(fn+1))}}}(s,i,i[yt],u,e,t,r),oi}function g_(e,t,n,r){try{return Yn(6,t,n),!1!==n(r)}catch(i){return Gm(e,i),!1}finally{Yn(7,t,n)}}function m_(e,t,n,r,i){return function s(u){if(u===Function)return r;hd(e.componentOffset>-1?Xn(e.index,t):t);let p=g_(t,n,r,u),m=s.__ngNextListenerFn__;for(;m;)p=g_(t,n,m,u)&&p,m=m.__ngNextListenerFn__;return i&&!1===p&&(u.preventDefault(),u.returnValue=!1),p}}function wd(e=1){return function I0(e){return(ft.lFrame.contextLView=function R0(e,t){for(;e>0;)t=t[yo],e--;return t}(e,ft.lFrame.contextLView))[Xt]}(e)}function xu(e,t){return e<<17|t<<2}function Lo(e){return e>>17&32767}function Md(e){return 2|e}function ss(e){return(131068&e)>>2}function Dd(e,t){return-131069&e|t<<2}function Ld(e){return 1|e}function E_(e,t,n,r,i){const s=e[n+1],u=null===t;let h=r?Lo(s):ss(s),p=!1;for(;0!==h&&(!1===p||u);){const v=e[h+1];NL(e[h],t)&&(p=!0,e[h+1]=r?Ld(v):Md(v)),h=r?Lo(v):ss(v)}p&&(e[n+1]=r?Md(s):Ld(s))}function NL(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&zs(e,t)>=0}function sa(e,t,n){return si(e,t,n,!1),sa}function Su(e,t){return si(e,t,null,!0),Su}function si(e,t,n,r){const i=ge(),s=Pt(),u=function Ki(e){const t=ft.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);s.firstUpdatePass&&function O_(e,t,n,r){const i=e.data;if(null===i[n+1]){const s=i[er()],u=function R_(e,t){return t>=e.expandoStartIndex}(e,n);(function B_(e,t){return 0!=(e.flags&(t?8:16))})(s,r)&&null===t&&!u&&(t=!1),t=function GL(e,t,n,r){const i=function Qc(e){const t=ft.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let s=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Qa(n=Ed(null,e,t,n,r),t.attrs,r),s=null);else{const u=t.directiveStylingLast;if(-1===u||e[u]!==i)if(n=Ed(i,e,t,n,r),null===s){let p=function ZL(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==ss(r))return e[Lo(r)]}(e,t,r);void 0!==p&&Array.isArray(p)&&(p=Ed(null,e,t,p[1],r),p=Qa(p,t.attrs,r),function qL(e,t,n,r){e[Lo(n?t.classBindings:t.styleBindings)]=r}(e,t,r,p))}else s=function WL(e,t,n){let r;const i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++)r=Qa(r,e[s].hostAttrs,n);return Qa(r,t.attrs,n)}(e,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),n}(i,s,t,r),function OL(e,t,n,r,i,s){let u=s?t.classBindings:t.styleBindings,h=Lo(u),p=ss(u);e[r]=n;let v,m=!1;if(Array.isArray(n)?(v=n[1],(null===v||zs(n,v)>0)&&(m=!0)):v=n,i)if(0!==p){const T=Lo(e[h+1]);e[r+1]=xu(T,h),0!==T&&(e[T+1]=Dd(e[T+1],r)),e[h+1]=function IL(e,t){return 131071&e|t<<17}(e[h+1],r)}else e[r+1]=xu(h,0),0!==h&&(e[h+1]=Dd(e[h+1],r)),h=r;else e[r+1]=xu(p,0),0===h?h=r:e[p+1]=Dd(e[p+1],r),p=r;m&&(e[r+1]=Md(e[r+1])),E_(e,v,r,!0),E_(e,v,r,!1),function AL(e,t,n,r,i){const s=i?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&zs(s,t)>=0&&(n[r+1]=Ld(n[r+1]))}(t,v,e,r,s),u=xu(h,p),s?t.classBindings=u:t.styleBindings=u}(i,s,t,n,u,r)}}(s,e,u,r),t!==pt&&Hn(i,u,t)&&function N_(e,t,n,r,i,s,u,h){if(!(3&t.type))return;const p=e.data,m=p[h+1],v=function RL(e){return 1==(1&e)}(m)?F_(p,t,n,i,ss(m),u):void 0;ku(v)||(ku(s)||function TL(e){return 2==(2&e)}(m)&&(s=F_(p,null,n,i,h,u)),function KC(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:gr.DashCase;null==i?e.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=gr.Important),e.setStyle(n,r,i,s))}}(r,u,function Ts(e,t){return Mt(t[e])}(er(),n),i,s))}(s,s.data[er()],i,i[yt],e,i[u+1]=function JL(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Oe(function Co(e){return e instanceof Gg?e.changingThisBreaksApplicationSecurity:e}(e)))),e}(t,n),r,u)}function Ed(e,t,n,r,i){let s=null;const u=n.directiveEnd;let h=n.directiveStylingLast;for(-1===h?h=n.directiveStart:h++;h<u&&(s=t[h],r=Qa(r,s.hostAttrs,i),s!==e);)h++;return null!==e&&(n.directiveStylingLast=h),r}function Qa(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let s=0;s<t.length;s++){const u=t[s];"number"==typeof u?i=u:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Lr(e,u,!!n||t[++s]))}return void 0===e?null:e}function F_(e,t,n,r,i,s){const u=null===t;let h;for(;i>0;){const p=e[i],m=Array.isArray(p),v=m?p[1]:p,M=null===v;let T=n[i+1];T===pt&&(T=M?Ot:void 0);let z=M?fh(T,r):v===r?T:void 0;if(m&&!ku(z)&&(z=fh(p,r)),ku(z)&&(h=z,u))return h;const K=e[i+1];i=u?Lo(K):ss(K)}if(null!==t){let p=s?t.residualClasses:t.residualStyles;null!=p&&(h=fh(p,r))}return h}function ku(e){return void 0!==e}function xd(e,t=""){const n=ge(),r=Pt(),i=e+$t,s=r.firstCreatePass?Ks(r,i,1,t,null):r.data[i],u=n[i]=function Eh(e,t){return e.createText(t)}(n[yt],t);au(r,n,u,s),Li(s,!1)}const la="en-US";let ay=la;class ua{}class Ry{}class Oy extends ua{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Zm(this);const r=_n(t);this._bootstrapComponents=Ji(r.bootstrap),this._r3Injector=Dm(t,n,[{provide:ua,useValue:this},{provide:Wa,useValue:this.componentFactoryResolver}],Oe(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ad extends Ry{constructor(t){super(),this.moduleType=t}create(t){return new Oy(this.moduleType,t)}}class yx extends ua{constructor(t,n,r){super(),this.componentFactoryResolver=new Zm(this),this.instance=null;const i=new lm([...t,{provide:ua,useValue:this},{provide:Wa,useValue:this.componentFactoryResolver}],n||pu(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Ou(e,t,n=null){return new yx(e,t,n).injector}let vx=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=im(0,n.type),i=r.length>0?Ou([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=Q({token:e,providedIn:"environment",factory:()=>new e(Ne(xi))}),e})();function Ay(e){e.getStandaloneInjector=t=>t.get(vx).getOrCreateStandaloneInjector(e)}function Fd(e){return t=>{setTimeout(e,void 0,t)}}const nr=class Gx extends St{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,s=n||(()=>null),u=r;if(t&&"object"==typeof t){const p=t;i=p.next?.bind(p),s=p.error?.bind(p),u=p.complete?.bind(p)}this.__isAsync&&(s=Fd(s),i&&(i=Fd(i)),u&&(u=Fd(u)));const h=super.subscribe({next:i,error:s,complete:u});return t instanceof I&&t.add(h),h}};let eo=(()=>{class e{}return e.__NG_ELEMENT_ID__=Kx,e})();const qx=eo,Wx=class extends qx{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t,n){const r=this._declarationTContainer.tView,i=yu(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null,n||null);i[Ci]=this._declarationLView[this._declarationTContainer.index];const u=this._declarationLView[Wn];return null!==u&&(i[Wn]=u.createEmbeddedView(r)),nd(r,i,t),new Ya(i)}};function Kx(){return function Au(e,t){return 4&e.type?new Wx(t,e,Gs(e,t)):null}(On(),ge())}let li=(()=>{class e{}return e.__NG_ELEMENT_ID__=Yx,e})();function Yx(){return function Ky(e,t){let n;const r=t[e.index];if(Rn(r))n=r;else{let i;if(8&e.type)i=Mt(r);else{const s=t[yt];i=s.createComment("");const u=Jn(e,t);rs(s,su(s,u),i,function ZC(e,t){return e.nextSibling(t)}(s,u),!1)}t[e.index]=n=Um(r,t,i,e),bu(t,n)}return new qy(n,e,t)}(On(),ge())}const Jx=li,qy=class extends Jx{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Gs(this._hostTNode,this._hostLView)}get injector(){return new As(this._hostTNode,this._hostLView)}get parentInjector(){const t=lh(this._hostTNode,this._hostLView);if(Gp(t)){const n=Jl(t,this._hostLView),r=Yl(t);return new As(n[Ie].data[r+8],n)}return new As(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Wy(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Kt}createEmbeddedView(t,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const u=t.createEmbeddedView(n||{},s);return this.insert(u,i),u}createComponent(t,n,r,i,s){const u=t&&!function Na(e){return"function"==typeof e}(t);let h;if(u)h=n;else{const M=n||{};h=M.index,r=M.injector,i=M.projectableNodes,s=M.environmentInjector||M.ngModuleRef}const p=u?t:new Ja(kt(t)),m=r||this.parentInjector;if(!s&&null==p.ngModule){const T=(u?m:this.parentInjector).get(xi,null);T&&(s=T)}const v=p.create(m,i,void 0,s);return this.insert(v.hostView,h),v}insert(t,n){const r=t._lView,i=r[Ie];if(function w0(e){return Rn(e[qt])}(r)){const v=this.indexOf(t);if(-1!==v)this.detach(v);else{const M=r[qt],T=new qy(M,M[ln],M[qt]);T.detach(T.indexOf(t))}}const s=this._adjustIndex(n),u=this._lContainer;!function UC(e,t,n,r){const i=Kt+r,s=n.length;r>0&&(n[i-1][jn]=t),r<s-Kt?(t[jn]=n[i],ig(n,Kt+r,t)):(n.push(t),t[jn]=null),t[qt]=n;const u=t[Ci];null!==u&&n!==u&&function HC(e,t){const n=e[bo];t[Vt]!==t[qt][qt][Vt]&&(e[Gi]=!0),null===n?e[bo]=[t]:n.push(t)}(u,t);const h=t[Wn];null!==h&&h.insertView(e),t[st]|=64}(i,r,u,s);const h=Th(s,u),p=r[yt],m=su(p,u[Xo]);return null!==m&&function BC(e,t,n,r,i,s){r[Nr]=i,r[ln]=t,$a(e,r,n,1,i,s)}(i,u[ln],p,r,m,h),t.attachToViewContainerRef(),ig(jd(u),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Wy(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Sh(this._lContainer,n);r&&(nu(jd(this._lContainer),n),Sg(r[Ie],r))}detach(t){const n=this._adjustIndex(t,-1),r=Sh(this._lContainer,n);return r&&null!=nu(jd(this._lContainer),n)?new Ya(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Wy(e){return e[Qo]}function jd(e){return e[Qo]||(e[Qo]=[])}function Fu(...e){}const Bu=new Ze("Application Initializer");let ju=(()=>{class e{constructor(n){this.appInits=n,this.resolve=Fu,this.reject=Fu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Eu(s))n.push(s);else if(d_(s)){const u=new Promise((h,p)=>{s.subscribe({complete:h,error:p})});n.push(u)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(Ne(Bu,8))},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const ll=new Ze("AppId",{providedIn:"root",factory:function wv(){return`${Yd()}${Yd()}${Yd()}`}});function Yd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Cv=new Ze("Platform Initializer"),Jd=new Ze("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let LS=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const to=new Ze("LocaleId",{providedIn:"root",factory:()=>ct(to,Ve.Optional|Ve.SkipSelf)||function ES(){return typeof $localize<"u"&&$localize.locale||la}()});class SS{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let Mv=(()=>{class e{compileModuleSync(n){return new Ad(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Ji(_n(n).declarations).reduce((u,h)=>{const p=kt(h);return p&&u.push(new Ja(p)),u},[]);return new SS(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const TS=(()=>Promise.resolve(0))();function Xd(e){typeof Zone>"u"?TS.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class un{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nr(!1),this.onMicrotaskEmpty=new nr(!1),this.onStable=new nr(!1),this.onError=new nr(!1),typeof Zone>"u")throw new we(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function IS(){let e=Ut.requestAnimationFrame,t=Ut.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function AS(e){const t=()=>{!function OS(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ut,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,ef(e),e.isCheckStableRunning=!0,Qd(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),ef(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,u,h)=>{try{return Ev(e),n.invokeTask(i,s,u,h)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),xv(e)}},onInvoke:(n,r,i,s,u,h,p)=>{try{return Ev(e),n.invoke(i,s,u,h,p)}finally{e.shouldCoalesceRunChangeDetection&&t(),xv(e)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,ef(e),Qd(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!un.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if(un.isInAngularZone())throw new we(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const s=this._inner,u=s.scheduleEventTask("NgZoneEvent: "+i,t,RS,Fu,Fu);try{return s.runTask(u,n,r)}finally{s.cancelTask(u)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const RS={};function Qd(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function ef(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Ev(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function xv(e){e._nesting--,Qd(e)}class NS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nr,this.onMicrotaskEmpty=new nr,this.onStable=new nr,this.onError=new nr}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}const Sv=new Ze(""),zu=new Ze("");let rf,tf=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,rf||(function FS(e){rf=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{un.assertNotInAngularZone(),Xd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Xd(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(u=>u.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return e.\u0275fac=function(n){return new(n||e)(Ne(un),Ne(nf),Ne(zu))},e.\u0275prov=Q({token:e,factory:e.\u0275fac}),e})(),nf=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return rf?.findTestabilityInTree(this,n,r)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const no=!1;let Eo=null;const kv=new Ze("AllowMultipleToken"),sf=new Ze("PlatformDestroyListeners"),Pv=new Ze("appBootstrapListener");class Tv{constructor(t,n){this.name=t,this.token=n}}function Rv(e,t,n=[]){const r=`Platform: ${t}`,i=new Ze(r);return(s=[])=>{let u=af();if(!u||u.injector.get(kv,!1)){const h=[...n,...s,{provide:i,useValue:!0}];e?e(h):function zS(e){if(Eo&&!Eo.get(kv,!1))throw new we(400,!1);Eo=e;const t=e.get(Av);(function Iv(e){const t=e.get(Cv,null);t&&t.forEach(n=>n())})(e)}(function Ov(e=[],t){return Xi.create({name:t,providers:[{provide:$h,useValue:"platform"},{provide:sf,useValue:new Set([()=>Eo=null])},...e]})}(h,r))}return function HS(e){const t=af();if(!t)throw new we(401,!1);return t}()}}function af(){return Eo?.get(Av)??null}let Av=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function Fv(e,t){let n;return n="noop"===e?new NS:("zone.js"===e?void 0:e)||new un(t),n}(r?.ngZone,function Nv(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:un,useValue:i}];return i.run(()=>{const u=Xi.create({providers:s,parent:this.injector,name:n.moduleType.name}),h=n.create(u),p=h.injector.get(Zs,null);if(!p)throw new we(402,!1);return i.runOutsideAngular(()=>{const m=i.onError.subscribe({next:v=>{p.handleError(v)}});h.onDestroy(()=>{Hu(this._modules,h),m.unsubscribe()})}),function Bv(e,t,n){try{const r=n();return Eu(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(p,i,()=>{const m=h.injector.get(ju);return m.runInitializers(),m.donePromise.then(()=>(function ly(e){O(e,"Expected localeId to be defined"),"string"==typeof e&&(ay=e.toLowerCase().replace(/_/g,"-"))}(h.injector.get(to,la)||la),this._moduleDoBootstrap(h),h))})})}bootstrapModule(n,r=[]){const i=jv({},r);return function BS(e,t,n){const r=new Ad(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Uu);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new we(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(sf,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(Ne(Xi))},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function jv(e,t){return Array.isArray(t)?t.reduce(jv,e):{...e,...t}}let Uu=(()=>{class e{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new it(h=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{h.next(this._stable),h.complete()})}),u=new it(h=>{let p;this._zone.runOutsideAngular(()=>{p=this._zone.onStable.subscribe(()=>{un.assertNotInAngularZone(),Xd(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,h.next(!0))})})});const m=this._zone.onUnstable.subscribe(()=>{un.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{h.next(!1)}))});return()=>{p.unsubscribe(),m.unsubscribe()}});this.isStable=function Bt(...e){const t=Ir(e),n=function co(e,t){return"number"==typeof Fi(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?$n(r[0]):Tr(n)(Ge(r,t)):Gn}(s,u.pipe(function ji(e={}){const{connector:t=(()=>new St),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return s=>{let u,h,p,m=0,v=!1,M=!1;const T=()=>{h?.unsubscribe(),h=void 0},z=()=>{T(),u=p=void 0,v=M=!1},K=()=>{const ae=u;z(),ae?.unsubscribe()};return Tt((ae,de)=>{m++,!M&&!v&&T();const pe=p=p??t();de.add(()=>{m--,0===m&&!M&&!v&&(h=wr(K,i))}),pe.subscribe(de),!u&&m>0&&(u=new Le({next:Te=>pe.next(Te),error:Te=>{M=!0,T(),h=wr(z,n,Te),pe.error(Te)},complete:()=>{v=!0,T(),h=wr(z,r),pe.complete()}}),$n(ae).subscribe(u))})(s)}}()))}bootstrap(n,r){const i=n instanceof cm;if(!this._injector.get(ju).done){!i&&function _o(e){const t=kt(e)||Sn(e)||Jt(e);return null!==t&&t.standalone}(n);throw new we(405,no)}let u;u=i?n:this._injector.get(Wa).resolveComponentFactory(n),this.componentTypes.push(u.componentType);const h=function jS(e){return e.isBoundToModule}(u)?void 0:this._injector.get(ua),m=u.create(Xi.NULL,[],r||u.selector,h),v=m.location.nativeElement,M=m.injector.get(Sv,null);return M?.registerApplication(v),m.onDestroy(()=>{this.detachView(m.hostView),Hu(this.components,m),M?.unregisterApplication(v)}),this._loadComponent(m),m}tick(){if(this._runningTick)throw new we(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Hu(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Pv,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Hu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new we(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(Ne(un),Ne(xi),Ne(Zs))},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Hu(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let lf=(()=>{class e{}return e.__NG_ELEMENT_ID__=$S,e})();function $S(e){return function GS(e,t,n){if(Mi(e)&&!n){const r=Xn(e.index,t);return new Ya(r,r)}return 47&e.type?new Ya(t[Vt],t):null}(On(),ge(),16==(16&e))}const ik=Rv(null,"core",[]);let ok=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(Ne(Uu))},e.\u0275mod=Dr({type:e}),e.\u0275inj=_e({}),e})(),pf=null;function us(){return pf}class lk{}const ir=new Ze("DocumentToken");let gf=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Q({token:e,factory:function(){return function uk(){return Ne(Yv)}()},providedIn:"platform"}),e})();const ck=new Ze("Location Initialized");let Yv=(()=>{class e extends gf{constructor(n){super(),this._doc=n,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return us().getBaseHref(this._doc)}onPopState(n){const r=us().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=us().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){Jv()?this._history.pushState(n,r,i):this._location.hash=i}replaceState(n,r,i){Jv()?this._history.replaceState(n,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return e.\u0275fac=function(n){return new(n||e)(Ne(ir))},e.\u0275prov=Q({token:e,factory:function(){return function hk(){return new Yv(Ne(ir))}()},providedIn:"platform"}),e})();function Jv(){return!!window.history.pushState}function mf(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function Xv(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function ro(e){return e&&"?"!==e[0]?"?"+e:e}let cs=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Q({token:e,factory:function(){return ct(eb)},providedIn:"root"}),e})();const Qv=new Ze("appBaseHref");let eb=(()=>{class e extends cs{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ct(ir).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return mf(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+ro(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const u=this.prepareExternalUrl(i+ro(s));this._platformLocation.pushState(n,r,u)}replaceState(n,r,i,s){const u=this.prepareExternalUrl(i+ro(s));this._platformLocation.replaceState(n,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(Ne(gf),Ne(Qv,8))},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),dk=(()=>{class e extends cs{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=mf(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let u=this.prepareExternalUrl(i+ro(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(n,r,u)}replaceState(n,r,i,s){let u=this.prepareExternalUrl(i+ro(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(Ne(gf),Ne(Qv,8))},e.\u0275prov=Q({token:e,factory:e.\u0275fac}),e})(),_f=(()=>{class e{constructor(n){this._subject=new nr,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function gk(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(Xv(tb(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ro(r))}normalize(n){return e.stripTrailingSlash(function pk(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,tb(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ro(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ro(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return e.normalizeQueryParams=ro,e.joinWithSlash=mf,e.stripTrailingSlash=Xv,e.\u0275fac=function(n){return new(n||e)(Ne(cs))},e.\u0275prov=Q({token:e,factory:function(){return function fk(){return new _f(Ne(cs))}()},providedIn:"root"}),e})();function tb(e){return e.replace(/\/index.html$/,"")}function cb(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}let gb=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new rP,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){mb("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){mb("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return e.\u0275fac=function(n){return new(n||e)(tt(li),tt(eo))},e.\u0275dir=mn({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class rP{constructor(){this.$implicit=null,this.ngIf=null}}function mb(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Oe(t)}'.`)}let SP=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Dr({type:e}),e.\u0275inj=_e({}),e})();let IP=(()=>{class e{}return e.\u0275prov=Q({token:e,providedIn:"root",factory:()=>new RP(Ne(ir),window)}),e})();class RP{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function OP(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const u=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=t)}}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=bb(this.window.history)||bb(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function bb(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class wb{}class aT extends lk{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Of extends aT{static makeCurrent(){!function ak(e){pf||(pf=e)}(new Of)}onAndCancel(t,n,r){return t.addEventListener(n,r,!1),()=>{t.removeEventListener(n,r,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function lT(){return fl=fl||document.querySelector("base"),fl?fl.getAttribute("href"):null}();return null==n?null:function uT(e){rc=rc||document.createElement("a"),rc.setAttribute("href",e);const t=rc.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){fl=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return cb(document.cookie,t)}}let rc,fl=null;const Eb=new Ze("TRANSITION_ID"),hT=[{provide:Bu,useFactory:function cT(e,t,n){return()=>{n.get(ju).donePromise.then(()=>{const r=us(),i=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[Eb,ir,Xi],multi:!0}];let fT=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac}),e})();const ic=new Ze("EventManagerPlugins");let oc=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const u=i[s];if(u.supports(n))return this._eventNameToPlugin.set(n,u),u}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(Ne(ic),Ne(un))},e.\u0275prov=Q({token:e,factory:e.\u0275fac}),e})();class xb{constructor(t){this._doc=t}addGlobalEventListener(t,n,r){const i=us().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let Sb=(()=>{class e{constructor(){this.usageCount=new Map}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(n){}onStyleAdded(n){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(n,r){const i=this.usageCount;let s=i.get(n)??0;return s+=r,s>0?i.set(n,s):i.delete(n),s}ngOnDestroy(){for(const n of this.getAllStyles())this.onStyleRemoved(n);this.usageCount.clear()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac}),e})(),pl=(()=>{class e extends Sb{constructor(n){super(),this.doc=n,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.forEach(s=>s.remove()),r.delete(n)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}addStyleToHost(n,r){const i=this.doc.createElement("style");i.textContent=r,n.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return e.\u0275fac=function(n){return new(n||e)(Ne(ir))},e.\u0275prov=Q({token:e,factory:e.\u0275fac}),e})();const Af={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Nf=/%COMP%/g,Tb=new Ze("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Ib(e,t){return t.flat(100).map(n=>n.replace(Nf,e))}function Rb(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let Ff=(()=>{class e{constructor(n,r,i,s){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new Bf(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(n,r);return i instanceof Nb?i.applyToHost(n):i instanceof jf&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const u=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestory;switch(r.encapsulation){case dr.Emulated:s=new Nb(u,h,r,this.appId,p);break;case dr.ShadowDom:return new bT(u,h,n,r);default:s=new jf(u,h,r,p)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(Ne(oc),Ne(pl),Ne(ll),Ne(Tb))},e.\u0275prov=Q({token:e,factory:e.\u0275fac}),e})();class Bf{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(Af[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){(Ab(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Ab(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const s=Af[i];s?t.setAttributeNS(s,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=Af[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(gr.DashCase|gr.Important)?t.style.setProperty(n,r,i&gr.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&gr.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,Rb(r)):this.eventManager.addEventListener(t,n,Rb(r))}}function Ab(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class bT extends Bf{constructor(t,n,r,i){super(t),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Ib(i.id,i.styles);for(const u of s){const h=document.createElement("style");h.textContent=u,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class jf extends Bf{constructor(t,n,r,i,s=r.id){super(t),this.sharedStylesHost=n,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=Ib(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Nb extends jf{constructor(t,n,r,i,s){const u=i+"-"+r.id;super(t,n,r,s,u),this.contentAttr=function _T(e){return"_ngcontent-%COMP%".replace(Nf,e)}(u),this.hostAttr=function yT(e){return"_nghost-%COMP%".replace(Nf,e)}(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let wT=(()=>{class e extends xb{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return e.\u0275fac=function(n){return new(n||e)(Ne(ir))},e.\u0275prov=Q({token:e,factory:e.\u0275fac}),e})();const Fb=["alt","control","meta","shift"],CT={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},MT={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let DT=(()=>{class e extends xb{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const s=e.parseEventName(r),u=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>us().onAndCancel(n,s.domEventName,u))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=e._normalizeKey(r.pop());let u="",h=r.indexOf("code");if(h>-1&&(r.splice(h,1),u="code."),Fb.forEach(m=>{const v=r.indexOf(m);v>-1&&(r.splice(v,1),u+=m+".")}),u+=s,0!=r.length||0===s.length)return null;const p={};return p.domEventName=i,p.fullKey=u,p}static matchEventFullKeyCode(n,r){let i=CT[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Fb.forEach(u=>{u!==i&&(0,MT[u])(n)&&(s+=u+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{e.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(Ne(ir))},e.\u0275prov=Q({token:e,factory:e.\u0275fac}),e})();const ST=Rv(ik,"browser",[{provide:Jd,useValue:"browser"},{provide:Cv,useValue:function LT(){Of.makeCurrent()},multi:!0},{provide:ir,useFactory:function xT(){return function eM(e){Ah=e}(document),document},deps:[]}]),zb=new Ze(""),Ub=[{provide:zu,useClass:class dT{addToWindow(t){Ut.getAngularTestability=(r,i=!0)=>{const s=t.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Ut.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ut.getAllAngularRootElements=()=>t.getAllRootElements(),Ut.frameworkStabilizers||(Ut.frameworkStabilizers=[]),Ut.frameworkStabilizers.push(r=>{const i=Ut.getAllAngularTestabilities();let s=i.length,u=!1;const h=function(p){u=u||p,s--,0==s&&r(u)};i.forEach(function(p){p.whenStable(h)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?us().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:Sv,useClass:tf,deps:[un,nf,zu]},{provide:tf,useClass:tf,deps:[un,nf,zu]}],Hb=[{provide:$h,useValue:"root"},{provide:Zs,useFactory:function ET(){return new Zs},deps:[]},{provide:ic,useClass:wT,multi:!0,deps:[ir,un,Jd]},{provide:ic,useClass:DT,multi:!0,deps:[ir]},{provide:Ff,useClass:Ff,deps:[oc,pl,ll,Tb]},{provide:dm,useExisting:Ff},{provide:Sb,useExisting:pl},{provide:pl,useClass:pl,deps:[ir]},{provide:oc,useClass:oc,deps:[ic,un]},{provide:wb,useClass:fT,deps:[]},[]];let kT=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:ll,useValue:n.appId},{provide:Eb,useExisting:ll},hT]}}}return e.\u0275fac=function(n){return new(n||e)(Ne(zb,12))},e.\u0275mod=Dr({type:e}),e.\u0275inj=_e({providers:[...Hb,...Ub],imports:[SP,ok]}),e})(),Vb=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return e.\u0275fac=function(n){return new(n||e)(Ne(ir))},e.\u0275prov=Q({token:e,factory:function(n){let r=null;return r=n?new n:function TT(){return new Vb(Ne(ir))}(),r},providedIn:"root"}),e})();function Xe(...e){return Ge(e,Ir(e))}typeof window<"u"&&window;class di extends St{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const sc=S(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:FT}=Array,{getPrototypeOf:BT,prototype:jT,keys:zT}=Object;const{isArray:VT}=Array;function Zb(...e){const t=Ir(e),n=function zo(e){return x(Fi(e))?e.pop():void 0}(e),{args:r,keys:i}=function UT(e){if(1===e.length){const t=e[0];if(FT(t))return{args:t,keys:null};if(function HT(e){return e&&"object"==typeof e&&BT(e)===jT}(t)){const n=zT(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}(e);if(0===r.length)return Ge([],t);const s=new it(function qT(e,t,n=$e){return r=>{qb(t,()=>{const{length:i}=e,s=new Array(i);let u=i,h=i;for(let p=0;p<i;p++)qb(t,()=>{const m=Ge(e[p],t);let v=!1;m.subscribe(wt(r,M=>{s[p]=M,v||(v=!0,h--),h||r.next(n(s.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,t,i?u=>function ZT(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}(i,u):$e));return n?s.pipe(function GT(e){return Ye(t=>function $T(e,t){return VT(t)?e(...t):e(t)}(e,t))}(n)):s}function qb(e,t,n){e?Pn(n,e,t):t()}function Hf(...e){return function WT(){return Tr(1)}()(Ge(e,Ir(e)))}function Wb(e){return new it(t=>{$n(e()).subscribe(t)})}function gl(e,t){const n=x(e)?e:()=>e,r=i=>i.error(n());return new it(t?i=>t.schedule(r,0,i):r)}function Vf(){return Tt((e,t)=>{let n=null;e._refCount++;const r=wt(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class Kb extends it{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,bt(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new I;const n=this.getSubject();t.add(this.source.subscribe(wt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=I.EMPTY)}return t}refCount(){return Vf()(this)}}function Ii(e,t){return Tt((n,r)=>{let i=null,s=0,u=!1;const h=()=>u&&!i&&r.complete();n.subscribe(wt(r,p=>{i?.unsubscribe();let m=0;const v=s++;$n(e(p,v)).subscribe(i=wt(r,M=>r.next(t?t(p,M,v,m++):M),()=>{i=null,h()}))},()=>{u=!0,h()}))})}function ml(e){return e<=0?()=>Gn:Tt((t,n)=>{let r=0;t.subscribe(wt(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function oo(e,t){return Tt((n,r)=>{let i=0;n.subscribe(wt(r,s=>e.call(t,s,i++)&&r.next(s)))})}function ac(e){return Tt((t,n)=>{let r=!1;t.subscribe(wt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function Yb(e=YT){return Tt((t,n)=>{let r=!1;t.subscribe(wt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function YT(){return new sc}function So(e,t){const n=arguments.length>=2;return r=>r.pipe(e?oo((i,s)=>e(i,s,r)):$e,ml(1),n?ac(t):Yb(()=>new sc))}function ko(e,t){return x(t)?Zt(e,t,1):Zt(e,1)}function Vn(e,t,n){const r=x(e)||t||n?{next:e,error:t,complete:n}:e;return r?Tt((i,s)=>{var u;null===(u=r.subscribe)||void 0===u||u.call(r);let h=!0;i.subscribe(wt(s,p=>{var m;null===(m=r.next)||void 0===m||m.call(r,p),s.next(p)},()=>{var p;h=!1,null===(p=r.complete)||void 0===p||p.call(r),s.complete()},p=>{var m;h=!1,null===(m=r.error)||void 0===m||m.call(r,p),s.error(p)},()=>{var p,m;h&&(null===(p=r.unsubscribe)||void 0===p||p.call(r)),null===(m=r.finalize)||void 0===m||m.call(r)}))}):$e}function Po(e){return Tt((t,n)=>{let s,r=null,i=!1;r=t.subscribe(wt(n,void 0,void 0,u=>{s=$n(e(u,Po(e)(t))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Jb(e,t){return Tt(function JT(e,t,n,r,i){return(s,u)=>{let h=n,p=t,m=0;s.subscribe(wt(u,v=>{const M=m++;p=h?e(p,v,M):(h=!0,v),r&&u.next(p)},i&&(()=>{h&&u.next(p),u.complete()})))}}(e,t,arguments.length>=2,!0))}function $f(e){return e<=0?()=>Gn:Tt((t,n)=>{let r=[];t.subscribe(wt(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Xb(e,t){const n=arguments.length>=2;return r=>r.pipe(e?oo((i,s)=>e(i,s,r)):$e,$f(1),n?ac(t):Yb(()=>new sc))}function Gf(e){return Tt((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const _t="primary",_l=Symbol("RouteTitle");class e1{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function da(e){return new e1(e)}function t1(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const u=r[s],h=e[s];if(u.startsWith(":"))i[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Ri(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Qb(e[i],t[i]))return!1;return!0}function Qb(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,s)=>r[s]===i)}return e===t}function ew(e){return Array.prototype.concat.apply([],e)}function tw(e){return e.length>0?e[e.length-1]:null}function An(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function To(e){return d_(e)?e:Eu(e)?Ge(Promise.resolve(e)):Xe(e)}const lc=!1,r1={exact:function iw(e,t,n){if(!hs(e.segments,t.segments)||!uc(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!iw(e.children[r],t.children[r],n))return!1;return!0},subset:ow},nw={exact:function i1(e,t){return Ri(e,t)},subset:function o1(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Qb(e[n],t[n]))},ignored:()=>!0};function rw(e,t,n){return r1[n.paths](e.root,t.root,n.matrixParams)&&nw[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function ow(e,t,n){return sw(e,t,t.segments,n)}function sw(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!hs(i,n)||t.hasChildren()||!uc(i,n,r))}if(e.segments.length===n.length){if(!hs(e.segments,n)||!uc(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!ow(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!(hs(e.segments,i)&&uc(e.segments,i,r)&&e.children[_t])&&sw(e.children[_t],t,s,r)}}function uc(e,t,n){return t.every((r,i)=>nw[n](e[i].parameters,r.parameters))}class Io{constructor(t=new Dt([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=da(this.queryParams)),this._queryParamMap}toString(){return l1.serialize(this)}}class Dt{constructor(t,n){this.segments=t,this.children=n,this.parent=null,An(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cc(this)}}class yl{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=da(this.parameters)),this._parameterMap}toString(){return uw(this)}}function hs(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let vl=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Q({token:e,factory:function(){return new Zf},providedIn:"root"}),e})();class Zf{parse(t){const n=new _1(t);return new Io(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${bl(t.root,!0)}`,r=function h1(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${hc(n)}=${hc(i)}`).join("&"):`${hc(n)}=${hc(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function u1(e){return encodeURI(e)}(t.fragment)}`:""}`}}const l1=new Zf;function cc(e){return e.segments.map(t=>uw(t)).join("/")}function bl(e,t){if(!e.hasChildren())return cc(e);if(t){const n=e.children[_t]?bl(e.children[_t],!1):"",r=[];return An(e.children,(i,s)=>{s!==_t&&r.push(`${s}:${bl(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function a1(e,t){let n=[];return An(e.children,(r,i)=>{i===_t&&(n=n.concat(t(r,i)))}),An(e.children,(r,i)=>{i!==_t&&(n=n.concat(t(r,i)))}),n}(e,(r,i)=>i===_t?[bl(e.children[_t],!1)]:[`${i}:${bl(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[_t]?`${cc(e)}/${n[0]}`:`${cc(e)}/(${n.join("//")})`}}function aw(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hc(e){return aw(e).replace(/%3B/gi,";")}function qf(e){return aw(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dc(e){return decodeURIComponent(e)}function lw(e){return dc(e.replace(/\+/g,"%20"))}function uw(e){return`${qf(e.path)}${function c1(e){return Object.keys(e).map(t=>`;${qf(t)}=${qf(e[t])}`).join("")}(e.parameters)}`}const d1=/^[^\/()?;=#]+/;function fc(e){const t=e.match(d1);return t?t[0]:""}const f1=/^[^=?&#]+/,g1=/^[^&#]+/;class _1{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dt([],{}):new Dt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[_t]=new Dt(t,n)),r}parseSegment(){const t=fc(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new we(4009,lc);return this.capture(t),new yl(dc(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=fc(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=fc(this.remaining);i&&(r=i,this.capture(r))}t[dc(n)]=dc(r)}parseQueryParam(t){const n=function p1(e){const t=e.match(f1);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const u=function m1(e){const t=e.match(g1);return t?t[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=lw(n),s=lw(r);if(t.hasOwnProperty(i)){let u=t[i];Array.isArray(u)||(u=[u],t[i]=u),u.push(s)}else t[i]=s}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=fc(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new we(4010,lc);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=_t);const u=this.parseChildren();n[s]=1===Object.keys(u).length?u[_t]:new Dt([],u),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new we(4011,lc)}}function Wf(e){return e.segments.length>0?new Dt([],{[_t]:e}):e}function pc(e){const t={};for(const r of Object.keys(e.children)){const s=pc(e.children[r]);(s.segments.length>0||s.hasChildren())&&(t[r]=s)}return function y1(e){if(1===e.numberOfChildren&&e.children[_t]){const t=e.children[_t];return new Dt(e.segments.concat(t.segments),t.children)}return e}(new Dt(e.segments,t))}function ds(e){return e instanceof Io}const Kf=!1;function v1(e,t,n,r,i){if(0===n.length)return fa(t.root,t.root,t.root,r,i);const s=function pw(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new fw(!0,0,e);let t=0,n=!1;const r=e.reduce((i,s,u)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return An(s.outlets,(p,m)=>{h[m]="string"==typeof p?p.split("/"):p}),[...i,{outlets:h}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===u?(s.split("/").forEach((h,p)=>{0==p&&"."===h||(0==p&&""===h?n=!0:".."===h?t++:""!=h&&i.push(h))}),i):[...i,s]},[]);return new fw(n,t,r)}(n);return s.toRoot()?fa(t.root,t.root,new Dt([],{}),r,i):function u(p){const m=function w1(e,t,n,r){if(e.isAbsolute)return new pa(t.root,!0,0);if(-1===r)return new pa(n,n===t.root,0);return function gw(e,t,n){let r=e,i=t,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new we(4005,Kf&&"Invalid number of '../'");i=r.segments.length}return new pa(r,!1,i-s)}(n,r+(wl(e.commands[0])?0:1),e.numberOfDoubleDots)}(s,t,e.snapshot?._urlSegment,p),v=m.processChildren?ga(m.segmentGroup,m.index,s.commands):Yf(m.segmentGroup,m.index,s.commands);return fa(t.root,m.segmentGroup,v,r,i)}(e.snapshot?._lastPathIndex)}function wl(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Cl(e){return"object"==typeof e&&null!=e&&e.outlets}function fa(e,t,n,r,i){let u,s={};r&&An(r,(p,m)=>{s[m]=Array.isArray(p)?p.map(v=>`${v}`):`${p}`}),u=e===t?n:dw(e,t,n);const h=Wf(pc(u));return new Io(h,s,i)}function dw(e,t,n){const r={};return An(e.children,(i,s)=>{r[s]=i===t?n:dw(i,t,n)}),new Dt(e.segments,r)}class fw{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&wl(r[0]))throw new we(4003,Kf&&"Root segment cannot have matrix parameters");const i=r.find(Cl);if(i&&i!==tw(r))throw new we(4004,Kf&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pa{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function Yf(e,t,n){if(e||(e=new Dt([],{})),0===e.segments.length&&e.hasChildren())return ga(e,t,n);const r=function M1(e,t,n){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return s;const u=e.segments[i],h=n[r];if(Cl(h))break;const p=`${h}`,m=r<n.length-1?n[r+1]:null;if(i>0&&void 0===p)break;if(p&&m&&"object"==typeof m&&void 0===m.outlets){if(!_w(p,m,u))return s;r+=2}else{if(!_w(p,{},u))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const s=new Dt(e.segments.slice(0,r.pathIndex),{});return s.children[_t]=new Dt(e.segments.slice(r.pathIndex),e.children),ga(s,0,i)}return r.match&&0===i.length?new Dt(e.segments,{}):r.match&&!e.hasChildren()?Jf(e,t,n):r.match?ga(e,0,i):Jf(e,t,n)}function ga(e,t,n){if(0===n.length)return new Dt(e.segments,{});{const r=function C1(e){return Cl(e[0])?e[0].outlets:{[_t]:e}}(n),i={};return!r[_t]&&e.children[_t]&&1===e.numberOfChildren&&0===e.children[_t].segments.length?ga(e.children[_t],t,n):(An(r,(s,u)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[u]=Yf(e.children[u],t,s))}),An(e.children,(s,u)=>{void 0===r[u]&&(i[u]=s)}),new Dt(e.segments,i))}}function Jf(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const s=n[i];if(Cl(s)){const p=D1(s.outlets);return new Dt(r,p)}if(0===i&&wl(n[0])){r.push(new yl(e.segments[t].path,mw(n[0]))),i++;continue}const u=Cl(s)?s.outlets[_t]:`${s}`,h=i<n.length-1?n[i+1]:null;u&&h&&wl(h)?(r.push(new yl(u,mw(h))),i+=2):(r.push(new yl(u,{})),i++)}return new Dt(r,{})}function D1(e){const t={};return An(e,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(t[r]=Jf(new Dt([],{}),0,n))}),t}function mw(e){const t={};return An(e,(n,r)=>t[r]=`${n}`),t}function _w(e,t,n){return e==n.path&&Ri(t,n.parameters)}const Ml="imperative";class Oi{constructor(t,n){this.id=t,this.url=n}}class Xf extends Oi{constructor(t,n,r="imperative",i=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class fs extends Oi{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class gc extends Oi{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class mc extends Oi{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=16}}class Qf extends Oi{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class L1 extends Oi{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class E1 extends Oi{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class x1 extends Oi{constructor(t,n,r,i,s){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class S1 extends Oi{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class k1 extends Oi{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class P1{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class T1{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class I1{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class R1{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class O1{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class A1{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yw{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let B1=(()=>{class e{createUrlTree(n,r,i,s,u,h){return v1(n||r.root,i,s,u,h)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac}),e})(),z1=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Q({token:e,factory:function(t){return B1.\u0275fac(t)},providedIn:"root"}),e})();class vw{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=ep(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=ep(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=tp(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return tp(t,this._root).map(n=>n.value)}}function ep(e,t){if(e===t.value)return t;for(const n of t.children){const r=ep(e,n);if(r)return r}return null}function tp(e,t){if(e===t.value)return[t];for(const n of t.children){const r=tp(e,n);if(r.length)return r.unshift(t),r}return[]}class so{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function ma(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class bw extends vw{constructor(t,n){super(t),this.snapshot=n,np(this,t)}toString(){return this.snapshot.toString()}}function ww(e,t){const n=function U1(e,t){const u=new _c([],{},{},"",{},_t,t,null,e.root,-1,{});return new Mw("",new so(u,[]))}(e,t),r=new di([new yl("",{})]),i=new di({}),s=new di({}),u=new di({}),h=new di(""),p=new _a(r,i,u,h,s,_t,t,n.root);return p.snapshot=n.root,new bw(new so(p,[]),n)}class _a{constructor(t,n,r,i,s,u,h,p){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=u,this.component=h,this.title=this.data?.pipe(Ye(m=>m[_l]))??Xe(void 0),this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ye(t=>da(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ye(t=>da(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Cw(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function H1(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class _c{get title(){return this.data?.[_l]}constructor(t,n,r,i,s,u,h,p,m,v,M){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=u,this.component=h,this.routeConfig=p,this._urlSegment=m,this._lastPathIndex=v,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=da(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=da(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Mw extends vw{constructor(t,n){super(n),this.url=t,np(this,n)}toString(){return Dw(this._root)}}function np(e,t){t.value._routerState=e,t.children.forEach(n=>np(e,n))}function Dw(e){const t=e.children.length>0?` { ${e.children.map(Dw).join(", ")} } `:"";return`${e.value}${t}`}function rp(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Ri(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Ri(t.params,n.params)||e.params.next(n.params),function n1(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Ri(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Ri(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function ip(e,t){const n=Ri(e.params,t.params)&&function s1(e,t){return hs(e,t)&&e.every((n,r)=>Ri(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||ip(e.parent,t.parent))}function Dl(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function $1(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Dl(e,r,i);return Dl(e,r)})}(e,t,n);return new so(r,i)}{if(e.shouldAttach(t.value)){const s=e.retrieve(t.value);if(null!==s){const u=s.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(h=>Dl(e,h)),u}}const r=function G1(e){return new _a(new di(e.url),new di(e.params),new di(e.queryParams),new di(e.fragment),new di(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(s=>Dl(e,s));return new so(r,i)}}const op="ngNavigationCancelingError";function Lw(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=ds(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=Ew(!1,0,t);return i.url=n,i.navigationBehaviorOptions=r,i}function Ew(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[op]=!0,r.cancellationCode=t,n&&(r.url=n),r}function xw(e){return Sw(e)&&ds(e.url)}function Sw(e){return e&&e[op]}class Z1{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ll,this.attachRef=null}}let Ll=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Z1,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const yc=!1;let kw=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=_t,this.activateEvents=new nr,this.deactivateEvents=new nr,this.attachEvents=new nr,this.detachEvents=new nr,this.parentContexts=ct(Ll),this.location=ct(li),this.changeDetector=ct(lf),this.environmentInjector=ct(xi)}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new we(4012,yc);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new we(4012,yc);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new we(4012,yc);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new we(4013,yc);this._activatedRoute=n;const i=this.location,u=n.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,p=new q1(n,h,i.injector);if(r&&function W1(e){return!!e.resolveComponentFactory}(r)){const m=r.resolveComponentFactory(u);this.activated=i.createComponent(m,i.length,p)}else this.activated=i.createComponent(u,{index:i.length,injector:p,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=mn({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[dt]}),e})();class q1{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===_a?this.route:t===Ll?this.childContexts:this.parent.get(t,n)}}let sp=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=ti({type:e,selectors:[["ng-component"]],standalone:!0,features:[Ay],decls:1,vars:0,template:function(n,r){1&n&&Ur(0,"router-outlet")},dependencies:[kw],encapsulation:2}),e})();function Pw(e,t){return e.providers&&!e._injector&&(e._injector=Ou(e.providers,t,`Route: ${e.path}`)),e._injector??t}function lp(e){const t=e.children&&e.children.map(lp),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==_t&&(n.component=sp),n}function $r(e){return e.outlet||_t}function Tw(e,t){const n=e.filter(r=>$r(r)===t);return n.push(...e.filter(r=>$r(r)!==t)),n}function El(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Q1{constructor(t,n,r,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),rp(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=ma(n);t.children.forEach(s=>{const u=s.value.outlet;this.deactivateRoutes(s,i[u],r),delete i[u]}),An(i,(s,u)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,n,r){const i=t.value,s=n?n.value:null;if(i===s)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(t,n,u.children)}else this.deactivateChildRoutes(t,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,s=ma(t);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],i);if(r&&r.outlet){const u=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:h})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,s=ma(t);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,n,r){const i=ma(n);t.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new A1(s.value.snapshot))}),t.children.length&&this.forwardEvent(new R1(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,s=n?n.value:null;if(rp(i),i===s)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,u.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),rp(h.route.value),this.activateChildRoutes(t,null,u.children)}else{const h=El(i.snapshot),p=h?.get(Wa)??null;u.attachRef=null,u.route=i,u.resolver=p,u.injector=h,u.outlet&&u.outlet.activateWith(i,u.injector),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,r)}}class Iw{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class vc{constructor(t,n){this.component=t,this.route=n}}function eI(e,t,n){const r=e._root;return xl(r,t?t._root:null,n,[r.value])}function ya(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function Ke(e){return null!==Ee(e)}(e)?t.get(e):e:r}function xl(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=ma(t);return e.children.forEach(u=>{(function nI(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,u=t?t.value:null,h=n?n.getContext(e.value.outlet):null;if(u&&s.routeConfig===u.routeConfig){const p=function rI(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!hs(e.url,t.url);case"pathParamsOrQueryParamsChange":return!hs(e.url,t.url)||!Ri(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ip(e,t)||!Ri(e.queryParams,t.queryParams);default:return!ip(e,t)}}(u,s,s.routeConfig.runGuardsAndResolvers);p?i.canActivateChecks.push(new Iw(r)):(s.data=u.data,s._resolvedData=u._resolvedData),xl(e,t,s.component?h?h.children:null:n,r,i),p&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new vc(h.outlet.component,u))}else u&&Sl(t,h,i),i.canActivateChecks.push(new Iw(r)),xl(e,null,s.component?h?h.children:null:n,r,i)})(u,s[u.value.outlet],n,r.concat([u.value]),i),delete s[u.value.outlet]}),An(s,(u,h)=>Sl(u,n.getContext(h),i)),i}function Sl(e,t,n){const r=ma(e),i=e.value;An(r,(s,u)=>{Sl(s,i.component?t?t.children.getContext(u):null:t,n)}),n.canDeactivateChecks.push(new vc(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function kl(e){return"function"==typeof e}function up(e){return e instanceof sc||"EmptyError"===e?.name}const bc=Symbol("INITIAL_VALUE");function va(){return Ii(e=>Zb(e.map(t=>t.pipe(ml(1),function KT(...e){const t=Ir(e);return Tt((n,r)=>{(t?Hf(e,n,t):Hf(e,n)).subscribe(r)})}(bc)))).pipe(Ye(t=>{for(const n of t)if(!0!==n){if(n===bc)return bc;if(!1===n||n instanceof Io)return n}return!0}),oo(t=>t!==bc),ml(1)))}function Rw(e){return function At(...e){return Se(e)}(Vn(t=>{if(ds(t))throw Lw(0,t)}),Ye(t=>!0===t))}const cp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ow(e,t,n,r,i){const s=hp(e,t,n);return s.matched?function bI(e,t,n,r){const i=t.canMatch;return i&&0!==i.length?Xe(i.map(u=>{const h=ya(u,e);return To(function uI(e){return e&&kl(e.canMatch)}(h)?h.canMatch(t,n):e.runInContext(()=>h(t,n)))})).pipe(va(),Rw()):Xe(!0)}(r=Pw(t,r),t,n).pipe(Ye(u=>!0===u?s:{...cp})):Xe(s)}function hp(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...cp}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||t1)(n,e,t);if(!i)return{...cp};const s={};An(i.posParams,(h,p)=>{s[p]=h.path});const u=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:u,positionalParamSegments:i.posParams??{}}}function wc(e,t,n,r){if(n.length>0&&function MI(e,t,n){return n.some(r=>Cc(e,t,r)&&$r(r)!==_t)}(e,n,r)){const s=new Dt(t,function CI(e,t,n,r){const i={};i[_t]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const s of n)if(""===s.path&&$r(s)!==_t){const u=new Dt([],{});u._sourceSegment=e,u._segmentIndexShift=t.length,i[$r(s)]=u}return i}(e,t,r,new Dt(n,e.children)));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function DI(e,t,n){return n.some(r=>Cc(e,t,r))}(e,n,r)){const s=new Dt(e.segments,function wI(e,t,n,r,i){const s={};for(const u of r)if(Cc(e,n,u)&&!i[$r(u)]){const h=new Dt([],{});h._sourceSegment=e,h._segmentIndexShift=t.length,s[$r(u)]=h}return{...i,...s}}(e,t,n,r,e.children));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}const i=new Dt(e.segments,e.children);return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:n}}function Cc(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function Aw(e,t,n,r){return!!($r(e)===r||r!==_t&&Cc(t,n,e))&&("**"===e.path||hp(t,e,n).matched)}function Nw(e,t,n){return 0===t.length&&!e.children[n]}const Mc=!1;class Dc{constructor(t){this.segmentGroup=t||null}}class Fw{constructor(t){this.urlTree=t}}function Pl(e){return gl(new Dc(e))}function Bw(e){return gl(new Fw(e))}class SI{constructor(t,n,r,i,s){this.injector=t,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const t=wc(this.urlTree.root,[],[],this.config).segmentGroup,n=new Dt(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,n,_t).pipe(Ye(s=>this.createUrlTree(pc(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Po(s=>{if(s instanceof Fw)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Dc?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,_t).pipe(Ye(i=>this.createUrlTree(pc(i),t.queryParams,t.fragment))).pipe(Po(i=>{throw i instanceof Dc?this.noMatchError(i):i}))}noMatchError(t){return new we(4002,Mc)}createUrlTree(t,n,r){const i=Wf(t);return new Io(i,n,r)}expandSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,n,r).pipe(Ye(s=>new Dt([],s))):this.expandSegment(t,r,n,r.segments,i,!0)}expandChildren(t,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Ge(i).pipe(ko(s=>{const u=r.children[s],h=Tw(n,s);return this.expandSegmentGroup(t,h,u,s).pipe(Ye(p=>({segment:p,outlet:s})))}),Jb((s,u)=>(s[u.outlet]=u.segment,s),{}),Xb())}expandSegment(t,n,r,i,s,u){return Ge(r).pipe(ko(h=>this.expandSegmentAgainstRoute(t,n,r,h,i,s,u).pipe(Po(m=>{if(m instanceof Dc)return Xe(null);throw m}))),So(h=>!!h),Po((h,p)=>{if(up(h))return Nw(n,i,s)?Xe(new Dt([],{})):Pl(n);throw h}))}expandSegmentAgainstRoute(t,n,r,i,s,u,h){return Aw(i,n,s,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,n,i,s,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,n,r,i,s,u):Pl(n):Pl(n)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,s,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,s,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Bw(s):this.lineralizeSegments(r,s).pipe(Zt(u=>{const h=new Dt(u,{});return this.expandSegment(t,h,n,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,s,u){const{matched:h,consumedSegments:p,remainingSegments:m,positionalParamSegments:v}=hp(n,i,s);if(!h)return Pl(n);const M=this.applyRedirectCommands(p,i.redirectTo,v);return i.redirectTo.startsWith("/")?Bw(M):this.lineralizeSegments(i,M).pipe(Zt(T=>this.expandSegment(t,n,r,T.concat(m),u,!1)))}matchSegmentAgainstRoute(t,n,r,i,s){return"**"===r.path?(t=Pw(r,t),r.loadChildren?(r._loadedRoutes?Xe({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe(Ye(h=>(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,new Dt(i,{})))):Xe(new Dt(i,{}))):Ow(n,r,i,t).pipe(Ii(({matched:u,consumedSegments:h,remainingSegments:p})=>u?this.getChildConfig(t=r._injector??t,r,i).pipe(Zt(v=>{const M=v.injector??t,T=v.routes,{segmentGroup:z,slicedSegments:K}=wc(n,h,p,T),ae=new Dt(z.segments,z.children);if(0===K.length&&ae.hasChildren())return this.expandChildren(M,T,ae).pipe(Ye(fe=>new Dt(h,fe)));if(0===T.length&&0===K.length)return Xe(new Dt(h,{}));const de=$r(r)===s;return this.expandSegment(M,ae,T,K,de?_t:s,!0).pipe(Ye(Te=>new Dt(h.concat(Te.segments),Te.children)))})):Pl(n)))}getChildConfig(t,n,r){return n.children?Xe({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?Xe({routes:n._loadedRoutes,injector:n._loadedInjector}):function vI(e,t,n,r){const i=t.canLoad;return void 0===i||0===i.length?Xe(!0):Xe(i.map(u=>{const h=ya(u,e);return To(function oI(e){return e&&kl(e.canLoad)}(h)?h.canLoad(t,n):e.runInContext(()=>h(t,n)))})).pipe(va(),Rw())}(t,n,r).pipe(Zt(i=>i?this.configLoader.loadChildren(t,n).pipe(Vn(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function EI(e){return gl(Ew(Mc,3))}())):Xe({routes:[],injector:t})}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Xe(r);if(i.numberOfChildren>1||!i.children[_t])return t.redirectTo,gl(new we(4e3,Mc));i=i.children[_t]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,i){const s=this.createSegmentGroup(t,n.root,r,i);return new Io(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return An(t,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const h=i.substring(1);r[s]=n[h]}else r[s]=i}),r}createSegmentGroup(t,n,r,i){const s=this.createSegments(t,n.segments,r,i);let u={};return An(n.children,(h,p)=>{u[p]=this.createSegmentGroup(t,h,r,i)}),new Dt(s,u)}createSegments(t,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,i):this.findOrReturn(s,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new we(4001,Mc);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}class PI{}class RI{constructor(t,n,r,i,s,u,h){this.injector=t,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=u,this.urlSerializer=h}recognize(){const t=wc(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,_t).pipe(Ye(n=>{if(null===n)return null;const r=new _c([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},_t,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new so(r,n),s=new Mw(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const n=t.value,r=Cw(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i)}processChildren(t,n,r){return Ge(Object.keys(r.children)).pipe(ko(i=>{const s=r.children[i],u=Tw(n,i);return this.processSegmentGroup(t,u,s,i)}),Jb((i,s)=>i&&s?(i.push(...s),i):null),function XT(e,t=!1){return Tt((n,r)=>{let i=0;n.subscribe(wt(r,s=>{const u=e(s,i++);(u||t)&&r.next(s),!u&&r.complete()}))})}(i=>null!==i),ac(null),Xb(),Ye(i=>{if(null===i)return null;const s=zw(i);return function OI(e){e.sort((t,n)=>t.value.outlet===_t?-1:n.value.outlet===_t?1:t.value.outlet.localeCompare(n.value.outlet))}(s),s}))}processSegment(t,n,r,i,s){return Ge(n).pipe(ko(u=>this.processSegmentAgainstRoute(u._injector??t,u,r,i,s)),So(u=>!!u),Po(u=>{if(up(u))return Nw(r,i,s)?Xe([]):Xe(null);throw u}))}processSegmentAgainstRoute(t,n,r,i,s){if(n.redirectTo||!Aw(n,r,i,s))return Xe(null);let u;if("**"===n.path){const h=i.length>0?tw(i).parameters:{},p=Hw(r)+i.length;u=Xe({snapshot:new _c(i,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Vw(n),$r(n),n.component??n._loadedComponent??null,n,Uw(r),p,$w(n)),consumedSegments:[],remainingSegments:[]})}else u=Ow(r,n,i,t).pipe(Ye(({matched:h,consumedSegments:p,remainingSegments:m,parameters:v})=>{if(!h)return null;const M=Hw(r)+p.length;return{snapshot:new _c(p,v,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Vw(n),$r(n),n.component??n._loadedComponent??null,n,Uw(r),M,$w(n)),consumedSegments:p,remainingSegments:m}}));return u.pipe(Ii(h=>{if(null===h)return Xe(null);const{snapshot:p,consumedSegments:m,remainingSegments:v}=h;t=n._injector??t;const M=n._loadedInjector??t,T=function AI(e){return e.children?e.children:e.loadChildren?e._loadedRoutes:[]}(n),{segmentGroup:z,slicedSegments:K}=wc(r,m,v,T.filter(de=>void 0===de.redirectTo));if(0===K.length&&z.hasChildren())return this.processChildren(M,T,z).pipe(Ye(de=>null===de?null:[new so(p,de)]));if(0===T.length&&0===K.length)return Xe([new so(p,[])]);const ae=$r(n)===s;return this.processSegment(M,T,z,K,ae?_t:s).pipe(Ye(de=>null===de?null:[new so(p,de)]))}))}}function NI(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function zw(e){const t=[],n=new Set;for(const r of e){if(!NI(r)){t.push(r);continue}const i=t.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=zw(r.children);t.push(new so(r.value,i))}return t.filter(r=>!n.has(r))}function Uw(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Hw(e){let t=e,n=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift??0;return n-1}function Vw(e){return e.data||{}}function $w(e){return e.resolve||{}}function Gw(e){return"string"==typeof e.title||null===e.title}function dp(e){return Ii(t=>{const n=e(t);return n?Ge(n).pipe(Ye(()=>t)):Xe(t)})}const ba=new Ze("ROUTES");let fp=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ct(Mv)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Xe(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=To(n.loadComponent()).pipe(Ye(qw),Vn(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Gf(()=>{this.componentLoaders.delete(n)})),i=new Kb(r,()=>new St).pipe(Vf());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Xe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Ye(h=>{this.onLoadEndListener&&this.onLoadEndListener(r);let p,m,v=!1;Array.isArray(h)?m=h:(p=h.create(n).injector,m=ew(p.get(ba,[],Ve.Self|Ve.Optional)));return{routes:m.map(lp),injector:p}}),Gf(()=>{this.childrenLoaders.delete(r)})),u=new Kb(s,()=>new St).pipe(Vf());return this.childrenLoaders.set(r,u),u}loadModuleFactoryOrRoutes(n){return To(n()).pipe(Ye(qw),Zt(r=>r instanceof Ry||Array.isArray(r)?Xe(r):Ge(this.compiler.compileModuleAsync(r))))}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function qw(e){return function $I(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Ec=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new St,this.configLoader=ct(fp),this.environmentInjector=ct(xi),this.urlSerializer=ct(vl),this.rootContexts=ct(Ll),this.navigationId=0,this.afterPreactivation=()=>Xe(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new T1(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new P1(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new di({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ml,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(oo(r=>0!==r.id),Ye(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),Ii(r=>{let i=!1,s=!1;return Xe(r).pipe(Vn(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ii(u=>{const h=n.browserUrlTree.toString(),p=!n.navigated||u.extractedUrl.toString()!==h||h!==n.currentUrlTree.toString();if(!p&&"reload"!==(u.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const v="";return this.events.next(new mc(u.id,n.serializeUrl(r.rawUrl),v,0)),n.rawUrlTree=u.rawUrl,u.resolve(null),Gn}if(n.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Ww(u.source)&&(n.browserUrlTree=u.extractedUrl),Xe(u).pipe(Ii(v=>{const M=this.transitions?.getValue();return this.events.next(new Xf(v.id,this.urlSerializer.serialize(v.extractedUrl),v.source,v.restoredState)),M!==this.transitions?.getValue()?Gn:Promise.resolve(v)}),function kI(e,t,n,r){return Ii(i=>function xI(e,t,n,r,i){return new SI(e,t,n,r,i).apply()}(e,t,n,i.extractedUrl,r).pipe(Ye(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),Vn(v=>{this.currentNavigation={...this.currentNavigation,finalUrl:v.urlAfterRedirects},r.urlAfterRedirects=v.urlAfterRedirects}),function BI(e,t,n,r,i){return Zt(s=>function II(e,t,n,r,i,s,u="emptyOnly"){return new RI(e,t,n,r,i,u,s).recognize().pipe(Ii(h=>null===h?function TI(e){return new it(t=>t.error(e))}(new PI):Xe(h)))}(e,t,n,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(Ye(u=>({...s,targetSnapshot:u}))))}(this.environmentInjector,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Vn(v=>{if(r.targetSnapshot=v.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!v.extras.skipLocationChange){const T=n.urlHandlingStrategy.merge(v.urlAfterRedirects,v.rawUrl);n.setBrowserUrl(T,v)}n.browserUrlTree=v.urlAfterRedirects}const M=new L1(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(M)}));if(p&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:v,extractedUrl:M,source:T,restoredState:z,extras:K}=u,ae=new Xf(v,this.urlSerializer.serialize(M),T,z);this.events.next(ae);const de=ww(M,this.rootComponentType).snapshot;return Xe(r={...u,targetSnapshot:de,urlAfterRedirects:M,extras:{...K,skipLocationChange:!1,replaceUrl:!1}})}{const v="";return this.events.next(new mc(u.id,n.serializeUrl(r.extractedUrl),v,1)),n.rawUrlTree=u.rawUrl,u.resolve(null),Gn}}),Vn(u=>{const h=new E1(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),Ye(u=>r={...u,guards:eI(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),function hI(e,t){return Zt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:u}}=n;return 0===u.length&&0===s.length?Xe({...n,guardsResult:!0}):function dI(e,t,n,r){return Ge(e).pipe(Zt(i=>function yI(e,t,n,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?Xe(s.map(h=>{const p=El(t)??i,m=ya(h,p);return To(function lI(e){return e&&kl(e.canDeactivate)}(m)?m.canDeactivate(e,t,n,r):p.runInContext(()=>m(e,t,n,r))).pipe(So())})).pipe(va()):Xe(!0)}(i.component,i.route,n,t,r)),So(i=>!0!==i,!0))}(u,r,i,e).pipe(Zt(h=>h&&function iI(e){return"boolean"==typeof e}(h)?function fI(e,t,n,r){return Ge(t).pipe(ko(i=>Hf(function gI(e,t){return null!==e&&t&&t(new I1(e)),Xe(!0)}(i.route.parent,r),function pI(e,t){return null!==e&&t&&t(new O1(e)),Xe(!0)}(i.route,r),function _I(e,t,n){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(u=>function tI(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(u)).filter(u=>null!==u).map(u=>Wb(()=>Xe(u.guards.map(p=>{const m=El(u.node)??n,v=ya(p,m);return To(function aI(e){return e&&kl(e.canActivateChild)}(v)?v.canActivateChild(r,e):m.runInContext(()=>v(r,e))).pipe(So())})).pipe(va())));return Xe(s).pipe(va())}(e,i.path,n),function mI(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Xe(!0);const i=r.map(s=>Wb(()=>{const u=El(t)??n,h=ya(s,u);return To(function sI(e){return e&&kl(e.canActivate)}(h)?h.canActivate(t,e):u.runInContext(()=>h(t,e))).pipe(So())}));return Xe(i).pipe(va())}(e,i.route,n))),So(i=>!0!==i,!0))}(r,s,e,t):Xe(h)),Ye(h=>({...n,guardsResult:h})))})}(this.environmentInjector,u=>this.events.next(u)),Vn(u=>{if(r.guardsResult=u.guardsResult,ds(u.guardsResult))throw Lw(0,u.guardsResult);const h=new x1(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(h)}),oo(u=>!!u.guardsResult||(n.restoreHistory(u),this.cancelNavigationTransition(u,"",3),!1)),dp(u=>{if(u.guards.canActivateChecks.length)return Xe(u).pipe(Vn(h=>{const p=new S1(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),Ii(h=>{let p=!1;return Xe(h).pipe(function jI(e,t){return Zt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Xe(n);let s=0;return Ge(i).pipe(ko(u=>function zI(e,t,n,r){const i=e.routeConfig,s=e._resolve;return void 0!==i?.title&&!Gw(i)&&(s[_l]=i.title),function UI(e,t,n,r){const i=function HI(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return Xe({});const s={};return Ge(i).pipe(Zt(u=>function VI(e,t,n,r){const i=El(t)??r,s=ya(e,i);return To(s.resolve?s.resolve(t,n):i.runInContext(()=>s(t,n)))}(e[u],t,n,r).pipe(So(),Vn(h=>{s[u]=h}))),$f(1),function QT(e){return Ye(()=>e)}(s),Po(u=>up(u)?Gn:gl(u)))}(s,e,t,r).pipe(Ye(u=>(e._resolvedData=u,e.data=Cw(e,n).resolve,i&&Gw(i)&&(e.data[_l]=i.title),null)))}(u.route,r,e,t)),Vn(()=>s++),$f(1),Zt(u=>s===i.length?Xe(n):Gn))})}(n.paramsInheritanceStrategy,this.environmentInjector),Vn({next:()=>p=!0,complete:()=>{p||(n.restoreHistory(h),this.cancelNavigationTransition(h,"",2))}}))}),Vn(h=>{const p=new k1(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),dp(u=>{const h=p=>{const m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(Vn(v=>{p.component=v}),Ye(()=>{})));for(const v of p.children)m.push(...h(v));return m};return Zb(h(u.targetSnapshot.root)).pipe(ac(),ml(1))}),dp(()=>this.afterPreactivation()),Ye(u=>{const h=function V1(e,t,n){const r=Dl(e,t._root,n?n._root:void 0);return new bw(r,t)}(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return r={...u,targetRouterState:h}}),Vn(u=>{n.currentUrlTree=u.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),n.routerState=u.targetRouterState,"deferred"===n.urlUpdateStrategy&&(u.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,u),n.browserUrlTree=u.urlAfterRedirects)}),((e,t,n)=>Ye(r=>(new Q1(t,r.targetRouterState,r.currentRouterState,n).activate(e),r)))(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u)),Vn({next:u=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new fs(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{i=!0}}),Gf(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Po(u=>{if(s=!0,Sw(u)){xw(u)||(n.navigated=!0,n.restoreHistory(r,!0));const h=new gc(r.id,this.urlSerializer.serialize(r.extractedUrl),u.message,u.cancellationCode);if(this.events.next(h),xw(u)){const p=n.urlHandlingStrategy.merge(u.url,n.rawUrlTree),m={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||Ww(r.source)};n.scheduleNavigation(p,Ml,null,m,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const h=new Qf(r.id,this.urlSerializer.serialize(r.extractedUrl),u,r.targetSnapshot??void 0);this.events.next(h);try{r.resolve(n.errorHandler(u))}catch(p){r.reject(p)}}return Gn}))}))}cancelNavigationTransition(n,r,i){const s=new gc(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Ww(e){return e!==Ml}let Kw=(()=>{class e{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===_t);return r}getResolvedTitleForRoute(n){return n.data[_l]}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Q({token:e,factory:function(){return ct(GI)},providedIn:"root"}),e})(),GI=(()=>{class e extends Kw{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return e.\u0275fac=function(n){return new(n||e)(Ne(Vb))},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ZI=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Q({token:e,factory:function(){return ct(WI)},providedIn:"root"}),e})();class qI{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let WI=(()=>{class e extends qI{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=function tg(e){return Xr(()=>{const t=e.prototype.constructor,n=t[ei]||ch(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const s=i[ei]||ch(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(e)))(r||e)}}(),e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const xc=new Ze("",{providedIn:"root",factory:()=>({})});let YI=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Q({token:e,factory:function(){return ct(JI)},providedIn:"root"}),e})(),JI=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function XI(e){throw e}function QI(e,t,n){return t.parse("/")}const eR={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},tR={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let xr=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ct(LS),this.isNgZoneEnabled=!1,this.options=ct(xc,{optional:!0})||{},this.errorHandler=this.options.errorHandler||XI,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||QI,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ct(YI),this.routeReuseStrategy=ct(ZI),this.urlCreationStrategy=ct(z1),this.titleStrategy=ct(Kw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ew(ct(ba,{optional:!0})??[]),this.navigationTransitions=ct(Ec),this.urlSerializer=ct(vl),this.location=ct(_f),this.isNgZoneEnabled=ct(un)instanceof un&&un.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Io,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ww(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ml,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},u=i?.navigationId?i:null;if(i){const p={...i};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(s.state=p)}const h=this.parseUrl(n);this.scheduleNavigation(h,r,u,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(lp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:u,queryParamsHandling:h,preserveFragment:p}=r,m=p?this.currentUrlTree.fragment:u;let v=null;switch(h){case"merge":v={...this.currentUrlTree.queryParams,...s};break;case"preserve":v=this.currentUrlTree.queryParams;break;default:v=s||null}return null!==v&&(v=this.removeEmptyProps(v)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,n,v,m??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=ds(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Ml,null,r)}navigate(n,r={skipLocationChange:!1}){return function nR(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new we(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...eR}:!1===r?{...tR}:r,ds(n))return rw(this.currentUrlTree,n,i);const s=this.parseUrl(n);return rw(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,u){if(this.disposed)return Promise.resolve(!1);let h,p,m,v;return u?(h=u.resolve,p=u.reject,m=u.promise):m=new Promise((M,T)=>{h=M,p=T}),v="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:v,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:h,reject:p,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(M=>Promise.reject(M))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class Yw{}let oR=(()=>{class e{constructor(n,r,i,s,u){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(oo(n=>n instanceof fs),ko(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Ou(s.providers,n,`Route: ${s.path}`));const u=s._injector??n,h=s._loadedInjector??u;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(u,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(h,s.children??s._loadedRoutes))}return Ge(i).pipe(Tr())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):Xe(null);const s=i.pipe(Zt(u=>null===u?Xe(void 0):(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,this.processRoutes(u.injector??n,u.routes))));return r.loadComponent&&!r._loadedComponent?Ge([s,this.loader.loadComponent(r)]).pipe(Tr()):s})}}return e.\u0275fac=function(n){return new(n||e)(Ne(xr),Ne(Mv),Ne(xi),Ne(Yw),Ne(fp))},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const mp=new Ze("");let Jw=(()=>{class e{constructor(n,r,i,s,u={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Xf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof fs&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof yw&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new yw(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return e.\u0275fac=function(n){!function Tm(){throw new Error("invalid")}()},e.\u0275prov=Q({token:e,factory:e.\u0275fac}),e})();var Sr=(()=>((Sr=Sr||{})[Sr.COMPLETE=0]="COMPLETE",Sr[Sr.FAILED=1]="FAILED",Sr[Sr.REDIRECTING=2]="REDIRECTING",Sr))();const wa=!1;function Ro(e,t){return{\u0275kind:e,\u0275providers:t}}const _p=new Ze("",{providedIn:"root",factory:()=>!1});function Qw(){const e=ct(Xi);return t=>{const n=e.get(Uu);if(t!==n.components[0])return;const r=e.get(xr),i=e.get(e0);1===e.get(yp)&&r.initialNavigation(),e.get(t0,null,Ve.Optional)?.setUpPreloading(),e.get(mp,null,Ve.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const e0=new Ze(wa?"bootstrap done indicator":"",{factory:()=>new St}),yp=new Ze(wa?"initial navigation":"",{providedIn:"root",factory:()=>1});function cR(){let e=[];return e=wa?[{provide:du,multi:!0,useFactory:()=>{const t=ct(xr);return()=>t.events.subscribe(n=>{console.group?.(`Router Event: ${n.constructor.name}`),console.log(function N1(e){if(!("type"in e))return`Unknown Router Event: ${e.constructor.name}`;switch(e.type){case 14:return`ActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state}, shouldActivate: ${e.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 2:return`NavigationCancel(id: ${e.id}, url: '${e.url}')`;case 16:return`NavigationSkipped(id: ${e.id}, url: '${e.url}')`;case 1:return`NavigationEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${e.id}, url: '${e.url}', error: ${e.error})`;case 0:return`NavigationStart(id: ${e.id}, url: '${e.url}')`;case 6:return`ResolveEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 5:return`ResolveStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 10:return`RouteConfigLoadEnd(path: ${e.route.path})`;case 9:return`RouteConfigLoadStart(path: ${e.route.path})`;case 4:return`RoutesRecognized(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 15:return`Scroll(anchor: '${e.anchor}', position: '${e.position?`${e.position[0]}, ${e.position[1]}`:null}')`}}(n)),console.log(n),console.groupEnd?.()})}}]:[],Ro(1,e)}const t0=new Ze(wa?"router preloader":"");function hR(e){return Ro(0,[{provide:t0,useExisting:oR},{provide:Yw,useExisting:e}])}const Tl=!1,n0=new Ze(Tl?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),dR=[_f,{provide:vl,useClass:Zf},xr,Ll,{provide:_a,useFactory:function Xw(e){return e.routerState.root},deps:[xr]},fp,Tl?{provide:_p,useValue:!0}:[]];function fR(){return new Tv("Router",xr)}let r0=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[dR,Tl&&r?.enableTracing?cR().\u0275providers:[],{provide:ba,multi:!0,useValue:n},{provide:n0,useFactory:_R,deps:[[xr,new Ba,new ja]]},{provide:xc,useValue:r||{}},r?.useHash?{provide:cs,useClass:dk}:{provide:cs,useClass:eb},{provide:mp,useFactory:()=>{const e=ct(IP),t=ct(un),n=ct(xc),r=ct(Ec),i=ct(vl);return n.scrollOffset&&e.setOffset(n.scrollOffset),new Jw(i,r,e,t,n)}},r?.preloadingStrategy?hR(r.preloadingStrategy).\u0275providers:[],{provide:Tv,multi:!0,useFactory:fR},r?.initialNavigation?yR(r):[],[{provide:o0,useFactory:Qw},{provide:Pv,multi:!0,useExisting:o0}]]}}static forChild(n){return{ngModule:e,providers:[{provide:ba,multi:!0,useValue:n}]}}}return e.\u0275fac=function(n){return new(n||e)(Ne(n0,8))},e.\u0275mod=Dr({type:e}),e.\u0275inj=_e({imports:[sp]}),e})();function _R(e){if(Tl&&e)throw new we(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function yR(e){return["disabled"===e.initialNavigation?Ro(3,[{provide:Bu,multi:!0,useFactory:()=>{const t=ct(xr);return()=>{t.setUpLocationChangeListener()}}},{provide:yp,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Ro(2,[{provide:yp,useValue:0},{provide:Bu,multi:!0,deps:[Xi],useFactory:t=>{const n=t.get(ck,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=t.get(xr),s=t.get(e0);(function sR(e,t){e.events.pipe(oo(n=>n instanceof fs||n instanceof gc||n instanceof Qf||n instanceof mc),Ye(n=>n instanceof fs||n instanceof mc?Sr.COMPLETE:n instanceof gc&&(0===n.code||1===n.code)?Sr.REDIRECTING:Sr.FAILED),oo(n=>n!==Sr.REDIRECTING),ml(1)).subscribe(()=>{t()})})(i,()=>{r(!0)}),t.get(Ec).afterPreactivation=()=>(r(!0),s.closed?Xe(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const o0=new Ze(Tl?"Router Initializer":""),bR=[];let wR=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Dr({type:e}),e.\u0275inj=_e({imports:[r0.forRoot(bR),r0]}),e})();class Sc{}class vp{}class ao{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),u=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(u):this.headers.set(s,[u])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(n=>{let r=t[n];const i=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(n,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof ao?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new ao;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof ao?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,n);const i=("a"===t.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=t.value;if(s){let u=this.headers.get(n);if(!u)return;u=u.filter(h=>-1===s.indexOf(h)),0===u.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,u)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class CR{encodeKey(t){return s0(t)}encodeValue(t){return s0(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const DR=/%(\d[a-f0-9])/gi,LR={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function s0(e){return encodeURIComponent(e).replace(DR,(t,n)=>LR[n]??t)}function kc(e){return`${e}`}class Oo{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new CR,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function MR(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[u,h]=-1==s?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,s)),t.decodeValue(i.slice(s+1))],p=n.get(u)||[];p.push(h),n.set(u,p)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const r=t.fromObject[n],i=Array.isArray(r)?r.map(kc):[kc(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new Oo({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(kc(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(kc(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class ER{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function a0(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function l0(e){return typeof Blob<"u"&&e instanceof Blob}function u0(e){return typeof FormData<"u"&&e instanceof FormData}class Il{constructor(t,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function xR(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new ao),this.context||(this.context=new ER),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=n;else{const h=n.indexOf("?");this.urlWithParams=n+(-1===h?"?":h<n.length-1?"&":"")+u}}else this.params=new Oo,this.urlWithParams=n}serializeBody(){return null===this.body?null:a0(this.body)||l0(this.body)||u0(this.body)||function SR(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Oo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||u0(this.body)?null:l0(this.body)?this.body.type||null:a0(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Oo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,u=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,h=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let p=t.headers||this.headers,m=t.params||this.params;const v=t.context??this.context;return void 0!==t.setHeaders&&(p=Object.keys(t.setHeaders).reduce((M,T)=>M.set(T,t.setHeaders[T]),p)),t.setParams&&(m=Object.keys(t.setParams).reduce((M,T)=>M.set(T,t.setParams[T]),m)),new Il(n,r,s,{params:m,headers:p,context:v,reportProgress:h,responseType:i,withCredentials:u})}}var wn=(()=>((wn=wn||{})[wn.Sent=0]="Sent",wn[wn.UploadProgress=1]="UploadProgress",wn[wn.ResponseHeader=2]="ResponseHeader",wn[wn.DownloadProgress=3]="DownloadProgress",wn[wn.Response=4]="Response",wn[wn.User=5]="User",wn))();class bp{constructor(t,n=200,r="OK"){this.headers=t.headers||new ao,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class wp extends bp{constructor(t={}){super(t),this.type=wn.ResponseHeader}clone(t={}){return new wp({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Pc extends bp{constructor(t={}){super(t),this.type=wn.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Pc({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class c0 extends bp{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Cp(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let h0=(()=>{class e{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof Il)s=n;else{let p,m;p=i.headers instanceof ao?i.headers:new ao(i.headers),i.params&&(m=i.params instanceof Oo?i.params:new Oo({fromObject:i.params})),s=new Il(n,r,void 0!==i.body?i.body:null,{headers:p,context:i.context,params:m,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const u=Xe(s).pipe(ko(p=>this.handler.handle(p)));if(n instanceof Il||"events"===i.observe)return u;const h=u.pipe(oo(p=>p instanceof Pc));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return h.pipe(Ye(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return h.pipe(Ye(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return h.pipe(Ye(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return h.pipe(Ye(p=>p.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new Oo).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Cp(i,r))}post(n,r,i={}){return this.request("POST",n,Cp(i,r))}put(n,r,i={}){return this.request("PUT",n,Cp(i,r))}}return e.\u0275fac=function(n){return new(n||e)(Ne(Sc))},e.\u0275prov=Q({token:e,factory:e.\u0275fac}),e})();function d0(e,t){return t(e)}function kR(e,t){return(n,r)=>t.intercept(n,{handle:i=>e(i,r)})}const TR=new Ze("HTTP_INTERCEPTORS"),Rl=new Ze("HTTP_INTERCEPTOR_FNS");function IR(){let e=null;return(t,n)=>(null===e&&(e=(ct(TR,{optional:!0})??[]).reduceRight(kR,d0)),e(t,n))}let f0=(()=>{class e extends Sc{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null}handle(n){if(null===this.chain){const r=Array.from(new Set(this.injector.get(Rl)));this.chain=r.reduceRight((i,s)=>function PR(e,t,n){return(r,i)=>n.runInContext(()=>t(r,s=>e(s,i)))}(i,s,this.injector),d0)}return this.chain(n,r=>this.backend.handle(r))}}return e.\u0275fac=function(n){return new(n||e)(Ne(vp),Ne(xi))},e.\u0275prov=Q({token:e,factory:e.\u0275fac}),e})();const NR=/^\)\]\}',?\n/;let g0=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new it(r=>{const i=this.xhrFactory.build();if(i.open(n.method,n.urlWithParams),n.withCredentials&&(i.withCredentials=!0),n.headers.forEach((z,K)=>i.setRequestHeader(z,K.join(","))),n.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const z=n.detectContentTypeHeader();null!==z&&i.setRequestHeader("Content-Type",z)}if(n.responseType){const z=n.responseType.toLowerCase();i.responseType="json"!==z?z:"text"}const s=n.serializeBody();let u=null;const h=()=>{if(null!==u)return u;const z=i.statusText||"OK",K=new ao(i.getAllResponseHeaders()),ae=function FR(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(i)||n.url;return u=new wp({headers:K,status:i.status,statusText:z,url:ae}),u},p=()=>{let{headers:z,status:K,statusText:ae,url:de}=h(),pe=null;204!==K&&(pe=typeof i.response>"u"?i.responseText:i.response),0===K&&(K=pe?200:0);let Te=K>=200&&K<300;if("json"===n.responseType&&"string"==typeof pe){const fe=pe;pe=pe.replace(NR,"");try{pe=""!==pe?JSON.parse(pe):null}catch(et){pe=fe,Te&&(Te=!1,pe={error:et,text:pe})}}Te?(r.next(new Pc({body:pe,headers:z,status:K,statusText:ae,url:de||void 0})),r.complete()):r.error(new c0({error:pe,headers:z,status:K,statusText:ae,url:de||void 0}))},m=z=>{const{url:K}=h(),ae=new c0({error:z,status:i.status||0,statusText:i.statusText||"Unknown Error",url:K||void 0});r.error(ae)};let v=!1;const M=z=>{v||(r.next(h()),v=!0);let K={type:wn.DownloadProgress,loaded:z.loaded};z.lengthComputable&&(K.total=z.total),"text"===n.responseType&&i.responseText&&(K.partialText=i.responseText),r.next(K)},T=z=>{let K={type:wn.UploadProgress,loaded:z.loaded};z.lengthComputable&&(K.total=z.total),r.next(K)};return i.addEventListener("load",p),i.addEventListener("error",m),i.addEventListener("timeout",m),i.addEventListener("abort",m),n.reportProgress&&(i.addEventListener("progress",M),null!==s&&i.upload&&i.upload.addEventListener("progress",T)),i.send(s),r.next({type:wn.Sent}),()=>{i.removeEventListener("error",m),i.removeEventListener("abort",m),i.removeEventListener("load",p),i.removeEventListener("timeout",m),n.reportProgress&&(i.removeEventListener("progress",M),null!==s&&i.upload&&i.upload.removeEventListener("progress",T)),i.readyState!==i.DONE&&i.abort()}})}}return e.\u0275fac=function(n){return new(n||e)(Ne(wb))},e.\u0275prov=Q({token:e,factory:e.\u0275fac}),e})();const Mp=new Ze("XSRF_ENABLED"),m0=new Ze("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),_0=new Ze("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class y0{}let zR=(()=>{class e{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=cb(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return e.\u0275fac=function(n){return new(n||e)(Ne(ir),Ne(Jd),Ne(m0))},e.\u0275prov=Q({token:e,factory:e.\u0275fac}),e})();function UR(e,t){const n=e.url.toLowerCase();if(!ct(Mp)||"GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t(e);const r=ct(y0).getToken(),i=ct(_0);return null!=r&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),t(e)}var dn=(()=>((dn=dn||{})[dn.Interceptors=0]="Interceptors",dn[dn.LegacyInterceptors=1]="LegacyInterceptors",dn[dn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",dn[dn.NoXsrfProtection=3]="NoXsrfProtection",dn[dn.JsonpSupport=4]="JsonpSupport",dn[dn.RequestsMadeViaParent=5]="RequestsMadeViaParent",dn))();function Ca(e,t){return{\u0275kind:e,\u0275providers:t}}function HR(...e){const t=[h0,g0,f0,{provide:Sc,useExisting:f0},{provide:vp,useExisting:g0},{provide:Rl,useValue:UR,multi:!0},{provide:Mp,useValue:!0},{provide:y0,useClass:zR}];for(const n of e)t.push(...n.\u0275providers);return function MM(e){return{\u0275providers:e}}(t)}const v0=new Ze("LEGACY_INTERCEPTOR_FN");let $R=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Dr({type:e}),e.\u0275inj=_e({providers:[HR(Ca(dn.LegacyInterceptors,[{provide:v0,useFactory:IR},{provide:Rl,useExisting:v0,multi:!0}]))]}),e})();var or=ve(407);ve(889);let GR=(()=>{class e{constructor(n){this.http=n}getPetStatus(){return{online:!0,position:{lat:41.8941+(Math.random()-.5)/100,lng:12.495+(Math.random()-.5)/100},timestamp:Date.now()-1e4}}getGeofence(){return[[41.89615593693024,12.48712220789482],[41.90194818191196,12.497284633845346],[41.89046959691638,12.49905267353532],[41.88567734430687,12.489890247584794],[41.89136368987694,12.477959781944294]]}saveGeofence(n){}removeGeofence(){}getLatestPetPath(n){return this.http.get("https://wuufd3nn7k.execute-api.us-east-1.amazonaws.com/beta/location-history?id="+n)}}return e.\u0275fac=function(n){return new(n||e)(Ne(h0))},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function ZR(e,t){if(1&e){const n=function c_(){return ge()}();jr(0,"div",16)(1,"div",17),oi("click",function(){return Wc(n),Kc(wd().editFence())}),xd(2," Edit GeoFence "),zr(),jr(3,"div",18),oi("click",function(){return Wc(n),Kc(wd().removeFence())}),xd(4,"Delete GeoFence"),zr()()}}let qR=(()=>{class e{initMap(){this.map=or.map("map",{center:[41.891106645704795,12.503608718298109],zoom:18,attributionControl:!1,zoomControl:!1}),or.control.zoom({position:"topright"}).addTo(this.map),or.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,minZoom:5}).addTo(this.map),this.geoFence=or.polygon(this.petService.getGeofence(),{fillOpacity:.3}),this.geoFence.addTo(this.map)}constructor(n){this.petService=n,this.gpsIcon=or.icon({iconUrl:"assets/gps.png",iconSize:[40,40],iconAnchor:[20,20]}),this.petIcon=or.icon({iconUrl:"assets/pet.png",iconSize:[40,40],iconAnchor:[20,20]}),this.editingFence=!1,this.fenceMenuOpen=!1,this.lightOn=!1,this.soundOn=!1,this.timelineOpen=!1}ngAfterViewInit(){this.initMap(),this.map&&(this.initPet(),this.initGps(),this.trackPet(),this.trackGps())}initGps(){this.map&&(this.map.locate({watch:!0,enableHighAccuracy:!0}),this.map.on("locationfound",n=>{!this.gps&&this.map&&(this.gps=or.marker(n.latlng,{icon:this.gpsIcon}),this.gps.addTo(this.map))}))}initPet(){this.petStatus=this.petService.getPetStatus(),this.map&&this.petStatus?.online&&(this.pet=or.marker(this.petStatus.position,{icon:this.petIcon}),this.pet.bindPopup("Last position update: "+new Date(this.petStatus.timestamp).toLocaleString("it")),this.pet.addTo(this.map),this.gotoPet())}gotoGps(){this.map&&this.gps?this.map.flyTo(this.gps.getLatLng(),18):alert("PaaT cannot access your location. Please turn on GPS and check your browser settings.")}gotoPet(){this.map&&this.pet?this.map.flyTo(this.pet.getLatLng(),18):alert("PaaT cannot access actual Pet location.")}toggleLight(){this.lightOn=!this.lightOn}toggleSound(){this.soundOn=!this.soundOn}toggleTimeline(){this.map&&(this.timeline&&this.timelineOpen?(this.timelineOpen=!1,this.map.removeLayer(this.timeline),this.timeline=void 0):this.petService.getLatestPetPath(1).subscribe(n=>{const r=n.map(u=>or.latLng([u.device_data.latitude,u.device_data.longitude]));console.log(n);const i=or.polyline(r,{fillOpacity:.3,color:"red"}),s=n.map((u,h,p)=>(console.log(u,h,p),or.marker(r[h],{icon:or.divIcon({className:0===h?"timeline-start":h===p.length-1?"timeline-stop":"timeline-marker",html:"<div></div>"})}).bindPopup(new Date(n[h].sample_time).toLocaleString("it"))));this.timeline=or.layerGroup([i,...s]),this.map&&this.timeline.addTo(this.map),this.timelineOpen=!0}))}toggleFenceOptions(){if(this.map)if(this.geoFence)if(this.editingFence){this.map.pm.disableGlobalEditMode(),this.editingFence=!1;const n=this.geoFence.getLatLngs();console.log(n)}else this.fenceMenuOpen=!this.fenceMenuOpen;else this.editingFence?(this.editingFence=!1,this.map.pm.disableGlobalEditMode()):(this.fenceMenuOpen=!1,this.editingFence=!0,this.map.pm.enableDraw("Polygon",{}),this.map.on("pm:create",n=>{this.map&&n.layer instanceof or.Polygon&&(this.geoFence=n.layer,this.geoFence.addTo(this.map),this.editingFence=!1)}))}editFence(){this.fenceMenuOpen=!1,this.editingFence=!0,this.map&&this.geoFence&&this.geoFence.pm.enable()}removeFence(){this.fenceMenuOpen=!1,this.map&&this.geoFence&&(this.map.removeLayer(this.geoFence),this.geoFence=void 0,this.petService.removeGeofence())}trackPet(){setInterval(()=>{this.petStatus=this.petService.getPetStatus(),this.petStatus?.online?(this.pet?this.pet.setLatLng(this.petStatus.position):this.pet=or.marker(this.petStatus.position,{icon:this.petIcon}),this.pet.bindPopup("Last position update: "+new Date(this.petStatus.timestamp).toLocaleString("it"))):this.pet=void 0},1e4)}trackGps(){setInterval(()=>{this.map&&(this.map.locate({watch:!0,enableHighAccuracy:!0}),this.map.on("locationfound",n=>{this.gps&&this.gps.setLatLng(n.latlng)}),this.map.once("locationerror",n=>{this.gps=void 0}))},1e4)}}return e.\u0275fac=function(n){return new(n||e)(tt(GR))},e.\u0275cmp=ti({type:e,selectors:[["app-map"]],decls:16,vars:13,consts:[["id","paat-logo","src","assets/paat.png"],[1,"map-container"],["id","map"],["id","light",1,"map-button",3,"click"],["src","assets/light.png","height","32px"],["id","sound",1,"map-button",3,"click"],["src","assets/sound.png","height","32px"],["id","timeline",1,"map-button",3,"click"],["src","assets/timeline.png","height","32px"],["id","fence",1,"map-button",3,"click"],["src","assets/fence.png","height","32px"],["id","fencemenu",4,"ngIf"],["id","pet",1,"map-button",3,"click"],["src","assets/pet.png","height","32px"],["id","gps",1,"map-button",3,"click"],["src","assets/gps.png","height","32px"],["id","fencemenu"],[2,"border-bottom","1px solid black",3,"click"],[3,"click"]],template:function(n,r){1&n&&(Ur(0,"img",0),jr(1,"div",1),Ur(2,"div",2),zr(),jr(3,"div",3),oi("click",function(){return r.toggleLight()}),Ur(4,"img",4),zr(),jr(5,"div",5),oi("click",function(){return r.toggleSound()}),Ur(6,"img",6),zr(),jr(7,"div",7),oi("click",function(){return r.toggleTimeline()}),Ur(8,"img",8),zr(),jr(9,"div",9),oi("click",function(){return r.toggleFenceOptions()}),Ur(10,"img",10),zr(),function l_(e,t,n,r,i,s,u,h){const p=ge(),m=Pt(),v=e+$t,M=m.firstCreatePass?function CL(e,t,n,r,i,s,u,h,p){const m=t.consts,v=Ks(t,e,4,u||null,wo(m,h));ad(t,n,v,wo(m,p)),ql(t,v);const M=v.tView=sd(2,v,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,m);return null!==t.queries&&(t.queries.template(t,v),M.queries=t.queries.embeddedTView(v)),v}(v,m,p,t,n,r,i,s,u):m.data[v];Li(M,!1);const T=p[yt].createComment("");au(m,p,T,M),Un(T,p),bu(p,p[v]=Um(T,p,T,M)),Di(M)&&id(m,p,M),null!=u&&od(p,M,h)}(11,ZR,5,0,"div",11),jr(12,"div",12),oi("click",function(){return r.gotoPet()}),Ur(13,"img",13),zr(),jr(14,"div",14),oi("click",function(){return r.gotoGps()}),Ur(15,"img",15),zr()),2&n&&(Do(3),sa("background-color",r.lightOn?"#c0c0ff":"#ffffff"),Do(2),sa("background-color",r.soundOn?"#c0c0ff":"#ffffff"),Do(2),sa("background-color",r.timelineOpen?"#c0c0ff":"#ffffff"),Do(2),sa("background-color",r.editingFence?"#c0c0ff":"#ffffff"),Do(2),_d("ngIf",r.fenceMenuOpen),Do(1),Su("button-disabled",!r.pet),Do(2),Su("button-disabled",!r.gps))},dependencies:[gb],styles:["#paat-logo[_ngcontent-%COMP%]{z-index:401;position:absolute;height:100px;max-width:50vw;object-fit:contain}.map-container[_ngcontent-%COMP%]{position:absolute;inset:0}#map[_ngcontent-%COMP%]{height:100%}.map-button[_ngcontent-%COMP%]{z-index:400;position:absolute;display:flex;justify-content:center;align-items:center;right:15px;border-radius:50%;width:64px;height:64px;background-color:#fff;cursor:pointer}#gps[_ngcontent-%COMP%]{bottom:15px}#pet[_ngcontent-%COMP%]{bottom:86px}#fence[_ngcontent-%COMP%]{bottom:159px}#fencemenu[_ngcontent-%COMP%]{z-index:400;position:absolute;bottom:159px;right:86px;background-color:#fff;cursor:pointer;border-radius:25px;border:1px solid black}#fencemenu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#000;font:bold 24px Sans-Serif;text-align:center;padding:10px}#timeline[_ngcontent-%COMP%]{bottom:232px}#sound[_ngcontent-%COMP%]{bottom:305px}#light[_ngcontent-%COMP%]{bottom:378px}  .leaflet-control{margin:0!important;border:none!important}  .leaflet-control-zoom-in,   .leaflet-control-zoom-out{z-index:400;position:absolute;right:15px;border-radius:50%!important;width:64px!important;height:64px!important;background-color:#fff;cursor:pointer;display:flex!important;align-items:center;justify-content:center;font-size:40px!important;font-family:initial;font-weight:700}  .leaflet-control-zoom-in{top:15px}  .leaflet-control-zoom-out{top:86px}.button-disabled[_ngcontent-%COMP%]{opacity:.8;background-color:#d3d3d3}  .timeline-marker{background-color:#ffa700;border-radius:50%;width:20px;height:20px;margin-top:-5px;margin-left:-5px}  .timeline-start{background-color:green;border-radius:50%;width:20px;height:20px;margin-top:-5px;margin-left:-5px}  .timeline-stop{background-color:red;border-radius:50%;width:20px;height:20px;margin-top:-5px;margin-left:-5px}"]}),e})(),WR=(()=>{class e{constructor(){this.title="Pet as a Thing"}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=ti({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){1&n&&Ur(0,"app-map")},dependencies:[qR]}),e})(),KR=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Dr({type:e,bootstrap:[WR]}),e.\u0275inj=_e({imports:[kT,wR,$R]}),e})();ST().bootstrapModule(KR).catch(e=>console.error(e))},407:function(ps,Ao){!function(ve){"use strict";function S(o){var l,d,g,y;for(d=1,g=arguments.length;d<g;d++)for(l in y=arguments[d])o[l]=y[l];return o}var C=Object.create||function(){function o(){}return function(l){return o.prototype=l,new o}}();function P(o,l){var d=Array.prototype.slice;if(o.bind)return o.bind.apply(o,d.call(arguments,1));var g=d.call(arguments,2);return function(){return o.apply(l,g.length?g.concat(d.call(arguments)):arguments)}}var I=0;function j(o){return"_leaflet_id"in o||(o._leaflet_id=++I),o._leaflet_id}function B(o,l,d){var g,y,D,H;return H=function(){g=!1,y&&(D.apply(d,y),y=!1)},D=function(){g?y=arguments:(o.apply(d,arguments),setTimeout(H,l),g=!0)},D}function W(o,l,d){var g=l[1],y=l[0],D=g-y;return o===g&&d?o:((o-y)%D+D)%D+y}function re(){return!1}function ue(o,l){if(!1===l)return o;var d=Math.pow(10,void 0===l?6:l);return Math.round(o*d)/d}function be(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function ie(o){return be(o).split(/\s+/)}function q(o,l){for(var d in Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?C(o.options):{}),l)o.options[d]=l[d];return o.options}function se(o,l,d){var g=[];for(var y in o)g.push(encodeURIComponent(d?y.toUpperCase():y)+"="+encodeURIComponent(o[y]));return(l&&-1!==l.indexOf("?")?"&":"?")+g.join("&")}var Y=/\{ *([\w_ -]+) *\}/g;function X(o,l){return o.replace(Y,function(d,g){var y=l[g];if(void 0===y)throw new Error("No value provided for variable "+d);return"function"==typeof y&&(y=y(l)),y})}var J=Array.isArray||function(o){return"[object Array]"===Object.prototype.toString.call(o)};function N(o,l){for(var d=0;d<o.length;d++)if(o[d]===l)return d;return-1}var G="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ee(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var me=0;function De(o){var l=+new Date,d=Math.max(0,16-(l-me));return me=l+d,window.setTimeout(o,d)}var Me=window.requestAnimationFrame||ee("RequestAnimationFrame")||De,Le=window.cancelAnimationFrame||ee("CancelAnimationFrame")||ee("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function ke(o,l,d){if(!d||Me!==De)return Me.call(window,P(o,l));o.call(l)}function Pe(o){o&&Le.call(window,o)}var Ae={__proto__:null,extend:S,create:C,bind:P,get lastId(){return I},stamp:j,throttle:B,wrapNum:W,falseFn:re,formatNum:ue,trim:be,splitWords:ie,setOptions:q,getParamString:se,template:X,isArray:J,indexOf:N,emptyImageUrl:G,requestFn:Me,cancelFn:Le,requestAnimFrame:ke,cancelAnimFrame:Pe};function at(){}at.extend=function(o){var l=function(){q(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=l.__super__=this.prototype,g=C(d);for(var y in g.constructor=l,l.prototype=g,this)Object.prototype.hasOwnProperty.call(this,y)&&"prototype"!==y&&"__super__"!==y&&(l[y]=this[y]);return o.statics&&S(l,o.statics),o.includes&&(function Be(o){if(!(typeof L>"u")&&L&&L.Mixin){o=J(o)?o:[o];for(var l=0;l<o.length;l++)o[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(o.includes),S.apply(null,[g].concat(o.includes))),S(g,o),delete g.statics,delete g.includes,g.options&&(g.options=d.options?C(d.options):{},S(g.options,o.options)),g._initHooks=[],g.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var D=0,H=g._initHooks.length;D<H;D++)g._initHooks[D].call(this)}},l},at.include=function(o){var l=this.prototype.options;return S(this.prototype,o),o.options&&(this.prototype.options=l,this.mergeOptions(o.options)),this},at.mergeOptions=function(o){return S(this.prototype.options,o),this},at.addInitHook=function(o){var l=Array.prototype.slice.call(arguments,1),d="function"==typeof o?o:function(){this[o].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};var $e={on:function(o,l,d){if("object"==typeof o)for(var g in o)this._on(g,o[g],l);else for(var y=0,D=(o=ie(o)).length;y<D;y++)this._on(o[y],l,d);return this},off:function(o,l,d){if(arguments.length)if("object"==typeof o)for(var g in o)this._off(g,o[g],l);else{o=ie(o);for(var y=1===arguments.length,D=0,H=o.length;D<H;D++)y?this._off(o[D]):this._off(o[D],l,d)}else delete this._events;return this},_on:function(o,l,d,g){if("function"==typeof l){if(!1===this._listens(o,l,d)){d===this&&(d=void 0);var y={fn:l,ctx:d};g&&(y.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(y)}}else console.warn("wrong listener type: "+typeof l)},_off:function(o,l,d){var g,y,D;if(this._events&&(g=this._events[o])){if(1===arguments.length){if(this._firingCount)for(y=0,D=g.length;y<D;y++)g[y].fn=re;return void delete this._events[o]}if("function"!=typeof l)return void console.warn("wrong listener type: "+typeof l);var H=this._listens(o,l,d);!1!==H&&(this._firingCount&&(g[H].fn=re,this._events[o]=g=g.slice()),g.splice(H,1))}},fire:function(o,l,d){if(!this.listens(o,d))return this;var g=S({},l,{type:o,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var y=this._events[o];if(y){this._firingCount=this._firingCount+1||1;for(var D=0,H=y.length;D<H;D++){var ne=y[D],oe=ne.fn;ne.once&&this.off(o,oe,ne.ctx),oe.call(ne.ctx||this,g)}this._firingCount--}}return d&&this._propagateEvent(g),this},listens:function(o,l,d,g){"string"!=typeof o&&console.warn('"string" type argument expected');var y=l;"function"!=typeof l&&(g=!!l,y=void 0,d=void 0);var D=this._events&&this._events[o];if(D&&D.length&&!1!==this._listens(o,y,d))return!0;if(g)for(var H in this._eventParents)if(this._eventParents[H].listens(o,l,d,g))return!0;return!1},_listens:function(o,l,d){if(!this._events)return!1;var g=this._events[o]||[];if(!l)return!!g.length;d===this&&(d=void 0);for(var y=0,D=g.length;y<D;y++)if(g[y].fn===l&&g[y].ctx===d)return y;return!1},once:function(o,l,d){if("object"==typeof o)for(var g in o)this._on(g,o[g],l,!0);else for(var y=0,D=(o=ie(o)).length;y<D;y++)this._on(o[y],l,d,!0);return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[j(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[j(o)],this},_propagateEvent:function(o){for(var l in this._eventParents)this._eventParents[l].fire(o.type,S({layer:o.target,propagatedFrom:o.target},o),!0)}};$e.addEventListener=$e.on,$e.removeEventListener=$e.clearAllEventListeners=$e.off,$e.addOneTimeEventListener=$e.once,$e.fireEvent=$e.fire,$e.hasEventListeners=$e.listens;var At=at.extend($e);function Se(o,l,d){this.x=d?Math.round(o):o,this.y=d?Math.round(l):l}var it=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};function ze(o,l,d){return o instanceof Se?o:J(o)?new Se(o[0],o[1]):null==o?o:"object"==typeof o&&"x"in o&&"y"in o?new Se(o.x,o.y):new Se(o,l,d)}function je(o,l){if(o)for(var d=l?[o,l]:o,g=0,y=d.length;g<y;g++)this.extend(d[g])}function gt(o,l){return!o||o instanceof je?o:new je(o,l)}function Qt(o,l){if(o)for(var d=l?[o,l]:o,g=0,y=d.length;g<y;g++)this.extend(d[g])}function St(o,l){return o instanceof Qt?o:new Qt(o,l)}function Lt(o,l,d){if(isNaN(o)||isNaN(l))throw new Error("Invalid LatLng object: ("+o+", "+l+")");this.lat=+o,this.lng=+l,void 0!==d&&(this.alt=+d)}function bt(o,l,d){return o instanceof Lt?o:J(o)&&"object"!=typeof o[0]?3===o.length?new Lt(o[0],o[1],o[2]):2===o.length?new Lt(o[0],o[1]):null:null==o?o:"object"==typeof o&&"lat"in o?new Lt(o.lat,"lng"in o?o.lng:o.lon,o.alt):void 0===l?null:new Lt(o,l,d)}Se.prototype={clone:function(){return new Se(this.x,this.y)},add:function(o){return this.clone()._add(ze(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(ze(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new Se(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new Se(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=it(this.x),this.y=it(this.y),this},distanceTo:function(o){var l=(o=ze(o)).x-this.x,d=o.y-this.y;return Math.sqrt(l*l+d*d)},equals:function(o){return(o=ze(o)).x===this.x&&o.y===this.y},contains:function(o){return o=ze(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+ue(this.x)+", "+ue(this.y)+")"}},je.prototype={extend:function(o){var l,d;if(!o)return this;if(o instanceof Se||"number"==typeof o[0]||"x"in o)l=d=ze(o);else if(d=(o=gt(o)).max,!(l=o.min)||!d)return this;return this.min||this.max?(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)):(this.min=l.clone(),this.max=d.clone()),this},getCenter:function(o){return ze((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return ze(this.min.x,this.max.y)},getTopRight:function(){return ze(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var l,d;return(o="number"==typeof o[0]||o instanceof Se?ze(o):gt(o))instanceof je?(l=o.min,d=o.max):l=d=o,l.x>=this.min.x&&d.x<=this.max.x&&l.y>=this.min.y&&d.y<=this.max.y},intersects:function(o){o=gt(o);var l=this.min,d=this.max,g=o.min,y=o.max;return y.x>=l.x&&g.x<=d.x&&y.y>=l.y&&g.y<=d.y},overlaps:function(o){o=gt(o);var l=this.min,d=this.max,g=o.min,y=o.max;return y.x>l.x&&g.x<d.x&&y.y>l.y&&g.y<d.y},isValid:function(){return!(!this.min||!this.max)},pad:function(o){var l=this.min,d=this.max,g=Math.abs(l.x-d.x)*o,y=Math.abs(l.y-d.y)*o;return gt(ze(l.x-g,l.y-y),ze(d.x+g,d.y+y))},equals:function(o){return!!o&&(o=gt(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight()))}},Qt.prototype={extend:function(o){var g,y,l=this._southWest,d=this._northEast;if(o instanceof Lt)g=o,y=o;else{if(!(o instanceof Qt))return o?this.extend(bt(o)||St(o)):this;if(y=o._northEast,!(g=o._southWest)||!y)return this}return l||d?(l.lat=Math.min(g.lat,l.lat),l.lng=Math.min(g.lng,l.lng),d.lat=Math.max(y.lat,d.lat),d.lng=Math.max(y.lng,d.lng)):(this._southWest=new Lt(g.lat,g.lng),this._northEast=new Lt(y.lat,y.lng)),this},pad:function(o){var l=this._southWest,d=this._northEast,g=Math.abs(l.lat-d.lat)*o,y=Math.abs(l.lng-d.lng)*o;return new Qt(new Lt(l.lat-g,l.lng-y),new Lt(d.lat+g,d.lng+y))},getCenter:function(){return new Lt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Lt(this.getNorth(),this.getWest())},getSouthEast:function(){return new Lt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){o="number"==typeof o[0]||o instanceof Lt||"lat"in o?bt(o):St(o);var g,y,l=this._southWest,d=this._northEast;return o instanceof Qt?(g=o.getSouthWest(),y=o.getNorthEast()):g=y=o,g.lat>=l.lat&&y.lat<=d.lat&&g.lng>=l.lng&&y.lng<=d.lng},intersects:function(o){o=St(o);var l=this._southWest,d=this._northEast,g=o.getSouthWest(),y=o.getNorthEast();return y.lat>=l.lat&&g.lat<=d.lat&&y.lng>=l.lng&&g.lng<=d.lng},overlaps:function(o){o=St(o);var l=this._southWest,d=this._northEast,g=o.getSouthWest(),y=o.getNorthEast();return y.lat>l.lat&&g.lat<d.lat&&y.lng>l.lng&&g.lng<d.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,l){return!!o&&(o=St(o),this._southWest.equals(o.getSouthWest(),l)&&this._northEast.equals(o.getNorthEast(),l))},isValid:function(){return!(!this._southWest||!this._northEast)}},Lt.prototype={equals:function(o,l){return!!o&&(o=bt(o),Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng))<=(void 0===l?1e-9:l))},toString:function(o){return"LatLng("+ue(this.lat,o)+", "+ue(this.lng,o)+")"},distanceTo:function(o){return wt.distance(this,bt(o))},wrap:function(){return wt.wrapLatLng(this)},toBounds:function(o){var l=180*o/40075017,d=l/Math.cos(Math.PI/180*this.lat);return St([this.lat-l,this.lng-d],[this.lat+l,this.lng+d])},clone:function(){return new Lt(this.lat,this.lng,this.alt)}};var o,Tt={latLngToPoint:function(o,l){var d=this.projection.project(o),g=this.scale(l);return this.transformation._transform(d,g)},pointToLatLng:function(o,l){var d=this.scale(l),g=this.transformation.untransform(o,d);return this.projection.unproject(g)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var l=this.projection.bounds,d=this.scale(o);return new je(this.transformation.transform(l.min,d),this.transformation.transform(l.max,d))},infinite:!1,wrapLatLng:function(o){var l=this.wrapLng?W(o.lng,this.wrapLng,!0):o.lng;return new Lt(this.wrapLat?W(o.lat,this.wrapLat,!0):o.lat,l,o.alt)},wrapLatLngBounds:function(o){var l=o.getCenter(),d=this.wrapLatLng(l),g=l.lat-d.lat,y=l.lng-d.lng;if(0===g&&0===y)return o;var D=o.getSouthWest(),H=o.getNorthEast();return new Qt(new Lt(D.lat-g,D.lng-y),new Lt(H.lat-g,H.lng-y))}},wt=S({},Tt,{wrapLng:[-180,180],R:6371e3,distance:function(o,l){var d=Math.PI/180,g=o.lat*d,y=l.lat*d,D=Math.sin((l.lat-o.lat)*d/2),H=Math.sin((l.lng-o.lng)*d/2),ne=D*D+Math.cos(g)*Math.cos(y)*H*H,oe=2*Math.atan2(Math.sqrt(ne),Math.sqrt(1-ne));return this.R*oe}}),Ye={R:6378137,MAX_LATITUDE:85.0511287798,project:function(o){var l=Math.PI/180,d=this.MAX_LATITUDE,g=Math.max(Math.min(d,o.lat),-d),y=Math.sin(g*l);return new Se(this.R*o.lng*l,this.R*Math.log((1+y)/(1-y))/2)},unproject:function(o){var l=180/Math.PI;return new Lt((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*l,o.x*l/this.R)},bounds:(o=6378137*Math.PI,new je([-o,-o],[o,o]))};function Gr(o,l,d,g){if(J(o))return this._a=o[0],this._b=o[1],this._c=o[2],void(this._d=o[3]);this._a=o,this._b=l,this._c=d,this._d=g}function Zr(o,l,d,g){return new Gr(o,l,d,g)}Gr.prototype={transform:function(o,l){return this._transform(o.clone(),l)},_transform:function(o,l){return o.x=(l=l||1)*(this._a*o.x+this._b),o.y=l*(this._c*o.y+this._d),o},untransform:function(o,l){return new Se((o.x/(l=l||1)-this._b)/this._a,(o.y/l-this._d)/this._c)}};var qr=S({},wt,{code:"EPSG:3857",projection:Ye,transformation:function(){var o=.5/(Math.PI*Ye.R);return Zr(o,.5,-o,.5)}()}),kn=S({},qr,{code:"EPSG:900913"});function No(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function Ai(o,l){var g,y,D,H,ne,oe,d="";for(g=0,D=o.length;g<D;g++){for(y=0,H=(ne=o[g]).length;y<H;y++)d+=(y?"L":"M")+(oe=ne[y]).x+" "+oe.y;d+=l?Ue.svg?"z":"x":""}return d||"M0 0"}var lo=document.documentElement.style,pi="ActiveXObject"in window,V=pi&&!document.addEventListener,w="msLaunchUri"in navigator&&!("documentMode"in document),E=Fn("webkit"),R=Fn("android"),$=Fn("android 2")||Fn("android 3"),Z=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),he=R&&Fn("Google")&&Z<537&&!("AudioNode"in window),ce=!!window.opera,Ce=!w&&Fn("chrome"),qe=Fn("gecko")&&!E&&!ce&&!pi,ht=!Ce&&Fn("safari"),Ct=Fn("phantom"),ot="OTransition"in lo,zt=0===navigator.platform.indexOf("Win"),mt=pi&&"transition"in lo,Ft="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!$,Yt="MozPerspective"in lo,sn=!window.L_DISABLE_3D&&(mt||Ft||Yt)&&!ot&&!Ct,nn=typeof orientation<"u"||Fn("mobile"),En=nn&&E,xn=nn&&Ft,yr=!window.PointerEvent&&window.MSPointerEvent,sr=!(!window.PointerEvent&&!yr),Cn="ontouchstart"in window||!!window.TouchEvent,Nn=!window.L_NO_TOUCH&&(Cn||sr),ar=nn&&ce,kr=nn&&qe,pn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,an=function(){var o=!1;try{var l=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",re,l),window.removeEventListener("testPassiveEventSupport",re,l)}catch{}return o}(),vr=!!document.createElement("canvas").getContext,Ni=!(!document.createElementNS||!No("svg").createSVGRect),uo=!!Ni&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(o.firstChild&&o.firstChild.namespaceURI)}(),gi=!Ni&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var l=o.firstChild;return l.style.behavior="url(#default#VML)",l&&"object"==typeof l.adj}catch{return!1}}();function Fn(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var Ue={ie:pi,ielt9:V,edge:w,webkit:E,android:R,android23:$,androidStock:he,opera:ce,chrome:Ce,gecko:qe,safari:ht,phantom:Ct,opera12:ot,win:zt,ie3d:mt,webkit3d:Ft,gecko3d:Yt,any3d:sn,mobile:nn,mobileWebkit:En,mobileWebkit3d:xn,msPointer:yr,pointer:sr,touch:Nn,touchNative:Cn,mobileOpera:ar,mobileGecko:kr,retina:pn,passiveEvents:an,canvas:vr,svg:Ni,vml:gi,inlineSvg:uo,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},Bo=Ue.msPointer?"MSPointerDown":"pointerdown",br=Ue.msPointer?"MSPointerMove":"pointermove",Pr=Ue.msPointer?"MSPointerUp":"pointerup",gs=Ue.msPointer?"MSPointerCancel":"pointercancel",Pn={touchstart:Bo,touchmove:br,touchend:Pr,touchcancel:gs},mi={touchstart:function co(o,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&U(l),Ir(o,l)},touchmove:Ir,touchend:Ir,touchcancel:Ir},Zt={},Tr=!1;function Gn(o,l,d){return"touchstart"===l&&function zo(){Tr||(document.addEventListener(Bo,ms,!0),document.addEventListener(br,jo,!0),document.addEventListener(Pr,Fi,!0),document.addEventListener(gs,Fi,!0),Tr=!0)}(),mi[l]?(d=mi[l].bind(this,d),o.addEventListener(Pn[l],d,!1),d):(console.warn("wrong event specified:",l),re)}function ms(o){Zt[o.pointerId]=o}function jo(o){Zt[o.pointerId]&&(Zt[o.pointerId]=o)}function Fi(o){delete Zt[o.pointerId]}function Ir(o,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){for(var d in l.touches=[],Zt)l.touches.push(Zt[d]);l.changedTouches=[l],o(l)}}var _s=200;var Rr,Je,We,Jr,gn,ho=vi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Wr=vi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ho="webkitTransition"===Wr||"OTransition"===Wr?Wr+"End":"transitionend";function ys(o){return"string"==typeof o?document.getElementById(o):o}function _i(o,l){var d=o.style[l]||o.currentStyle&&o.currentStyle[l];if((!d||"auto"===d)&&document.defaultView){var g=document.defaultView.getComputedStyle(o,null);d=g?g[l]:null}return"auto"===d?null:d}function Ge(o,l,d){var g=document.createElement(o);return g.className=l||"",d&&d.appendChild(g),g}function Bt(o){var l=o.parentNode;l&&l.removeChild(o)}function ji(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function wr(o){var l=o.parentNode;l&&l.lastChild!==o&&l.appendChild(o)}function Et(o){var l=o.parentNode;l&&l.firstChild!==o&&l.insertBefore(o,l.firstChild)}function yi(o,l){if(void 0!==o.classList)return o.classList.contains(l);var d=Kr(o);return d.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(d)}function Oe(o,l){if(void 0!==o.classList)for(var d=ie(l),g=0,y=d.length;g<y;g++)o.classList.add(d[g]);else if(!yi(o,l)){var D=Kr(o);Vo(o,(D?D+" ":"")+l)}}function Ht(o,l){void 0!==o.classList?o.classList.remove(l):Vo(o,be((" "+Kr(o)+" ").replace(" "+l+" "," ")))}function Vo(o,l){void 0===o.className.baseVal?o.className=l:o.className.baseVal=l}function Kr(o){return o.correspondingElement&&(o=o.correspondingElement),void 0===o.className.baseVal?o.className:o.className.baseVal}function Fe(o,l){"opacity"in o.style?o.style.opacity=l:"filter"in o.style&&function zi(o,l){var d=!1,g="DXImageTransform.Microsoft.Alpha";try{d=o.filters.item(g)}catch{if(1===l)return}l=Math.round(100*l),d?(d.Enabled=100!==l,d.Opacity=l):o.style.filter+=" progid:"+g+"(opacity="+l+")"}(o,l)}function vi(o){for(var l=document.documentElement.style,d=0;d<o.length;d++)if(o[d]in l)return o[d];return!1}function Yr(o,l,d){var g=l||new Se(0,0);o.style[ho]=(Ue.ie3d?"translate("+g.x+"px,"+g.y+"px)":"translate3d("+g.x+"px,"+g.y+"px,0)")+(d?" scale("+d+")":"")}function jt(o,l){o._leaflet_pos=l,Ue.any3d?Yr(o,l):(o.style.left=l.x+"px",o.style.top=l.y+"px")}function we(o){return o._leaflet_pos||new Se(0,0)}if("onselectstart"in document)Rr=function(){lt(window,"selectstart",U)},Je=function(){c(window,"selectstart",U)};else{var Or=vi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Rr=function(){if(Or){var o=document.documentElement.style;We=o[Or],o[Or]="none"}},Je=function(){Or&&(document.documentElement.style[Or]=We,We=void 0)}}function fo(){lt(window,"dragstart",U)}function $o(){c(window,"dragstart",U)}function vs(o){for(;-1===o.tabIndex;)o=o.parentNode;o.style&&(bi(),Jr=o,gn=o.style.outline,o.style.outline="none",lt(window,"keydown",bi))}function bi(){Jr&&(Jr.style.outline=gn,Jr=void 0,gn=void 0,c(window,"keydown",bi))}function Go(o){do{o=o.parentNode}while(!(o.offsetWidth&&o.offsetHeight||o===document.body));return o}function lr(o){var l=o.getBoundingClientRect();return{x:l.width/o.offsetWidth||1,y:l.height/o.offsetHeight||1,boundingClientRect:l}}var Al={__proto__:null,TRANSFORM:ho,TRANSITION:Wr,TRANSITION_END:Ho,get:ys,getStyle:_i,create:Ge,remove:Bt,empty:ji,toFront:wr,toBack:Et,hasClass:yi,addClass:Oe,removeClass:Ht,setClass:Vo,getClass:Kr,setOpacity:Fe,testProp:vi,setTransform:Yr,setPosition:jt,getPosition:we,get disableTextSelection(){return Rr},get enableTextSelection(){return Je},disableImageDrag:fo,enableImageDrag:$o,preventOutline:vs,restoreOutline:bi,getSizedParentNode:Go,getScale:lr};function lt(o,l,d,g){if(l&&"object"==typeof l)for(var y in l)b(o,y,l[y],d);else for(var D=0,H=(l=ie(l)).length;D<H;D++)b(o,l[D],d,g);return this}var a="_leaflet_events";function c(o,l,d,g){if(1===arguments.length)f(o),delete o[a];else if(l&&"object"==typeof l)for(var y in l)k(o,y,l[y],d);else if(l=ie(l),2===arguments.length)f(o,function(ne){return-1!==N(l,ne)});else for(var D=0,H=l.length;D<H;D++)k(o,l[D],d,g);return this}function f(o,l){for(var d in o[a]){var g=d.split(/\d/)[0];(!l||l(g))&&k(o,g,null,null,d)}}var _={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function b(o,l,d,g){var y=l+j(d)+(g?"_"+j(g):"");if(o[a]&&o[a][y])return this;var D=function(ne){return d.call(g||o,ne||window.event)},H=D;!Ue.touchNative&&Ue.pointer&&0===l.indexOf("touch")?D=Gn(o,l,D):Ue.touch&&"dblclick"===l?D=function Bi(o,l){o.addEventListener("dblclick",l);var g,d=0;function y(D){if(1===D.detail){if("mouse"!==D.pointerType&&(!D.sourceCapabilities||D.sourceCapabilities.firesTouchEvents)){var H=Q(D);if(!H.some(function(oe){return oe instanceof HTMLLabelElement&&oe.attributes.for})||H.some(function(oe){return oe instanceof HTMLInputElement||oe instanceof HTMLSelectElement})){var ne=Date.now();ne-d<=_s?2==++g&&l(function Uo(o){var d,g,l={};for(g in o)l[g]=(d=o[g])&&d.bind?d.bind(o):d;return o=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}(D)):g=1,d=ne}}}else g=D.detail}return o.addEventListener("click",y),{dblclick:l,simDblclick:y}}(o,D):"addEventListener"in o?"touchstart"===l||"touchmove"===l||"wheel"===l||"mousewheel"===l?o.addEventListener(_[l]||l,D,!!Ue.passiveEvents&&{passive:!1}):"mouseenter"===l||"mouseleave"===l?o.addEventListener(_[l],D=function(ne){ne=ne||window.event,Ke(o,ne)&&H(ne)},!1):o.addEventListener(l,H,!1):o.attachEvent("on"+l,D),o[a]=o[a]||{},o[a][y]=D}function k(o,l,d,g,y){y=y||l+j(d)+(g?"_"+j(g):"");var D=o[a]&&o[a][y];if(!D)return this;!Ue.touchNative&&Ue.pointer&&0===l.indexOf("touch")?function Ol(o,l,d){Pn[l]?o.removeEventListener(Pn[l],d,!1):console.warn("wrong event specified:",l)}(o,l,D):Ue.touch&&"dblclick"===l?function Ma(o,l){o.removeEventListener("dblclick",l.dblclick),o.removeEventListener("click",l.simDblclick)}(o,D):"removeEventListener"in o?o.removeEventListener(_[l]||l,D,!1):o.detachEvent("on"+l,D),o[a][y]=null}function O(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function A(o){return b(o,"wheel",O),this}function F(o){return lt(o,"mousedown touchstart dblclick contextmenu",O),o._leaflet_disable_click=!0,this}function U(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function te(o){return U(o),O(o),this}function Q(o){if(o.composedPath)return o.composedPath();for(var l=[],d=o.target;d;)l.push(d),d=d.parentNode;return l}function le(o,l){if(!l)return new Se(o.clientX,o.clientY);var d=lr(l),g=d.boundingClientRect;return new Se((o.clientX-g.left)/d.x-l.clientLeft,(o.clientY-g.top)/d.y-l.clientTop)}var _e=Ue.linux&&Ue.chrome?window.devicePixelRatio:Ue.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ee(o){return Ue.edge?o.wheelDeltaY/2:o.deltaY&&0===o.deltaMode?-o.deltaY/_e:o.deltaY&&1===o.deltaMode?20*-o.deltaY:o.deltaY&&2===o.deltaMode?60*-o.deltaY:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?20*-o.detail:o.detail?o.detail/-32765*60:0}function Ke(o,l){var d=l.relatedTarget;if(!d)return!0;try{for(;d&&d!==o;)d=d.parentNode}catch{return!1}return d!==o}var ut={__proto__:null,on:lt,off:c,stopPropagation:O,disableScrollPropagation:A,disableClickPropagation:F,preventDefault:U,stop:te,getPropagationPath:Q,getMousePosition:le,getWheelDelta:Ee,isExternalTarget:Ke,addListener:lt,removeListener:c},Nt=At.extend({run:function(o,l,d,g){this.stop(),this._el=o,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(g||.5,.2),this._startPos=we(o),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ke(this._animate,this),this._step()},_step:function(o){var l=+new Date-this._startTime,d=1e3*this._duration;l<d?this._runFrame(this._easeOut(l/d),o):(this._runFrame(1),this._complete())},_runFrame:function(o,l){var d=this._startPos.add(this._offset.multiplyBy(o));l&&d._round(),jt(this._el,d),this.fire("step")},_complete:function(){Pe(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),He=At.extend({options:{crs:qr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,l){l=q(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=P(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),void 0!==l.zoom&&(this._zoom=this._limitZoom(l.zoom)),l.center&&void 0!==l.zoom&&this.setView(bt(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Wr&&Ue.any3d&&!Ue.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),lt(this._proxy,Ho,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,l,d){return l=void 0===l?this._zoom:this._limitZoom(l),o=this._limitCenter(bt(o),l,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&!0!==d&&(void 0!==d.animate&&(d.zoom=S({animate:d.animate},d.zoom),d.pan=S({animate:d.animate,duration:d.duration},d.pan)),this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,l,d.zoom):this._tryAnimatedPan(o,d.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(o,l,d.pan&&d.pan.noMoveStart),this)},setZoom:function(o,l){return this._loaded?this.setView(this.getCenter(),o,{zoom:l}):(this._zoom=o,this)},zoomIn:function(o,l){return this.setZoom(this._zoom+(o=o||(Ue.any3d?this.options.zoomDelta:1)),l)},zoomOut:function(o,l){return this.setZoom(this._zoom-(o=o||(Ue.any3d?this.options.zoomDelta:1)),l)},setZoomAround:function(o,l,d){var g=this.getZoomScale(l),y=this.getSize().divideBy(2),H=(o instanceof Se?o:this.latLngToContainerPoint(o)).subtract(y).multiplyBy(1-1/g),ne=this.containerPointToLatLng(y.add(H));return this.setView(ne,l,{zoom:d})},_getBoundsCenterZoom:function(o,l){l=l||{},o=o.getBounds?o.getBounds():St(o);var d=ze(l.paddingTopLeft||l.padding||[0,0]),g=ze(l.paddingBottomRight||l.padding||[0,0]),y=this.getBoundsZoom(o,!1,d.add(g));if((y="number"==typeof l.maxZoom?Math.min(l.maxZoom,y):y)===1/0)return{center:o.getCenter(),zoom:y};var D=g.subtract(d).divideBy(2),H=this.project(o.getSouthWest(),y),ne=this.project(o.getNorthEast(),y);return{center:this.unproject(H.add(ne).divideBy(2).add(D),y),zoom:y}},fitBounds:function(o,l){if(!(o=St(o)).isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(o,l);return this.setView(d.center,d.zoom,l)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,l){return this.setView(o,this._zoom,{pan:l})},panBy:function(o,l){if(l=l||{},!(o=ze(o).round()).x&&!o.y)return this.fire("moveend");if(!0!==l.animate&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Nt,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),!1!==l.animate){Oe(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,d,l.duration||.25,l.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,l,d){if(!1===(d=d||{}).animate||!Ue.any3d)return this.setView(o,l,d);this._stop();var g=this.project(this.getCenter()),y=this.project(o),D=this.getSize(),H=this._zoom;o=bt(o),l=void 0===l?H:l;var ne=Math.max(D.x,D.y),oe=ne*this.getZoomScale(H,l),ye=y.distanceTo(g)||1,xe=1.42,rt=xe*xe;function dt(Mt){var Is=(oe*oe-ne*ne+(Mt?-1:1)*rt*rt*ye*ye)/(2*(Mt?oe:ne)*rt*ye),qi=Math.sqrt(Is*Is+1)-Is;return qi<1e-9?-18:Math.log(qi)}function Kn(Mt){return(Math.exp(Mt)-Math.exp(-Mt))/2}function Zi(Mt){return(Math.exp(Mt)+Math.exp(-Mt))/2}var ri=dt(0);function $c(Mt){return ne*(Zi(ri)*function Ss(Mt){return Kn(Mt)/Zi(Mt)}(ri+xe*Mt)-Kn(ri))/rt}var Gc=Date.now(),Yn=(dt(1)-ri)/xe,Gl=d.duration?1e3*d.duration:1e3*Yn*.8;return this._moveStart(!0,d.noMoveStart),function Ta(){var Mt=(Date.now()-Gc)/Gl,Ps=function Pa(Mt){return 1-Math.pow(1-Mt,1.5)}(Mt)*Yn;Mt<=1?(this._flyToFrame=ke(Ta,this),this._move(this.unproject(g.add(y.subtract(g).multiplyBy($c(Ps)/ye)),H),this.getScaleZoom(ne/function ks(Mt){return ne*(Zi(ri)/Zi(ri+xe*Mt))}(Ps),H),{flyTo:!0})):this._move(o,l)._moveEnd(!0)}.call(this),this},flyToBounds:function(o,l){var d=this._getBoundsCenterZoom(o,l);return this.flyTo(d.center,d.zoom,l)},setMaxBounds:function(o){return o=St(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var l=this.options.minZoom;return this.options.minZoom=o,this._loaded&&l!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var l=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&l!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,l){this._enforcingBounds=!0;var d=this.getCenter(),g=this._limitCenter(d,this._zoom,St(o));return d.equals(g)||this.panTo(g,l),this._enforcingBounds=!1,this},panInside:function(o,l){var d=ze((l=l||{}).paddingTopLeft||l.padding||[0,0]),g=ze(l.paddingBottomRight||l.padding||[0,0]),y=this.project(this.getCenter()),D=this.project(o),H=this.getPixelBounds(),ne=gt([H.min.add(d),H.max.subtract(g)]),oe=ne.getSize();if(!ne.contains(D)){this._enforcingBounds=!0;var ye=D.subtract(ne.getCenter()),xe=ne.extend(D).getSize().subtract(oe);y.x+=ye.x<0?-xe.x:xe.x,y.y+=ye.y<0?-xe.y:xe.y,this.panTo(this.unproject(y),l),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=S({animate:!1,pan:!0},!0===o?{animate:!0}:o);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),g=l.divideBy(2).round(),y=d.divideBy(2).round(),D=g.subtract(y);return D.x||D.y?(o.animate&&o.pan?this.panBy(D):(o.pan&&this._rawPanBy(D),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(P(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:d})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=S({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=P(this._handleGeolocationResponse,this),d=P(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,d,o):navigator.geolocation.getCurrentPosition(l,d,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var l=o.code,d=o.message||(1===l?"permission denied":2===l?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var g=new Lt(o.coords.latitude,o.coords.longitude),y=g.toBounds(2*o.coords.accuracy),D=this._locateOptions;if(D.setView){var H=this.getBoundsZoom(y);this.setView(g,D.maxZoom?Math.min(H,D.maxZoom):H)}var ne={latlng:g,bounds:y,timestamp:o.timestamp};for(var oe in o.coords)"number"==typeof o.coords[oe]&&(ne[oe]=o.coords[oe]);this.fire("locationfound",ne)}},addHandler:function(o,l){if(!l)return this;var d=this[o]=new l(this);return this._handlers.push(d),this.options[o]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}var o;for(o in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),Bt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Pe(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[o].remove();for(o in this._panes)Bt(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,l){var g=Ge("div","leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),l||this._mapPane);return o&&(this._panes[o]=g),g},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds();return new Qt(this.unproject(o.getBottomLeft()),this.unproject(o.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,l,d){o=St(o),d=ze(d||[0,0]);var g=this.getZoom()||0,y=this.getMinZoom(),D=this.getMaxZoom(),H=o.getNorthWest(),ne=o.getSouthEast(),oe=this.getSize().subtract(d),ye=gt(this.project(ne,g),this.project(H,g)).getSize(),xe=Ue.any3d?this.options.zoomSnap:1,rt=oe.x/ye.x,dt=oe.y/ye.y,Kn=l?Math.max(rt,dt):Math.min(rt,dt);return g=this.getScaleZoom(Kn,g),xe&&(g=Math.round(g/(xe/100))*(xe/100),g=l?Math.ceil(g/xe)*xe:Math.floor(g/xe)*xe),Math.max(y,Math.min(D,g))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Se(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,l){var d=this._getTopLeftPoint(o,l);return new je(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(void 0===o?this.getZoom():o)},getPane:function(o){return"string"==typeof o?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,l){var d=this.options.crs;return l=void 0===l?this._zoom:l,d.scale(o)/d.scale(l)},getScaleZoom:function(o,l){var d=this.options.crs,g=d.zoom(o*d.scale(l=void 0===l?this._zoom:l));return isNaN(g)?1/0:g},project:function(o,l){return l=void 0===l?this._zoom:l,this.options.crs.latLngToPoint(bt(o),l)},unproject:function(o,l){return l=void 0===l?this._zoom:l,this.options.crs.pointToLatLng(ze(o),l)},layerPointToLatLng:function(o){var l=ze(o).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(o){return this.project(bt(o))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(bt(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(St(o))},distance:function(o,l){return this.options.crs.distance(bt(o),bt(l))},containerPointToLayerPoint:function(o){return ze(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return ze(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var l=this.containerPointToLayerPoint(ze(o));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(bt(o)))},mouseEventToContainerPoint:function(o){return le(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var l=this._container=ys(o);if(!l)throw new Error("Map container not found.");if(l._leaflet_id)throw new Error("Map container is already initialized.");lt(l,"scroll",this._onScroll,this),this._containerId=j(l)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ue.any3d,Oe(o,"leaflet-container"+(Ue.touch?" leaflet-touch":"")+(Ue.retina?" leaflet-retina":"")+(Ue.ielt9?" leaflet-oldie":"")+(Ue.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=_i(o,"position");"absolute"!==l&&"relative"!==l&&"fixed"!==l&&"sticky"!==l&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),jt(this._mapPane,new Se(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Oe(o.markerPane,"leaflet-zoom-hide"),Oe(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,l,d){jt(this._mapPane,new Se(0,0));var g=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var y=this._zoom!==l;this._moveStart(y,d)._move(o,l)._moveEnd(y),this.fire("viewreset"),g&&this.fire("load")},_moveStart:function(o,l){return o&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(o,l,d,g){void 0===l&&(l=this._zoom);var y=this._zoom!==l;return this._zoom=l,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),g?d&&d.pinch&&this.fire("zoom",d):((y||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Pe(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){jt(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[j(this._container)]=this;var l=o?c:lt;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),Ue.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Pe(this._resizeRequest),this._resizeRequest=ke(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,l){for(var g,d=[],y="mouseout"===l||"mouseover"===l,D=o.target||o.srcElement,H=!1;D;){if((g=this._targets[j(D)])&&("click"===l||"preclick"===l)&&this._draggableMoved(g)){H=!0;break}if(g&&g.listens(l,!0)&&(y&&!Ke(D,o)||(d.push(g),y))||D===this._container)break;D=D.parentNode}return!d.length&&!H&&!y&&this.listens(l,!0)&&(d=[this]),d},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var l=o.target||o.srcElement;if(!(!this._loaded||l._leaflet_disable_events||"click"===o.type&&this._isClickDisabled(l))){var d=o.type;"mousedown"===d&&vs(l),this._fireDOMEvent(o,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,l,d){if("click"===o.type){var g=S({},o);g.type="preclick",this._fireDOMEvent(g,g.type,d)}var y=this._findEventTargets(o,l);if(d){for(var D=[],H=0;H<d.length;H++)d[H].listens(l,!0)&&D.push(d[H]);y=D.concat(y)}if(y.length){"contextmenu"===l&&U(o);var ne=y[0],oe={originalEvent:o};if("keypress"!==o.type&&"keydown"!==o.type&&"keyup"!==o.type){var ye=ne.getLatLng&&(!ne._radius||ne._radius<=10);oe.containerPoint=ye?this.latLngToContainerPoint(ne.getLatLng()):this.mouseEventToContainerPoint(o),oe.layerPoint=this.containerPointToLayerPoint(oe.containerPoint),oe.latlng=ye?ne.getLatLng():this.layerPointToLatLng(oe.layerPoint)}for(H=0;H<y.length;H++)if(y[H].fire(l,oe,!0),oe.originalEvent._stopped||!1===y[H].options.bubblingMouseEvents&&-1!==N(this._mouseEvents,l))return}},_draggableMoved:function(o){return(o=o.dragging&&o.dragging.enabled()?o:this).dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,l=this._handlers.length;o<l;o++)this._handlers[o].disable()},whenReady:function(o,l){return this._loaded?o.call(l||this,{target:this}):this.on("load",o,l),this},_getMapPanePos:function(){return we(this._mapPane)||new Se(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,l){return(o&&void 0!==l?this._getNewPixelOrigin(o,l):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,l){var d=this.getSize()._divideBy(2);return this.project(o,l)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,l,d){var g=this._getNewPixelOrigin(d,l);return this.project(o,l)._subtract(g)},_latLngBoundsToNewLayerBounds:function(o,l,d){var g=this._getNewPixelOrigin(d,l);return gt([this.project(o.getSouthWest(),l)._subtract(g),this.project(o.getNorthWest(),l)._subtract(g),this.project(o.getSouthEast(),l)._subtract(g),this.project(o.getNorthEast(),l)._subtract(g)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,l,d){if(!d)return o;var g=this.project(o,l),y=this.getSize().divideBy(2),D=new je(g.subtract(y),g.add(y)),H=this._getBoundsOffset(D,d,l);return Math.abs(H.x)<=1&&Math.abs(H.y)<=1?o:this.unproject(g.add(H),l)},_limitOffset:function(o,l){if(!l)return o;var d=this.getPixelBounds(),g=new je(d.min.add(o),d.max.add(o));return o.add(this._getBoundsOffset(g,l))},_getBoundsOffset:function(o,l,d){var g=gt(this.project(l.getNorthEast(),d),this.project(l.getSouthWest(),d)),y=g.min.subtract(o.min),D=g.max.subtract(o.max);return new Se(this._rebound(y.x,-D.x),this._rebound(y.y,-D.y))},_rebound:function(o,l){return o+l>0?Math.round(o-l)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(l))},_limitZoom:function(o){var l=this.getMinZoom(),d=this.getMaxZoom(),g=Ue.any3d?this.options.zoomSnap:1;return g&&(o=Math.round(o/g)*g),Math.max(l,Math.min(d,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ht(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,l){var d=this._getCenterOffset(o)._trunc();return!(!0!==(l&&l.animate)&&!this.getSize().contains(d)||(this.panBy(d,l),0))},_createAnimProxy:function(){var o=this._proxy=Ge("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(l){var d=ho,g=this._proxy.style[d];Yr(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),g===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Bt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),l=this.getZoom();Yr(this._proxy,this.project(o,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,l,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||!1===d.animate||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var g=this.getZoomScale(l),y=this._getCenterOffset(o)._divideBy(1-1/g);return!(!0!==d.animate&&!this.getSize().contains(y)||(ke(function(){this._moveStart(!0,!1)._animateZoom(o,l,!0)},this),0))},_animateZoom:function(o,l,d,g){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=l,Oe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:l,noUpdate:g}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(P(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ht(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var Rt=at.extend({options:{position:"topright"},initialize:function(o){q(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var l=this._map;return l&&l.removeControl(this),this.options.position=o,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var l=this._container=this.onAdd(o),d=this.getPosition(),g=o._controlCorners[d];return Oe(l,"leaflet-control"),-1!==d.indexOf("bottom")?g.insertBefore(l,g.firstChild):g.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Bt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),rn=function(o){return new Rt(o)};He.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},l="leaflet-",d=this._controlContainer=Ge("div",l+"control-container",this._container);function g(y,D){o[y+D]=Ge("div",l+y+" "+l+D,d)}g("top","left"),g("top","right"),g("bottom","left"),g("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)Bt(this._controlCorners[o]);Bt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ur=Rt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,l,d,g){return d<g?-1:g<d?1:0}},initialize:function(o,l,d){for(var g in q(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,o)this._addLayer(o[g],g);for(g in l)this._addLayer(l[g],g,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return Rt.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,l){return this._addLayer(o,l),this._map?this._update():this},addOverlay:function(o,l){return this._addLayer(o,l,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var l=this._getLayer(j(o));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){Oe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Oe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):Ht(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ht(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",l=this._container=Ge("div",o),d=this.options.collapsed;l.setAttribute("aria-haspopup",!0),F(l),A(l);var g=this._section=Ge("section",o+"-list");d&&(this._map.on("click",this.collapse,this),lt(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var y=this._layersLink=Ge("a",o+"-toggle",l);y.href="#",y.title="Layers",y.setAttribute("role","button"),lt(y,{keydown:function(D){13===D.keyCode&&this._expandSafely()},click:function(D){U(D),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=Ge("div",o+"-base",g),this._separator=Ge("div",o+"-separator",g),this._overlaysList=Ge("div",o+"-overlays",g),l.appendChild(g)},_getLayer:function(o){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&j(this._layers[l].layer)===o)return this._layers[l]},_addLayer:function(o,l,d){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:l,overlay:d}),this.options.sortLayers&&this._layers.sort(P(function(g,y){return this.options.sortFunction(g.layer,y.layer,g.name,y.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ji(this._baseLayersList),ji(this._overlaysList),this._layerControlInputs=[];var o,l,d,g,y=0;for(d=0;d<this._layers.length;d++)this._addItem(g=this._layers[d]),l=l||g.overlay,o=o||!g.overlay,y+=g.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(o=o&&y>1)?"":"none"),this._separator.style.display=l&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var l=this._getLayer(j(o.target)),d=l.overlay?"add"===o.type?"overlayadd":"overlayremove":"add"===o.type?"baselayerchange":null;d&&this._map.fire(d,l)},_createRadioElement:function(o,l){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(l?' checked="checked"':"")+"/>",g=document.createElement("div");return g.innerHTML=d,g.firstChild},_addItem:function(o){var g,l=document.createElement("label"),d=this._map.hasLayer(o.layer);o.overlay?((g=document.createElement("input")).type="checkbox",g.className="leaflet-control-layers-selector",g.defaultChecked=d):g=this._createRadioElement("leaflet-base-layers_"+j(this),d),this._layerControlInputs.push(g),g.layerId=j(o.layer),lt(g,"click",this._onInputClick,this);var y=document.createElement("span");y.innerHTML=" "+o.name;var D=document.createElement("span");return l.appendChild(D),D.appendChild(g),D.appendChild(y),(o.overlay?this._overlaysList:this._baseLayersList).appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){var l,d,o=this._layerControlInputs,g=[],y=[];this._handlingClick=!0;for(var D=o.length-1;D>=0;D--)d=this._getLayer((l=o[D]).layerId).layer,l.checked?g.push(d):l.checked||y.push(d);for(D=0;D<y.length;D++)this._map.hasLayer(y[D])&&this._map.removeLayer(y[D]);for(D=0;D<g.length;D++)this._map.hasLayer(g[D])||this._map.addLayer(g[D]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var l,d,o=this._layerControlInputs,g=this._map.getZoom(),y=o.length-1;y>=0;y--)d=this._getLayer((l=o[y]).layerId).layer,l.disabled=void 0!==d.options.minZoom&&g<d.options.minZoom||void 0!==d.options.maxZoom&&g>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;lt(o,"click",U),this.expand(),setTimeout(function(){c(o,"click",U)})}}),Ve=Rt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var l="leaflet-control-zoom",d=Ge("div",l+" leaflet-bar"),g=this.options;return this._zoomInButton=this._createButton(g.zoomInText,g.zoomInTitle,l+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(g.zoomOutText,g.zoomOutTitle,l+"-out",d,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,l,d,g,y){var D=Ge("a",d,g);return D.innerHTML=o,D.href="#",D.title=l,D.setAttribute("role","button"),D.setAttribute("aria-label",l),F(D),lt(D,"click",te),lt(D,"click",y,this),lt(D,"click",this._refocusOnMap,this),D},_updateDisabled:function(){var o=this._map,l="leaflet-disabled";Ht(this._zoomInButton,l),Ht(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Oe(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Oe(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});He.mergeOptions({zoomControl:!0}),He.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ve,this.addControl(this.zoomControl))});var Zo=Rt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var l="leaflet-control-scale",d=Ge("div",l),g=this.options;return this._addScales(g,l+"-line",d),o.on(g.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),d},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,l,d){o.metric&&(this._mScale=Ge("div",l,d)),o.imperial&&(this._iScale=Ge("div",l,d))},_update:function(){var o=this._map,l=o.getSize().y/2,d=o.distance(o.containerPointToLatLng([0,l]),o.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(d)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var l=this._getRoundNum(o);this._updateScale(this._mScale,l<1e3?l+" m":l/1e3+" km",l/o)},_updateImperial:function(o){var d,g,y,l=3.2808399*o;l>5280?(g=this._getRoundNum(d=l/5280),this._updateScale(this._iScale,g+" mi",g/d)):(y=this._getRoundNum(l),this._updateScale(this._iScale,y+" ft",y/l))},_updateScale:function(o,l,d){o.style.width=Math.round(this.options.maxWidth*d)+"px",o.innerHTML=l},_getRoundNum:function(o){var l=Math.pow(10,(Math.floor(o)+"").length-1),d=o/l;return l*(d>=10?10:d>=5?5:d>=3?3:d>=2?2:1)}}),po=Rt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ue.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(o){q(this,o),this._attributions={}},onAdd:function(o){for(var l in o.attributionControl=this,this._container=Ge("div","leaflet-control-attribution"),F(this._container),o._layers)o._layers[l].getAttribution&&this.addAttribution(o._layers[l].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var l in this._attributions)this._attributions[l]&&o.push(l);var d=[];this.options.prefix&&d.push(this.options.prefix),o.length&&d.push(o.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});He.mergeOptions({attributionControl:!0}),He.addInitHook(function(){this.options.attributionControl&&(new po).addTo(this)});Rt.Layers=ur,Rt.Zoom=Ve,Rt.Scale=Zo,Rt.Attribution=po,rn.layers=function(o,l,d){return new ur(o,l,d)},rn.zoom=function(o){return new Ve(o)},rn.scale=function(o){return new Zo(o)},rn.attribution=function(o){return new po(o)};var Mr=at.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Mr.addTo=function(o,l){return o.addHandler(l,this),this};var go,Dp={Events:$e},Tc=Ue.touch?"touchstart mousedown":"mousedown",cr=At.extend({options:{clickTolerance:3},initialize:function(o,l,d,g){q(this,g),this._element=o,this._dragStartTarget=l||o,this._preventOutline=d},enable:function(){this._enabled||(lt(this._dragStartTarget,Tc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(cr._dragging===this&&this.finishDrag(!0),c(this._dragStartTarget,Tc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!yi(this._element,"leaflet-zoom-anim"))){if(o.touches&&1!==o.touches.length)return void(cr._dragging===this&&this.finishDrag());if(!(cr._dragging||o.shiftKey||1!==o.which&&1!==o.button&&!o.touches||(cr._dragging=this,this._preventOutline&&vs(this._element),fo(),Rr(),this._moving))){this.fire("down");var l=o.touches?o.touches[0]:o,d=Go(this._element);this._startPoint=new Se(l.clientX,l.clientY),this._startPos=we(this._element),this._parentScale=lr(d);var g="mousedown"===o.type;lt(document,g?"mousemove":"touchmove",this._onMove,this),lt(document,g?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1)return void(this._moved=!0);var l=o.touches&&1===o.touches.length?o.touches[0]:o,d=new Se(l.clientX,l.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,U(o),this._moved||(this.fire("dragstart"),this._moved=!0,Oe(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Oe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),jt(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){Ht(document.body,"leaflet-dragging"),this._lastTarget&&(Ht(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),c(document,"mousemove touchmove",this._onMove,this),c(document,"mouseup touchend touchcancel",this._onUp,this),$o(),Je(),this._moved&&this._moving&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,cr._dragging=!1}});function Cs(o,l){if(!l||!o.length)return o.slice();var d=l*l;return function Rc(o,l){var d=o.length,y=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(d);y[0]=y[d-1]=1,Da(o,y,l,0,d-1);var D,H=[];for(D=0;D<d;D++)y[D]&&H.push(o[D]);return H}(o=function Nl(o,l){for(var d=[o[0]],g=1,y=0,D=o.length;g<D;g++)Fl(o[g],o[y])>l&&(d.push(o[g]),y=g);return y<D-1&&d.push(o[D-1]),d}(o,d),d)}function qo(o,l,d){return Math.sqrt(ct(o,l,d,!0))}function Da(o,l,d,g,y){var H,ne,oe,D=0;for(ne=g+1;ne<=y-1;ne++)(oe=ct(o[ne],o[g],o[y],!0))>D&&(H=ne,D=oe);D>d&&(l[H]=1,Da(o,l,d,g,H),Da(o,l,d,H,y))}function Ui(o,l,d,g,y){var ne,oe,ye,D=g?go:Ne(o,d),H=Ne(l,d);for(go=H;;){if(!(D|H))return[o,l];if(D&H)return!1;ye=Ne(oe=Ms(o,l,ne=D||H,d,y),d),ne===D?(o=oe,D=ye):(l=oe,H=ye)}}function Ms(o,l,d,g,y){var ye,xe,D=l.x-o.x,H=l.y-o.y,ne=g.min,oe=g.max;return 8&d?(ye=o.x+D*(oe.y-o.y)/H,xe=oe.y):4&d?(ye=o.x+D*(ne.y-o.y)/H,xe=ne.y):2&d?(ye=oe.x,xe=o.y+H*(oe.x-o.x)/D):1&d&&(ye=ne.x,xe=o.y+H*(ne.x-o.x)/D),new Se(ye,xe,y)}function Ne(o,l){var d=0;return o.x<l.min.x?d|=1:o.x>l.max.x&&(d|=2),o.y<l.min.y?d|=4:o.y>l.max.y&&(d|=8),d}function Fl(o,l){var d=l.x-o.x,g=l.y-o.y;return d*d+g*g}function ct(o,l,d,g){var ye,y=l.x,D=l.y,H=d.x-y,ne=d.y-D,oe=H*H+ne*ne;return oe>0&&((ye=((o.x-y)*H+(o.y-D)*ne)/oe)>1?(y=d.x,D=d.y):ye>0&&(y+=H*ye,D+=ne*ye)),H=o.x-y,ne=o.y-D,g?H*H+ne*ne:new Se(y,D)}function In(o){return!J(o[0])||"object"!=typeof o[0][0]&&typeof o[0][0]<"u"}function Ds(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),In(o)}function mo(o,l){var d,g,y,D,H,ne,oe,ye;if(!o||0===o.length)throw new Error("latlngs not passed");In(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var xe=[];for(var rt in o)xe.push(l.project(bt(o[rt])));var dt=xe.length;for(d=0,g=0;d<dt-1;d++)g+=xe[d].distanceTo(xe[d+1])/2;if(0===g)ye=xe[0];else for(d=0,D=0;d<dt-1;d++)if((D+=y=(H=xe[d]).distanceTo(ne=xe[d+1]))>g){ye=[ne.x-(oe=(D-g)/y)*(ne.x-H.x),ne.y-oe*(ne.y-H.y)];break}return l.unproject(ze(ye))}var Oc={__proto__:null,simplify:Cs,pointToSegmentDistance:qo,closestPointOnSegment:function Ic(o,l,d){return ct(o,l,d)},clipSegment:Ui,_getEdgeIntersection:Ms,_getBitCode:Ne,_sqClosestPointOnSegment:ct,isFlat:In,_flat:Ds,polylineCenter:mo};function Bl(o,l,d){var g,D,H,ne,oe,ye,xe,rt,dt,y=[1,4,2,8];for(D=0,xe=o.length;D<xe;D++)o[D]._code=Ne(o[D],l);for(ne=0;ne<4;ne++){for(rt=y[ne],g=[],D=0,H=(xe=o.length)-1;D<xe;H=D++)ye=o[H],(oe=o[D])._code&rt?ye._code&rt||((dt=Ms(ye,oe,rt,l,d))._code=Ne(dt,l),g.push(dt)):(ye._code&rt&&((dt=Ms(ye,oe,rt,l,d))._code=Ne(dt,l),g.push(dt)),g.push(oe));o=g}return o}function jl(o,l){var d,g,y,D,H,ne,oe,ye;if(!o||0===o.length)throw new Error("latlngs not passed");In(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var rt=[];for(var dt in o)rt.push(l.project(bt(o[dt])));var Kn=rt.length;for(ne=oe=ye=0,d=0,g=Kn-1;d<Kn;g=d++)oe+=((y=rt[d]).x+(D=rt[g]).x)*(H=y.y*D.x-D.y*y.x),ye+=(y.y+D.y)*H,ne+=3*H;return l.unproject(ze(0===ne?rt[0]:[oe/ne,ye/ne]))}var Xr={__proto__:null,clipPolygon:Bl,polygonCenter:jl},hr={project:function(o){return new Se(o.lng,o.lat)},unproject:function(o){return new Lt(o.y,o.x)},bounds:new je([-180,-90],[180,90])},dr={R:6378137,R_MINOR:6356752.314245179,bounds:new je([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(o){var l=Math.PI/180,d=this.R,g=o.lat*l,y=this.R_MINOR/d,D=Math.sqrt(1-y*y),H=D*Math.sin(g),ne=Math.tan(Math.PI/4-g/2)/Math.pow((1-H)/(1+H),D/2);return g=-d*Math.log(Math.max(ne,1e-10)),new Se(o.lng*l*d,g)},unproject:function(o){for(var ye,l=180/Math.PI,d=this.R,g=this.R_MINOR/d,y=Math.sqrt(1-g*g),D=Math.exp(-o.y/d),H=Math.PI/2-2*Math.atan(D),ne=0,oe=.1;ne<15&&Math.abs(oe)>1e-7;ne++)ye=y*Math.sin(H),ye=Math.pow((1-ye)/(1+ye),y/2),H+=oe=Math.PI/2-2*Math.atan(D*ye)-H;return new Lt(H*l,o.x*l/d)}},Qr={__proto__:null,LonLat:hr,Mercator:dr,SphericalMercator:Ye},Ot=S({},wt,{code:"EPSG:3395",projection:dr,transformation:function(){var o=.5/(Math.PI*dr.R);return Zr(o,.5,-o,.5)}()}),Wo=S({},wt,{code:"EPSG:4326",projection:hr,transformation:Zr(1/180,1,-1/180,.5)}),La=S({},Tt,{projection:hr,transformation:Zr(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,l){var d=l.lng-o.lng,g=l.lat-o.lat;return Math.sqrt(d*d+g*g)},infinite:!0});Tt.Earth=wt,Tt.EPSG3395=Ot,Tt.EPSG3857=qr,Tt.EPSG900913=kn,Tt.EPSG4326=Wo,Tt.Simple=La;var Zn=At.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[j(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[j(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var l=o.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var d=this.getEvents();l.on(d,this),this.once("remove",function(){l.off(d,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});He.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var l=j(o);return this._layers[l]||(this._layers[l]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o)),this},removeLayer:function(o){var l=j(o);return this._layers[l]?(this._loaded&&o.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return j(o)in this._layers},eachLayer:function(o,l){for(var d in this._layers)o.call(l,this._layers[d]);return this},_addLayers:function(o){for(var l=0,d=(o=o?J(o)?o:[o]:[]).length;l<d;l++)this.addLayer(o[l])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[j(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var l=j(o);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,l=-1/0,d=this._getZoomSpan();for(var g in this._zoomBoundLayers){var y=this._zoomBoundLayers[g].options;o=void 0===y.minZoom?o:Math.min(o,y.minZoom),l=void 0===y.maxZoom?l:Math.max(l,y.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=o===1/0?void 0:o,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Hi=Zn.extend({initialize:function(o,l){var d,g;if(q(this,l),this._layers={},o)for(d=0,g=o.length;d<g;d++)this.addLayer(o[d])},addLayer:function(o){var l=this.getLayerId(o);return this._layers[l]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var l=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(o){return("number"==typeof o?o:this.getLayerId(o))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var d,g,l=Array.prototype.slice.call(arguments,1);for(d in this._layers)(g=this._layers[d])[o]&&g[o].apply(g,l);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,l){for(var d in this._layers)o.call(l,this._layers[d]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return j(o)}}),qn=Hi.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Hi.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Hi.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new Qt;for(var l in this._layers){var d=this._layers[l];o.extend(d.getBounds?d.getBounds():d.getLatLng())}return o}}),ti=at.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){q(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,l){var d=this._getIconUrl(o);if(!d){if("icon"===o)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var g=this._createImg(d,l&&"IMG"===l.tagName?l:null);return this._setIconStyles(g,o),(this.options.crossOrigin||""===this.options.crossOrigin)&&(g.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),g},_setIconStyles:function(o,l){var d=this.options,g=d[l+"Size"];"number"==typeof g&&(g=[g,g]);var y=ze(g),D=ze("shadow"===l&&d.shadowAnchor||d.iconAnchor||y&&y.divideBy(2,!0));o.className="leaflet-marker-"+l+" "+(d.className||""),D&&(o.style.marginLeft=-D.x+"px",o.style.marginTop=-D.y+"px"),y&&(o.style.width=y.x+"px",o.style.height=y.y+"px")},_createImg:function(o,l){return(l=l||document.createElement("img")).src=o,l},_getIconUrl:function(o){return Ue.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});var Ko=ti.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return"string"!=typeof Ko.imagePath&&(Ko.imagePath=this._detectIconPath()),(this.options.imagePath||Ko.imagePath)+ti.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var l=function(d,g,y){var D=g.exec(d);return D&&D[y]};return(o=l(o,/^url\((['"])?(.+)\1\)$/,2))&&l(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=Ge("div","leaflet-default-icon-path",document.body),l=_i(o,"background-image")||_i(o,"backgroundImage");if(document.body.removeChild(o),l=this._stripUrl(l))return l;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),zl=Mr.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new cr(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Oe(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ht(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var l=this._marker,d=l._map,g=this._marker.options.autoPanSpeed,y=this._marker.options.autoPanPadding,D=we(l._icon),H=d.getPixelBounds(),ne=d.getPixelOrigin(),oe=gt(H.min._subtract(ne).add(y),H.max._subtract(ne).subtract(y));if(!oe.contains(D)){var ye=ze((Math.max(oe.max.x,D.x)-oe.max.x)/(H.max.x-oe.max.x)-(Math.min(oe.min.x,D.x)-oe.min.x)/(H.min.x-oe.min.x),(Math.max(oe.max.y,D.y)-oe.max.y)/(H.max.y-oe.max.y)-(Math.min(oe.min.y,D.y)-oe.min.y)/(H.min.y-oe.min.y)).multiplyBy(g);d.panBy(ye,{animate:!1}),this._draggable._newPos._add(ye),this._draggable._startPos._add(ye),jt(l._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=ke(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(Pe(this._panRequest),this._panRequest=ke(this._adjustPan.bind(this,o)))},_onDrag:function(o){var l=this._marker,d=l._shadow,g=we(l._icon),y=l._map.layerPointToLatLng(g);d&&jt(d,g),l._latlng=y,o.latlng=y,o.oldLatLng=this._oldLatLng,l.fire("move",o).fire("drag",o)},_onDragEnd:function(o){Pe(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Dr=Zn.extend({options:{icon:new Ko,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,l){q(this,l),this._latlng=bt(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var l=this._latlng;return this._latlng=bt(o),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=o.icon.createIcon(this._icon),g=!1;d!==this._icon&&(this._icon&&this._removeIcon(),g=!0,o.title&&(d.title=o.title),"IMG"===d.tagName&&(d.alt=o.alt||"")),Oe(d,l),o.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&lt(d,"focus",this._panOnFocus,this);var y=o.icon.createShadow(this._shadow),D=!1;y!==this._shadow&&(this._removeShadow(),D=!0),y&&(Oe(y,l),y.alt=""),this._shadow=y,o.opacity<1&&this._updateOpacity(),g&&this.getPane().appendChild(this._icon),this._initInteraction(),y&&D&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&c(this._icon,"focus",this._panOnFocus,this),Bt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Bt(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&jt(this._icon,o),this._shadow&&jt(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(Oe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),zl)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new zl(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&Fe(this._icon,o),this._shadow&&Fe(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var l=this.options.icon.options,d=l.iconSize?ze(l.iconSize):ze(0,0),g=l.iconAnchor?ze(l.iconAnchor):ze(0,0);o.panInside(this._latlng,{paddingTopLeft:g,paddingBottomRight:d.subtract(g)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var ni=Zn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return q(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),mn=ni.extend({options:{fill:!0,radius:10},initialize:function(o,l){q(this,l),this._latlng=bt(o),this._radius=this.options.radius},setLatLng:function(o){var l=this._latlng;return this._latlng=bt(o),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var l=o&&o.radius||this._radius;return ni.prototype.setStyle.call(this,o),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,l=this._radiusY||o,d=this._clickTolerance(),g=[o+d,l+d];this._pxBounds=new je(this._point.subtract(g),this._point.add(g))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var kt=mn.extend({initialize:function(o,l,d){if("number"==typeof l&&(l=S({},d,{radius:l})),q(this,l),this._latlng=bt(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new Qt(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:ni.prototype.setStyle,_project:function(){var o=this._latlng.lng,l=this._latlng.lat,d=this._map,g=d.options.crs;if(g.distance===wt.distance){var y=Math.PI/180,D=this._mRadius/wt.R/y,H=d.project([l+D,o]),ne=d.project([l-D,o]),oe=H.add(ne).divideBy(2),ye=d.unproject(oe).lat,xe=Math.acos((Math.cos(D*y)-Math.sin(l*y)*Math.sin(ye*y))/(Math.cos(l*y)*Math.cos(ye*y)))/y;(isNaN(xe)||0===xe)&&(xe=D/Math.cos(Math.PI/180*l)),this._point=oe.subtract(d.getPixelOrigin()),this._radius=isNaN(xe)?0:oe.x-d.project([ye,o-xe]).x,this._radiusY=oe.y-H.y}else{var rt=g.unproject(g.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(rt).x}this._updateBounds()}});var Jt=ni.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,l){q(this,l),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var y,D,l=1/0,d=null,g=ct,H=0,ne=this._parts.length;H<ne;H++)for(var oe=this._parts[H],ye=1,xe=oe.length;ye<xe;ye++){var rt=g(o,y=oe[ye-1],D=oe[ye],!0);rt<l&&(l=rt,d=g(o,y,D))}return d&&(d.distance=Math.sqrt(l)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return mo(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,l){return l=l||this._defaultShape(),o=bt(o),l.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new Qt,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return In(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var l=[],d=In(o),g=0,y=o.length;g<y;g++)d?(l[g]=bt(o[g]),this._bounds.extend(l[g])):l[g]=this._convertLatLngs(o[g]);return l},_project:function(){var o=new je;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),l=new Se(o,o);this._rawPxBounds&&(this._pxBounds=new je([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(o,l,d){var D,H,y=o.length;if(o[0]instanceof Lt){for(H=[],D=0;D<y;D++)H[D]=this._map.latLngToLayerPoint(o[D]),d.extend(H[D]);l.push(H)}else for(D=0;D<y;D++)this._projectLatlngs(o[D],l,d)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(o)){if(this.options.noClip)return void(this._parts=this._rings);var d,g,y,D,H,ne,oe,l=this._parts;for(d=0,y=0,D=this._rings.length;d<D;d++)for(g=0,H=(oe=this._rings[d]).length;g<H-1;g++)(ne=Ui(oe[g],oe[g+1],o,g,!0))&&(l[y]=l[y]||[],l[y].push(ne[0]),(ne[1]!==oe[g+1]||g===H-2)&&(l[y].push(ne[1]),y++))}},_simplifyPoints:function(){for(var o=this._parts,l=this.options.smoothFactor,d=0,g=o.length;d<g;d++)o[d]=Cs(o[d],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,l){var d,g,y,D,H,ne,oe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(d=0,D=this._parts.length;d<D;d++)for(g=0,y=(H=(ne=this._parts[d]).length)-1;g<H;y=g++)if((l||0!==g)&&qo(o,ne[y],ne[g])<=oe)return!0;return!1}});Jt._flat=Ds;var _n=Jt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return jl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var l=Jt.prototype._convertLatLngs.call(this,o),d=l.length;return d>=2&&l[0]instanceof Lt&&l[0].equals(l[d-1])&&l.pop(),l},_setLatLngs:function(o){Jt.prototype._setLatLngs.call(this,o),In(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return In(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,l=this.options.weight,d=new Se(l,l);if(o=new je(o.min.subtract(d),o.max.add(d)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(o)){if(this.options.noClip)return void(this._parts=this._rings);for(var D,g=0,y=this._rings.length;g<y;g++)(D=Bl(this._rings[g],o,!0)).length&&this._parts.push(D)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var d,g,y,D,H,ne,oe,ye,l=!1;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(D=0,oe=this._parts.length;D<oe;D++)for(H=0,ne=(ye=(d=this._parts[D]).length)-1;H<ye;ne=H++)(g=d[H]).y>o.y!=(y=d[ne]).y>o.y&&o.x<(y.x-g.x)*(o.y-g.y)/(y.y-g.y)+g.x&&(l=!l);return l||Jt.prototype._containsPoint.call(this,o,!0)}});var Ar=qn.extend({initialize:function(o,l){q(this,l),this._layers={},o&&this.addData(o)},addData:function(o){var d,g,y,l=J(o)?o:o.features;if(l){for(d=0,g=l.length;d<g;d++)((y=l[d]).geometries||y.geometry||y.features||y.coordinates)&&this.addData(y);return this}var D=this.options;if(D.filter&&!D.filter(o))return this;var H=Vi(o,D);return H?(H.feature=ln(o),H.defaultOptions=H.options,this.resetStyle(H),D.onEachFeature&&D.onEachFeature(o,H),this.addLayer(H)):this},resetStyle:function(o){return void 0===o?this.eachLayer(this.resetStyle,this):(o.options=S({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(l){this._setLayerStyle(l,o)},this)},_setLayerStyle:function(o,l){o.setStyle&&("function"==typeof l&&(l=l(o.feature)),o.setStyle(l))}});function Vi(o,l){var ne,oe,ye,xe,d="Feature"===o.type?o.geometry:o,g=d?d.coordinates:null,y=[],D=l&&l.pointToLayer,H=l&&l.coordsToLatLng||Ie;if(!g&&!d)return null;switch(d.type){case"Point":return Nr(D,o,ne=H(g),l);case"MultiPoint":for(ye=0,xe=g.length;ye<xe;ye++)ne=H(g[ye]),y.push(Nr(D,o,ne,l));return new qn(y);case"LineString":case"MultiLineString":return oe=st(g,"LineString"===d.type?0:1,H),new Jt(oe,l);case"Polygon":case"MultiPolygon":return oe=st(g,"Polygon"===d.type?1:2,H),new _n(oe,l);case"GeometryCollection":for(ye=0,xe=d.geometries.length;ye<xe;ye++){var rt=Vi({geometry:d.geometries[ye],type:"Feature",properties:o.properties},l);rt&&y.push(rt)}return new qn(y);case"FeatureCollection":for(ye=0,xe=d.features.length;ye<xe;ye++){var dt=Vi(d.features[ye],l);dt&&y.push(dt)}return new qn(y);default:throw new Error("Invalid GeoJSON object.")}}function Nr(o,l,d,g){return o?o(l,d):new Dr(d,g&&g.markersInheritOptions&&g)}function Ie(o){return new Lt(o[1],o[0],o[2])}function st(o,l,d){for(var H,g=[],y=0,D=o.length;y<D;y++)H=l?st(o[y],l-1,d):(d||Ie)(o[y]),g.push(H);return g}function qt(o,l){return void 0!==(o=bt(o)).alt?[ue(o.lng,l),ue(o.lat,l),ue(o.alt,l)]:[ue(o.lng,l),ue(o.lat,l)]}function jn(o,l,d,g){for(var y=[],D=0,H=o.length;D<H;D++)y.push(l?jn(o[D],In(o[D])?0:l-1,d,g):qt(o[D],g));return!l&&d&&y.push(y[0].slice()),y}function fr(o,l){return o.feature?S({},o.feature,{geometry:l}):ln(l)}function ln(o){return"Feature"===o.type||"FeatureCollection"===o.type?o:{type:"Feature",properties:{},geometry:o}}var wi={toGeoJSON:function(o){return fr(this,{type:"Point",coordinates:qt(this.getLatLng(),o)})}};function Xt(o,l){return new Ar(o,l)}Dr.include(wi),kt.include(wi),mn.include(wi),Jt.include({toGeoJSON:function(o){var l=!In(this._latlngs);return fr(this,{type:(l?"Multi":"")+"LineString",coordinates:jn(this._latlngs,l?1:0,!1,o)})}}),_n.include({toGeoJSON:function(o){var l=!In(this._latlngs),d=l&&!In(this._latlngs[0]),g=jn(this._latlngs,d?2:l?1:0,!0,o);return l||(g=[g]),fr(this,{type:(d?"Multi":"")+"Polygon",coordinates:g})}}),Hi.include({toMultiPoint:function(o){var l=[];return this.eachLayer(function(d){l.push(d.toGeoJSON(o).geometry.coordinates)}),fr(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(o){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===l)return this.toMultiPoint(o);var d="GeometryCollection"===l,g=[];return this.eachLayer(function(y){if(y.toGeoJSON){var D=y.toGeoJSON(o);if(d)g.push(D.geometry);else{var H=ln(D);"FeatureCollection"===H.type?g.push.apply(g,H.features):g.push(H)}}}),d?fr(this,{geometries:g,type:"GeometryCollection"}):{type:"FeatureCollection",features:g}}});var Ls=Xt,$i=Zn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,l,d){this._url=o,this._bounds=St(l),q(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Oe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Bt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&wr(this._image),this},bringToBack:function(){return this._map&&Et(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=St(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o="IMG"===this._url.tagName,l=this._image=o?this._url:Ge("img");Oe(l,"leaflet-image-layer"),this._zoomAnimated&&Oe(l,"leaflet-zoom-animated"),this.options.className&&Oe(l,this.options.className),l.onselectstart=re,l.onmousemove=re,l.onload=P(this.fire,this,"load"),l.onerror=P(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(l.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o?this._url=l.src:(l.src=this._url,l.alt=this.options.alt)},_animateZoom:function(o){var l=this._map.getZoomScale(o.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;Yr(this._image,d,l)},_reset:function(){var o=this._image,l=new je(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=l.getSize();jt(o,l.min),o.style.width=d.x+"px",o.style.height=d.y+"px"},_updateOpacity:function(){Fe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),Es=$i.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o="VIDEO"===this._url.tagName,l=this._image=o?this._url:Ge("video");if(Oe(l,"leaflet-image-layer"),this._zoomAnimated&&Oe(l,"leaflet-zoom-animated"),this.options.className&&Oe(l,this.options.className),l.onselectstart=re,l.onmousemove=re,l.onloadeddata=P(this.fire,this,"load"),o){for(var d=l.getElementsByTagName("source"),g=[],y=0;y<d.length;y++)g.push(d[y].src);this._url=d.length>0?g:[l.src]}else{J(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var D=0;D<this._url.length;D++){var H=Ge("source");H.src=this._url[D],l.appendChild(H)}}}});var Ea=$i.extend({_initImage:function(){var o=this._image=this._url;Oe(o,"leaflet-image-layer"),this._zoomAnimated&&Oe(o,"leaflet-zoom-animated"),this.options.className&&Oe(o,this.options.className),o.onselectstart=re,o.onmousemove=re}});var Vt=Zn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,l){o&&(o instanceof Lt||J(o))?(this._latlng=bt(o),q(this,l)):(q(this,o),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(o){return(o=arguments.length?o:this._source._map).hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&Fe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&Fe(this._container,1),this.bringToFront(),this.options.interactive&&(Oe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(Fe(this._container,0),this._removeTimeout=setTimeout(P(Bt,void 0,this._container),200)):Bt(this._container),this.options.interactive&&(Ht(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=bt(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&wr(this._container),this},bringToBack:function(){return this._map&&Et(this._container),this},_prepareOpen:function(o){var l=this._source;if(!l._map)return!1;if(l instanceof qn){l=null;var d=this._source._layers;for(var g in d)if(d[g]._map){l=d[g];break}if(!l)return!1;this._source=l}if(!o)if(l.getCenter)o=l.getCenter();else if(l.getLatLng)o=l.getLatLng();else{if(!l.getBounds)throw new Error("Unable to get source layer LatLng.");o=l.getBounds().getCenter()}return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,l="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof l)o.innerHTML=l;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),l=ze(this.options.offset),d=this._getAnchor();this._zoomAnimated?jt(this._container,o.add(d)):l=l.add(o).add(d);var g=this._containerBottom=-l.y,y=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=g+"px",this._container.style.left=y+"px"}},_getAnchor:function(){return[0,0]}});He.include({_initOverlay:function(o,l,d,g){var y=l;return y instanceof o||(y=new o(g).setContent(l)),d&&y.setLatLng(d),y}}),Zn.include({_initOverlay:function(o,l,d,g){var y=d;return y instanceof o?(q(y,g),y._source=this):(y=l&&!g?l:new o(g,this)).setContent(d),y}});var Ci=Vt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return!(o=arguments.length?o:this._source._map).hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,Vt.prototype.openOn.call(this,o)},onAdd:function(o){Vt.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ni||this._source.on("preclick",O))},onRemove:function(o){Vt.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ni||this._source.off("preclick",O))},getEvents:function(){var o=Vt.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",l=this._container=Ge("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=Ge("div",o+"-content-wrapper",l);if(this._contentNode=Ge("div",o+"-content",d),F(l),A(this._contentNode),lt(l,"contextmenu",O),this._tipContainer=Ge("div",o+"-tip-container",l),this._tip=Ge("div",o+"-tip",this._tipContainer),this.options.closeButton){var g=this._closeButton=Ge("a",o+"-close-button",l);g.setAttribute("role","button"),g.setAttribute("aria-label","Close popup"),g.href="#close",g.innerHTML='<span aria-hidden="true">&#215;</span>',lt(g,"click",function(y){U(y),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,l=o.style;l.width="",l.whiteSpace="nowrap";var d=o.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),l.width=d+1+"px",l.whiteSpace="",l.height="";var y=this.options.maxHeight,D="leaflet-popup-scrolled";y&&o.offsetHeight>y?(l.height=y+"px",Oe(o,D)):Ht(o,D),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),d=this._getAnchor();jt(this._container,l.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)return void(this._autopanning=!1);var o=this._map,l=parseInt(_i(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+l,g=this._containerWidth,y=new Se(this._containerLeft,-d-this._containerBottom);y._add(we(this._container));var D=o.layerPointToContainerPoint(y),H=ze(this.options.autoPanPadding),ne=ze(this.options.autoPanPaddingTopLeft||H),oe=ze(this.options.autoPanPaddingBottomRight||H),ye=o.getSize(),xe=0,rt=0;D.x+g+oe.x>ye.x&&(xe=D.x+g-ye.x+oe.x),D.x-xe-ne.x<0&&(xe=D.x-ne.x),D.y+d+oe.y>ye.y&&(rt=D.y+d-ye.y+oe.y),D.y-rt-ne.y<0&&(rt=D.y-ne.y),(xe||rt)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([xe,rt]))}},_getAnchor:function(){return ze(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});He.mergeOptions({closePopupOnClick:!0}),He.include({openPopup:function(o,l,d){return this._initOverlay(Ci,o,l,d).openOn(this),this},closePopup:function(o){return(o=arguments.length?o:this._popup)&&o.close(),this}}),Zn.include({bindPopup:function(o,l){return this._popup=this._initOverlay(Ci,this._popup,o,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof qn||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(this._popup&&this._map){te(o);var l=o.layer||o.target;if(this._popup._source===l&&!(l instanceof ni))return void(this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng));this._popup._source=l,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){13===o.originalEvent.keyCode&&this._openPopup(o)}});var Wn=Vt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){Vt.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){Vt.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=Vt.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){this._contentNode=this._container=Ge("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide")),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+j(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var l,d,g=this._map,y=this._container,D=g.latLngToContainerPoint(g.getCenter()),H=g.layerPointToContainerPoint(o),ne=this.options.direction,oe=y.offsetWidth,ye=y.offsetHeight,xe=ze(this.options.offset),rt=this._getAnchor();"top"===ne?(l=oe/2,d=ye):"bottom"===ne?(l=oe/2,d=0):"center"===ne?(l=oe/2,d=ye/2):"right"===ne?(l=0,d=ye/2):"left"===ne?(l=oe,d=ye/2):H.x<D.x?(ne="right",l=0,d=ye/2):(ne="left",l=oe+2*(xe.x+rt.x),d=ye/2),o=o.subtract(ze(l,d,!0)).add(xe).add(rt),Ht(y,"leaflet-tooltip-right"),Ht(y,"leaflet-tooltip-left"),Ht(y,"leaflet-tooltip-top"),Ht(y,"leaflet-tooltip-bottom"),Oe(y,"leaflet-tooltip-"+ne),jt(y,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&Fe(this._container,o)},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(l)},_getAnchor:function(){return ze(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});He.include({openTooltip:function(o,l,d){return this._initOverlay(Wn,o,l,d).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),Zn.include({bindTooltip:function(o,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Wn,this._tooltip,o,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(o||!this._tooltipHandlersAdded){var l=o?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[l](d),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof qn||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var l=o.getElement();l&&(lt(l,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),lt(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var l=o.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0))},_moveTooltip:function(o){var d,g,l=o.latlng;this._tooltip.options.sticky&&o.originalEvent&&(d=this._map.mouseEventToContainerPoint(o.originalEvent),g=this._map.containerPointToLayerPoint(d),l=this._map.layerPointToLatLng(g)),this._tooltip.setLatLng(l)}});var xa=ti.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var l=o&&"DIV"===o.tagName?o:document.createElement("div"),d=this.options;if(d.html instanceof Element?(ji(l),l.appendChild(d.html)):l.innerHTML=!1!==d.html?d.html:"",d.bgPos){var g=ze(d.bgPos);l.style.backgroundPosition=-g.x+"px "+-g.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});ti.Default=Ko;var xs=Zn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ue.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){q(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),Bt(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(wr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Et(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=B(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof Se?o:new Se(o,o)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var D,l=this.getPane().children,d=-o(-1/0,1/0),g=0,y=l.length;g<y;g++)D=l[g].style.zIndex,l[g]!==this._container&&D&&(d=o(d,+D));isFinite(d)&&(this.options.zIndex=d+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ue.ielt9){Fe(this._container,this.options.opacity);var o=+new Date,l=!1,d=!1;for(var g in this._tiles){var y=this._tiles[g];if(y.current&&y.loaded){var D=Math.min(1,(o-y.loaded)/200);Fe(y.el,D),D<1?l=!0:(y.active?d=!0:this._onOpaqueTile(y),y.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),l&&(Pe(this._fadeFrame),this._fadeFrame=ke(this._updateOpacity,this))}},_onOpaqueTile:re,_initContainer:function(){this._container||(this._container=Ge("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,l=this.options.maxZoom;if(void 0!==o){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===o?(this._levels[d].el.style.zIndex=l-Math.abs(o-d),this._onUpdateLevel(d)):(Bt(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var g=this._levels[o],y=this._map;return g||((g=this._levels[o]={}).el=Ge("div","leaflet-tile-container leaflet-zoom-animated",this._container),g.el.style.zIndex=l,g.origin=y.project(y.unproject(y.getPixelOrigin()),o).round(),g.zoom=o,this._setZoomTransform(g,y.getCenter(),y.getZoom()),this._onCreateLevel(g)),this._level=g,g}},_onUpdateLevel:re,_onRemoveLevel:re,_onCreateLevel:re,_pruneTiles:function(){if(this._map){var o,l,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom)return void this._removeAllTiles();for(o in this._tiles)(l=this._tiles[o]).retain=l.current;for(o in this._tiles)if((l=this._tiles[o]).current&&!l.active){var g=l.coords;this._retainParent(g.x,g.y,g.z,g.z-5)||this._retainChildren(g.x,g.y,g.z,g.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var l in this._tiles)this._tiles[l].coords.z===o&&this._removeTile(l)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)Bt(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,l,d,g){var y=Math.floor(o/2),D=Math.floor(l/2),H=d-1,ne=new Se(+y,+D);ne.z=+H;var oe=this._tileCoordsToKey(ne),ye=this._tiles[oe];return ye&&ye.active?(ye.retain=!0,!0):(ye&&ye.loaded&&(ye.retain=!0),H>g&&this._retainParent(y,D,H,g))},_retainChildren:function(o,l,d,g){for(var y=2*o;y<2*o+2;y++)for(var D=2*l;D<2*l+2;D++){var H=new Se(y,D);H.z=d+1;var ne=this._tileCoordsToKey(H),oe=this._tiles[ne];oe&&oe.active?oe.retain=!0:(oe&&oe.loaded&&(oe.retain=!0),d+1<g&&this._retainChildren(y,D,d+1,g))}},_resetView:function(o){var l=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var l=this.options;return void 0!==l.minNativeZoom&&o<l.minNativeZoom?l.minNativeZoom:void 0!==l.maxNativeZoom&&l.maxNativeZoom<o?l.maxNativeZoom:o},_setView:function(o,l,d,g){var y=Math.round(l);y=void 0!==this.options.maxZoom&&y>this.options.maxZoom||void 0!==this.options.minZoom&&y<this.options.minZoom?void 0:this._clampZoom(y),(!g||this.options.updateWhenZooming&&y!==this._tileZoom)&&(this._tileZoom=y,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==y&&this._update(o),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(o,l)},_setZoomTransforms:function(o,l){for(var d in this._levels)this._setZoomTransform(this._levels[d],o,l)},_setZoomTransform:function(o,l,d){var g=this._map.getZoomScale(d,o.zoom),y=o.origin.multiplyBy(g).subtract(this._map._getNewPixelOrigin(l,d)).round();Ue.any3d?Yr(o.el,y,g):jt(o.el,y)},_resetGrid:function(){var o=this._map,l=o.options.crs,d=this._tileSize=this.getTileSize(),g=this._tileZoom,y=this._map.getPixelWorldBounds(this._tileZoom);y&&(this._globalTileRange=this._pxBoundsToTileRange(y)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,l.wrapLng[0]],g).x/d.x),Math.ceil(o.project([0,l.wrapLng[1]],g).x/d.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([l.wrapLat[0],0],g).y/d.x),Math.ceil(o.project([l.wrapLat[1],0],g).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var l=this._map,d=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),g=l.getZoomScale(d,this._tileZoom),y=l.project(o,this._tileZoom).floor(),D=l.getSize().divideBy(2*g);return new je(y.subtract(D),y.add(D))},_update:function(o){var l=this._map;if(l){var d=this._clampZoom(l.getZoom());if(void 0===o&&(o=l.getCenter()),void 0!==this._tileZoom){var g=this._getTiledPixelBounds(o),y=this._pxBoundsToTileRange(g),D=y.getCenter(),H=[],ne=this.options.keepBuffer,oe=new je(y.getBottomLeft().subtract([ne,-ne]),y.getTopRight().add([ne,-ne]));if(!(isFinite(y.min.x)&&isFinite(y.min.y)&&isFinite(y.max.x)&&isFinite(y.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ye in this._tiles){var xe=this._tiles[ye].coords;(xe.z!==this._tileZoom||!oe.contains(new Se(xe.x,xe.y)))&&(this._tiles[ye].current=!1)}if(Math.abs(d-this._tileZoom)>1)return void this._setView(o,d);for(var rt=y.min.y;rt<=y.max.y;rt++)for(var dt=y.min.x;dt<=y.max.x;dt++){var Kn=new Se(dt,rt);if(Kn.z=this._tileZoom,this._isValidTile(Kn)){var Zi=this._tiles[this._tileCoordsToKey(Kn)];Zi?Zi.current=!0:H.push(Kn)}}if(H.sort(function(ri,ks){return ri.distanceTo(D)-ks.distanceTo(D)}),0!==H.length){this._loading||(this._loading=!0,this.fire("loading"));var Ss=document.createDocumentFragment();for(dt=0;dt<H.length;dt++)this._addTile(H[dt],Ss);this._level.el.appendChild(Ss)}}}},_isValidTile:function(o){var l=this._map.options.crs;if(!l.infinite){var d=this._globalTileRange;if(!l.wrapLng&&(o.x<d.min.x||o.x>d.max.x)||!l.wrapLat&&(o.y<d.min.y||o.y>d.max.y))return!1}if(!this.options.bounds)return!0;var g=this._tileCoordsToBounds(o);return St(this.options.bounds).overlaps(g)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var l=this._map,d=this.getTileSize(),g=o.scaleBy(d),y=g.add(d);return[l.unproject(g,o.z),l.unproject(y,o.z)]},_tileCoordsToBounds:function(o){var l=this._tileCoordsToNwSe(o),d=new Qt(l[0],l[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var l=o.split(":"),d=new Se(+l[0],+l[1]);return d.z=+l[2],d},_removeTile:function(o){var l=this._tiles[o];l&&(Bt(l.el),delete this._tiles[o],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Oe(o,"leaflet-tile");var l=this.getTileSize();o.style.width=l.x+"px",o.style.height=l.y+"px",o.onselectstart=re,o.onmousemove=re,Ue.ielt9&&this.options.opacity<1&&Fe(o,this.options.opacity)},_addTile:function(o,l){var d=this._getTilePos(o),g=this._tileCoordsToKey(o),y=this.createTile(this._wrapCoords(o),P(this._tileReady,this,o));this._initTile(y),this.createTile.length<2&&ke(P(this._tileReady,this,o,null,y)),jt(y,d),this._tiles[g]={el:y,coords:o,current:!0},l.appendChild(y),this.fire("tileloadstart",{tile:y,coords:o})},_tileReady:function(o,l,d){l&&this.fire("tileerror",{error:l,tile:d,coords:o});var g=this._tileCoordsToKey(o);(d=this._tiles[g])&&(d.loaded=+new Date,this._map._fadeAnimated?(Fe(d.el,0),Pe(this._fadeFrame),this._fadeFrame=ke(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),l||(Oe(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ue.ielt9||!this._map._fadeAnimated?ke(this._pruneTiles,this):setTimeout(P(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var l=new Se(this._wrapX?W(o.x,this._wrapX):o.x,this._wrapY?W(o.y,this._wrapY):o.y);return l.z=o.z,l},_pxBoundsToTileRange:function(o){var l=this.getTileSize();return new je(o.min.unscaleBy(l).floor(),o.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});var Gi=xs.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,l){this._url=o,(l=q(this,l)).detectRetina&&Ue.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),"string"==typeof l.subdomains&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,l){return this._url===o&&void 0===l&&(l=!0),this._url=o,l||this.redraw(),this},createTile:function(o,l){var d=document.createElement("img");return lt(d,"load",P(this._tileOnLoad,this,l,d)),lt(d,"error",P(this._tileOnError,this,l,d)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(d.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(o),d},getTileUrl:function(o){var l={r:Ue.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-o.y;this.options.tms&&(l.y=d),l["-y"]=d}return X(this._url,S(l,this.options))},_tileOnLoad:function(o,l){Ue.ielt9?setTimeout(P(o,this,null,l),0):o(null,l)},_tileOnError:function(o,l,d){var g=this.options.errorTileUrl;g&&l.getAttribute("src")!==g&&(l.src=g),o(d,l)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom;return this.options.zoomReverse&&(o=this.options.maxZoom-o),o+this.options.zoomOffset},_getSubdomain:function(o){var l=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var o,l;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&((l=this._tiles[o].el).onload=re,l.onerror=re,!l.complete)){l.src=G;var d=this._tiles[o].coords;Bt(l),delete this._tiles[o],this.fire("tileabort",{tile:l,coords:d})}},_removeTile:function(o){var l=this._tiles[o];if(l)return l.el.setAttribute("src",G),xs.prototype._removeTile.call(this,o)},_tileReady:function(o,l,d){if(this._map&&(!d||d.getAttribute("src")!==G))return xs.prototype._tileReady.call(this,o,l,d)}});function Xo(o,l){return new Gi(o,l)}var Qo=Gi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,l){this._url=o;var d=S({},this.defaultWmsParams);for(var g in l)g in this.options||(d[g]=l[g]);var y=(l=q(this,l)).detectRetina&&Ue.retina?2:1,D=this.getTileSize();d.width=D.x*y,d.height=D.y*y,this.wmsParams=d},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,Gi.prototype.onAdd.call(this,o)},getTileUrl:function(o){var l=this._tileCoordsToNwSe(o),d=this._crs,g=gt(d.project(l[0]),d.project(l[1])),y=g.min,D=g.max,H=(this._wmsVersion>=1.3&&this._crs===Wo?[y.y,y.x,D.y,D.x]:[y.x,y.y,D.x,D.y]).join(","),ne=Gi.prototype.getTileUrl.call(this,o);return ne+se(this.wmsParams,ne,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+H},setParams:function(o,l){return S(this.wmsParams,o),l||this.redraw(),this}});Gi.WMS=Qo,Xo.wms=function bo(o,l){return new Qo(o,l)};var Kt=Zn.extend({options:{padding:.1},initialize:function(o){q(this,o),j(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&Oe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,l){var d=this._map.getZoomScale(l,this._zoom),g=this._map.getSize().multiplyBy(.5+this.options.padding),y=this._map.project(this._center,l),D=g.multiplyBy(-d).add(y).subtract(this._map._getNewPixelOrigin(o,l));Ue.any3d?Yr(this._container,D,d):jt(this._container,D)},_reset:function(){for(var o in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,l=this._map.getSize(),d=this._map.containerPointToLayerPoint(l.multiplyBy(-o)).round();this._bounds=new je(d,d.add(l.multiplyBy(1+2*o)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Bc=Kt.extend({options:{tolerance:0},getEvents:function(){var o=Kt.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Kt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");lt(o,"mousemove",this._onMouseMove,this),lt(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),lt(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){Pe(this._redrawRequest),delete this._ctx,Bt(this._container),c(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var l in this._redrawBounds=null,this._layers)this._layers[l]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Kt.prototype._update.call(this);var o=this._bounds,l=this._container,d=o.getSize(),g=Ue.retina?2:1;jt(l,o.min),l.width=g*d.x,l.height=g*d.y,l.style.width=d.x+"px",l.style.height=d.y+"px",Ue.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){Kt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[j(o)]=o;var l=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var l=o._order,d=l.next,g=l.prev;d?d.prev=g:this._drawLast=g,g?g.next=d:this._drawFirst=d,delete o._order,delete this._layers[j(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if("string"==typeof o.options.dashArray){var g,y,l=o.options.dashArray.split(/[, ]+/),d=[];for(y=0;y<l.length;y++){if(g=Number(l[y]),isNaN(g))return;d.push(g)}o.options._dashArray=d}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||ke(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var l=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new je,this._redrawBounds.extend(o._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(o._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var l=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,l=this._redrawBounds;if(this._ctx.save(),l){var d=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var g=this._drawFirst;g;g=g.next)o=g.layer,(!l||o._pxBounds&&o._pxBounds.intersects(l))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,l){if(this._drawing){var d,g,y,D,H=o._parts,ne=H.length,oe=this._ctx;if(ne){for(oe.beginPath(),d=0;d<ne;d++){for(g=0,y=H[d].length;g<y;g++)oe[g?"lineTo":"moveTo"]((D=H[d][g]).x,D.y);l&&oe.closePath()}this._fillStroke(oe,o)}}},_updateCircle:function(o){if(this._drawing&&!o._empty()){var l=o._point,d=this._ctx,g=Math.max(Math.round(o._radius),1),y=(Math.max(Math.round(o._radiusY),1)||g)/g;1!==y&&(d.save(),d.scale(1,y)),d.beginPath(),d.arc(l.x,l.y/y,g,0,2*Math.PI,!1),1!==y&&d.restore(),this._fillStroke(d,o)}},_fillStroke:function(o,l){var d=l.options;d.fill&&(o.globalAlpha=d.fillOpacity,o.fillStyle=d.fillColor||d.color,o.fill(d.fillRule||"evenodd")),d.stroke&&0!==d.weight&&(o.setLineDash&&o.setLineDash(l.options&&l.options._dashArray||[]),o.globalAlpha=d.opacity,o.lineWidth=d.weight,o.strokeStyle=d.color,o.lineCap=d.lineCap,o.lineJoin=d.lineJoin,o.stroke())},_onClick:function(o){for(var d,g,l=this._map.mouseEventToLayerPoint(o),y=this._drawFirst;y;y=y.next)(d=y.layer).options.interactive&&d._containsPoint(l)&&("click"!==o.type&&"preclick"!==o.type||!this._map._draggableMoved(d))&&(g=d);this._fireEvent(!!g&&[g],o)},_onMouseMove:function(o){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var l=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,l)}},_handleMouseOut:function(o){var l=this._hoveredLayer;l&&(Ht(this._container,"leaflet-interactive"),this._fireEvent([l],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,l){if(!this._mouseHoverThrottled){for(var d,g,y=this._drawFirst;y;y=y.next)(d=y.layer).options.interactive&&d._containsPoint(l)&&(g=d);g!==this._hoveredLayer&&(this._handleMouseOut(o),g&&(Oe(this._container,"leaflet-interactive"),this._fireEvent([g],o,"mouseover"),this._hoveredLayer=g)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],o),this._mouseHoverThrottled=!0,setTimeout(P(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,l,d){this._map._fireDOMEvent(l,d||l.type,o)},_bringToFront:function(o){var l=o._order;if(l){var d=l.next,g=l.prev;if(!d)return;d.prev=g,g?g.next=d:d&&(this._drawFirst=d),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(o)}},_bringToBack:function(o){var l=o._order;if(l){var d=l.next,g=l.prev;if(!g)return;g.next=d,d?d.prev=g:g&&(this._drawLast=g),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(o)}}});function zn(o){return Ue.canvas?new Bc(o):null}var Rn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ka={_initContainer:function(){this._container=Ge("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Kt.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var l=o._container=Rn("shape");Oe(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",o._path=Rn("path"),l.appendChild(o._path),this._updateStyle(o),this._layers[j(o)]=o},_addPath:function(o){var l=o._container;this._container.appendChild(l),o.options.interactive&&o.addInteractiveTarget(l)},_removePath:function(o){var l=o._container;Bt(l),o.removeInteractiveTarget(l),delete this._layers[j(o)]},_updateStyle:function(o){var l=o._stroke,d=o._fill,g=o.options,y=o._container;y.stroked=!!g.stroke,y.filled=!!g.fill,g.stroke?(l||(l=o._stroke=Rn("stroke")),y.appendChild(l),l.weight=g.weight+"px",l.color=g.color,l.opacity=g.opacity,l.dashStyle=g.dashArray?J(g.dashArray)?g.dashArray.join(" "):g.dashArray.replace(/( *, *)/g," "):"",l.endcap=g.lineCap.replace("butt","flat"),l.joinstyle=g.lineJoin):l&&(y.removeChild(l),o._stroke=null),g.fill?(d||(d=o._fill=Rn("fill")),y.appendChild(d),d.color=g.fillColor||g.color,d.opacity=g.fillOpacity):d&&(y.removeChild(d),o._fill=null)},_updateCircle:function(o){var l=o._point.round(),d=Math.round(o._radius),g=Math.round(o._radiusY||d);this._setPath(o,o._empty()?"M0 0":"AL "+l.x+","+l.y+" "+d+","+g+" 0,23592600")},_setPath:function(o,l){o._path.v=l},_bringToFront:function(o){wr(o._container)},_bringToBack:function(o){Et(o._container)}},Mi=Ue.vml?Rn:No,Di=Kt.extend({_initContainer:function(){this._container=Mi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Mi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Bt(this._container),c(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){Kt.prototype._update.call(this);var o=this._bounds,l=o.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,d.setAttribute("width",l.x),d.setAttribute("height",l.y)),jt(d,o.min),d.setAttribute("viewBox",[o.min.x,o.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(o){var l=o._path=Mi("path");o.options.className&&Oe(l,o.options.className),o.options.interactive&&Oe(l,"leaflet-interactive"),this._updateStyle(o),this._layers[j(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){Bt(o._path),o.removeInteractiveTarget(o._path),delete this._layers[j(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var l=o._path,d=o.options;l&&(d.stroke?(l.setAttribute("stroke",d.color),l.setAttribute("stroke-opacity",d.opacity),l.setAttribute("stroke-width",d.weight),l.setAttribute("stroke-linecap",d.lineCap),l.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?l.setAttribute("stroke-dasharray",d.dashArray):l.removeAttribute("stroke-dasharray"),d.dashOffset?l.setAttribute("stroke-dashoffset",d.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),d.fill?(l.setAttribute("fill",d.fillColor||d.color),l.setAttribute("fill-opacity",d.fillOpacity),l.setAttribute("fill-rule",d.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(o,l){this._setPath(o,Ai(o._parts,l))},_updateCircle:function(o){var l=o._point,d=Math.max(Math.round(o._radius),1),y="a"+d+","+(Math.max(Math.round(o._radiusY),1)||d)+" 0 1,0 ",D=o._empty()?"M0 0":"M"+(l.x-d)+","+l.y+y+2*d+",0 "+y+2*-d+",0 ";this._setPath(o,D)},_setPath:function(o,l){o._path.setAttribute("d",l)},_bringToFront:function(o){wr(o._path)},_bringToBack:function(o){Et(o._path)}});function pr(o){return Ue.svg||Ue.vml?new Di(o):null}Ue.vml&&Di.include(ka),He.include({getRenderer:function(o){var l=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(o){if("overlayPane"===o||void 0===o)return!1;var l=this._paneRenderers[o];return void 0===l&&(l=this._createRenderer({pane:o}),this._paneRenderers[o]=l),l},_createRenderer:function(o){return this.options.preferCanvas&&zn(o)||pr(o)}});var Hl=_n.extend({initialize:function(o,l){_n.prototype.initialize.call(this,this._boundsToLatLngs(o),l)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return[(o=St(o)).getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});Di.create=Mi,Di.pointsToPath=Ai,Ar.geometryToLayer=Vi,Ar.coordsToLatLng=Ie,Ar.coordsToLatLngs=st,Ar.latLngToCoords=qt,Ar.latLngsToCoords=jn,Ar.getFeature=fr,Ar.asFeature=ln,He.mergeOptions({boxZoom:!0});var Vl=Mr.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){lt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){c(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Bt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||1!==o.which&&1!==o.button)return!1;this._clearDeferredResetState(),this._resetState(),Rr(),fo(),this._startPoint=this._map.mouseEventToContainerPoint(o),lt(document,{contextmenu:te,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=Ge("div","leaflet-zoom-box",this._container),Oe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var l=new je(this._point,this._startPoint),d=l.getSize();jt(this._box,l.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(Bt(this._box),Ht(this._container,"leaflet-crosshair")),Je(),$o(),c(document,{contextmenu:te,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if((1===o.which||1===o.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(P(this._resetState,this),0);var l=new Qt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(o){27===o.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});He.addInitHook("addHandler","boxZoom",Vl),He.mergeOptions({doubleClickZoom:!0});var $l=Mr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var l=this._map,d=l.getZoom(),g=l.options.zoomDelta,y=o.originalEvent.shiftKey?d-g:d+g;"center"===l.options.doubleClickZoom?l.setZoom(y):l.setZoomAround(o.containerPoint,y)}});He.addInitHook("addHandler","doubleClickZoom",$l),He.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var jc=Mr.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new cr(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Oe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ht(this._map._container,"leaflet-grab"),Ht(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=St(this._map.options.maxBounds);this._offsetLimit=gt(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var l=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(l),this._prunePositions(l)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,l){return o-(o-l)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var o=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;o.x<l.min.x&&(o.x=this._viscousLimit(o.x,l.min.x)),o.y<l.min.y&&(o.y=this._viscousLimit(o.y,l.min.y)),o.x>l.max.x&&(o.x=this._viscousLimit(o.x,l.max.x)),o.y>l.max.y&&(o.y=this._viscousLimit(o.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,l=Math.round(o/2),d=this._initialWorldOffset,g=this._draggable._newPos.x,y=(g-l+d)%o+l-d,D=(g+l+d)%o-l-d,H=Math.abs(y+d)<Math.abs(D+d)?y:D;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=H},_onDragEnd:function(o){var l=this._map,d=l.options,g=!d.inertia||o.noInertia||this._times.length<2;if(l.fire("dragend",o),g)l.fire("moveend");else{this._prunePositions(+new Date);var y=this._lastPos.subtract(this._positions[0]),H=d.easeLinearity,ne=y.multiplyBy(H/((this._lastTime-this._times[0])/1e3)),oe=ne.distanceTo([0,0]),ye=Math.min(d.inertiaMaxSpeed,oe),xe=ne.multiplyBy(ye/oe),rt=ye/(d.inertiaDeceleration*H),dt=xe.multiplyBy(-rt/2).round();dt.x||dt.y?(dt=l._limitOffset(dt,l.options.maxBounds),ke(function(){l.panBy(dt,{duration:rt,easeLinearity:H,noMoveStart:!0,animate:!0})})):l.fire("moveend")}}});He.addInitHook("addHandler","dragging",jc),He.mergeOptions({keyboard:!0,keyboardPanDelta:80});var zc=Mr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),lt(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),c(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,l=document.documentElement,d=o.scrollTop||l.scrollTop,g=o.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(g,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var g,y,l=this._panKeys={},d=this.keyCodes;for(g=0,y=d.left.length;g<y;g++)l[d.left[g]]=[-1*o,0];for(g=0,y=d.right.length;g<y;g++)l[d.right[g]]=[o,0];for(g=0,y=d.down.length;g<y;g++)l[d.down[g]]=[0,o];for(g=0,y=d.up.length;g<y;g++)l[d.up[g]]=[0,-1*o]},_setZoomDelta:function(o){var g,y,l=this._zoomKeys={},d=this.keyCodes;for(g=0,y=d.zoomIn.length;g<y;g++)l[d.zoomIn[g]]=o;for(g=0,y=d.zoomOut.length;g<y;g++)l[d.zoomOut[g]]=-o},_addHooks:function(){lt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){c(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var g,l=o.keyCode,d=this._map;if(l in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(g=this._panKeys[l],o.shiftKey&&(g=ze(g).multiplyBy(3)),d.options.maxBounds&&(g=d._limitOffset(ze(g),d.options.maxBounds)),d.options.worldCopyJump){var y=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(g)));d.panTo(y)}else d.panBy(g)}else if(l in this._zoomKeys)d.setZoom(d.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[l]);else{if(27!==l||!d._popup||!d._popup.options.closeOnEscapeKey)return;d.closePopup()}te(o)}}});He.addInitHook("addHandler","keyboard",zc),He.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Uc=Mr.extend({addHooks:function(){lt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){c(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var l=Ee(o),d=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var g=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(P(this._performZoom,this),g),te(o)},_performZoom:function(){var o=this._map,l=o.getZoom(),d=this._map.options.zoomSnap||0;o._stop();var y=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,D=d?Math.ceil(y/d)*d:y,H=o._limitZoom(l+(this._delta>0?D:-D))-l;this._delta=0,this._startTime=null,H&&("center"===o.options.scrollWheelZoom?o.setZoom(l+H):o.setZoomAround(this._lastMousePos,l+H))}});He.addInitHook("addHandler","scrollWheelZoom",Uc);He.mergeOptions({tapHold:Ue.touchNative&&Ue.safari&&Ue.mobile,tapTolerance:15});var Hc=Mr.extend({addHooks:function(){lt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){c(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),1===o.touches.length){var l=o.touches[0];this._startPos=this._newPos=new Se(l.clientX,l.clientY),this._holdTimeout=setTimeout(P(function(){this._cancel(),this._isTapValid()&&(lt(document,"touchend",U),lt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),600),lt(document,"touchend touchcancel contextmenu",this._cancel,this),lt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){c(document,"touchend",U),c(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),c(document,"touchend touchcancel contextmenu",this._cancel,this),c(document,"touchmove",this._onMove,this)},_onMove:function(o){var l=o.touches[0];this._newPos=new Se(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,l){var d=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});d._simulated=!0,l.target.dispatchEvent(d)}});He.addInitHook("addHandler","tapHold",Hc),He.mergeOptions({touchZoom:Ue.touch,bounceAtZoomLimits:!0});var Vc=Mr.extend({addHooks:function(){Oe(this._map._container,"leaflet-touch-zoom"),lt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ht(this._map._container,"leaflet-touch-zoom"),c(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var l=this._map;if(o.touches&&2===o.touches.length&&!l._animatingZoom&&!this._zooming){var d=l.mouseEventToContainerPoint(o.touches[0]),g=l.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),"center"!==l.options.touchZoom&&(this._pinchStartLatLng=l.containerPointToLatLng(d.add(g)._divideBy(2))),this._startDist=d.distanceTo(g),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),lt(document,"touchmove",this._onTouchMove,this),lt(document,"touchend touchcancel",this._onTouchEnd,this),U(o)}},_onTouchMove:function(o){if(o.touches&&2===o.touches.length&&this._zooming){var l=this._map,d=l.mouseEventToContainerPoint(o.touches[0]),g=l.mouseEventToContainerPoint(o.touches[1]),y=d.distanceTo(g)/this._startDist;if(this._zoom=l.getScaleZoom(y,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&y<1||this._zoom>l.getMaxZoom()&&y>1)&&(this._zoom=l._limitZoom(this._zoom)),"center"===l.options.touchZoom){if(this._center=this._startLatLng,1===y)return}else{var D=d._add(g)._divideBy(2)._subtract(this._centerPoint);if(1===y&&0===D.x&&0===D.y)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(D),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),Pe(this._animRequest);var H=P(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ke(H,this,!0),U(o)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,Pe(this._animRequest),c(document,"touchmove",this._onTouchMove,this),c(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});He.addInitHook("addHandler","touchZoom",Vc),He.BoxZoom=Vl,He.DoubleClickZoom=$l,He.Drag=jc,He.Keyboard=zc,He.ScrollWheelZoom=Uc,He.TapHold=Hc,He.TouchZoom=Vc,ve.Bounds=je,ve.Browser=Ue,ve.CRS=Tt,ve.Canvas=Bc,ve.Circle=kt,ve.CircleMarker=mn,ve.Class=at,ve.Control=Rt,ve.DivIcon=xa,ve.DivOverlay=Vt,ve.DomEvent=ut,ve.DomUtil=Al,ve.Draggable=cr,ve.Evented=At,ve.FeatureGroup=qn,ve.GeoJSON=Ar,ve.GridLayer=xs,ve.Handler=Mr,ve.Icon=ti,ve.ImageOverlay=$i,ve.LatLng=Lt,ve.LatLngBounds=Qt,ve.Layer=Zn,ve.LayerGroup=Hi,ve.LineUtil=Oc,ve.Map=He,ve.Marker=Dr,ve.Mixin=Dp,ve.Path=ni,ve.Point=Se,ve.PolyUtil=Xr,ve.Polygon=_n,ve.Polyline=Jt,ve.Popup=Ci,ve.PosAnimation=Nt,ve.Projection=Qr,ve.Rectangle=Hl,ve.Renderer=Kt,ve.SVG=Di,ve.SVGOverlay=Ea,ve.TileLayer=Gi,ve.Tooltip=Wn,ve.Transformation=Gr,ve.Util=Ae,ve.VideoOverlay=Es,ve.bind=P,ve.bounds=gt,ve.canvas=zn,ve.circle=function Sn(o,l,d){return new kt(o,l,d)},ve.circleMarker=function Bn(o,l){return new mn(o,l)},ve.control=rn,ve.divIcon=function $t(o){return new xa(o)},ve.extend=S,ve.featureGroup=function(o,l){return new qn(o,l)},ve.geoJSON=Xt,ve.geoJson=Ls,ve.gridLayer=function Sa(o){return new xs(o)},ve.icon=function Nc(o){return new ti(o)},ve.imageOverlay=function(o,l,d){return new $i(o,l,d)},ve.latLng=bt,ve.latLngBounds=St,ve.layerGroup=function(o,l){return new Hi(o,l)},ve.map=function It(o,l){return new He(o,l)},ve.marker=function Fc(o,l){return new Dr(o,l)},ve.point=ze,ve.polygon=function Ul(o,l){return new _n(o,l)},ve.polyline=function _o(o,l){return new Jt(o,l)},ve.popup=function(o,l){return new Ci(o,l)},ve.rectangle=function Lp(o,l){return new Hl(o,l)},ve.setOptions=q,ve.stamp=j,ve.svg=pr,ve.svgOverlay=function yo(o,l,d){return new Ea(o,l,d)},ve.tileLayer=Xo,ve.tooltip=function(o,l){return new Wn(o,l)},ve.transformation=Zr,ve.version="1.9.3",ve.videoOverlay=function Yo(o,l,d){return new Es(o,l,d)};var xp=window.L;ve.noConflict=function(){return window.L=xp,this},window.L=ve}(Ao)}},ps=>{ps(ps.s=487)}]);